/* ===========================================
   AEDELORE - Dark Premium + Color Design System
   Version 3.1 - Modern dark with vibrant accents
   =========================================== */

:root {
    /* Core Colors - Dark Premium */
    --bg-base: #0a0a0f;
    --bg-elevated: #0f0f18;
    --bg-surface: #141420;
    --bg-surface-hover: #1a1a2e;
    --bg-highlight: #252538;
    --bg-press: #2a2a40;

    /* Text Colors */
    --text-base: #ffffff;
    --text-subdued: #b0b0c0;
    --text-muted: #6a6a80;

    /* Primary Accent - Gold */
    --accent-primary: #f0c040;
    --accent-primary-hover: #ffd666;
    --accent-primary-glow: rgba(240, 192, 64, 0.3);

    /* Secondary Colors - Vibrant */
    --accent-green: #22d97f;
    --accent-green-hover: #2ee88c;
    --accent-green-glow: rgba(34, 217, 127, 0.25);
    --accent-green-10: rgba(34, 217, 127, 0.1);
    --accent-green-15: rgba(34, 217, 127, 0.15);
    --accent-green-20: rgba(34, 217, 127, 0.2);
    --accent-green-30: rgba(34, 217, 127, 0.3);
    --accent-green-35: rgba(34, 217, 127, 0.35);
    --accent-green-40: rgba(34, 217, 127, 0.4);

    --accent-blue: #3b9eff;
    --accent-blue-glow: rgba(59, 158, 255, 0.25);
    --accent-blue-08: rgba(59, 158, 255, 0.08);
    --accent-blue-10: rgba(59, 158, 255, 0.1);
    --accent-blue-15: rgba(59, 158, 255, 0.15);
    --accent-blue-20: rgba(59, 158, 255, 0.2);
    --accent-blue-30: rgba(59, 158, 255, 0.3);
    --accent-blue-35: rgba(59, 158, 255, 0.35);
    --accent-blue-40: rgba(59, 158, 255, 0.4);

    --accent-purple: #a855f7;
    --accent-purple-glow: rgba(168, 85, 247, 0.25);
    --accent-purple-04: rgba(168, 85, 247, 0.04);
    --accent-purple-05: rgba(168, 85, 247, 0.05);
    --accent-purple-08: rgba(168, 85, 247, 0.08);
    --accent-purple-10: rgba(168, 85, 247, 0.1);
    --accent-purple-12: rgba(168, 85, 247, 0.12);
    --accent-purple-15: rgba(168, 85, 247, 0.15);
    --accent-purple-20: rgba(168, 85, 247, 0.2);
    --accent-purple-30: rgba(168, 85, 247, 0.3);
    --accent-purple-35: rgba(168, 85, 247, 0.35);
    --accent-purple-40: rgba(168, 85, 247, 0.4);

    --accent-red: #ff5757;
    --accent-red-glow: rgba(255, 87, 87, 0.25);
    --accent-red-10: rgba(255, 87, 87, 0.1);
    --accent-red-20: rgba(255, 87, 87, 0.2);
    --accent-red-35: rgba(255, 87, 87, 0.35);
    --accent-red-40: rgba(255, 87, 87, 0.4);

    --accent-amber: #f59e0b;
    --accent-amber-20: rgba(245, 158, 11, 0.2);
    --accent-amber-35: rgba(245, 158, 11, 0.35);
    --accent-amber-40: rgba(245, 158, 11, 0.4);

    /* Gold variants (based on --accent-primary #f0c040) */
    --accent-gold-08: rgba(240, 192, 64, 0.08);
    --accent-gold-10: rgba(240, 192, 64, 0.1);
    --accent-gold-20: rgba(240, 192, 64, 0.2);
    --accent-gold-30: rgba(240, 192, 64, 0.3);
    --accent-gold-40: rgba(240, 192, 64, 0.4);

    /* Green variants (missing) */
    --accent-green-08: rgba(34, 217, 127, 0.08);

    --accent-cyan: #22d3ee;
    --accent-cyan-glow: rgba(34, 211, 238, 0.25);

    /* Gradient colors for theme compatibility */
    --gradient-start: var(--accent-purple);
    --gradient-end: var(--accent-blue);
    --gradient-tertiary: var(--accent-cyan);
    --header-gradient-start: var(--accent-purple-15);
    --header-gradient-end: var(--accent-blue-10);
    --header-gradient-hover-start: var(--accent-purple-glow);
    --header-gradient-hover-end: var(--accent-blue-15);
    --button-gradient-start: var(--accent-purple-30);
    --button-gradient-end: var(--accent-blue-20);

    /* Legacy aliases for inline styles */
    --accent-secondary: var(--accent-green);
    --primary-purple: var(--accent-purple);
    --primary-blue: var(--accent-blue);
    --primary-green: var(--accent-green);
    --accent-gold: var(--accent-primary);
    --text-secondary: var(--text-subdued);
    --text-primary: var(--text-base);

    /* Borders - with color hints */
    --border-subtle: rgba(255, 255, 255, 0.08);
    --border-default: rgba(255, 255, 255, 0.12);
    --border-strong: rgba(255, 255, 255, 0.18);
    --border-gold: rgba(240, 192, 64, 0.4);
    --border-purple: var(--accent-purple-40);
    --border-blue: var(--accent-blue-40);
    --border-accent: var(--accent-primary-glow);

    /* Spacing */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;

    /* Typography */
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 2rem;

    /* Radius */
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
    --radius-xl: 12px;
    --radius-full: 9999px;

    /* Transitions */
    --transition-fast: 100ms ease;
    --transition-base: 200ms ease;

    /* Glass effect variables (used by Dark Glass theme) */
    --glass-bg: transparent;
    --glass-blur: 0;
    --glass-border: var(--border-subtle);
}

/* ===========================================
   THEME: Dark Glass
   Premium dark with silver frames and gold accents
   =========================================== */
[data-theme="dark-glass"] {
    /* Pure black/charcoal background */
    --bg-base: #050508;
    --bg-elevated: rgba(255, 255, 255, 0.03);
    --bg-surface: rgba(255, 255, 255, 0.05);
    --bg-surface-hover: rgba(255, 255, 255, 0.08);
    --bg-highlight: rgba(255, 255, 255, 0.10);
    --bg-press: rgba(255, 255, 255, 0.12);

    /* Text: White to silver */
    --text-base: #ffffff;
    --text-subdued: #c0c0c0;
    --text-muted: #808080;

    /* Primary accent: Bright Gold */
    --accent-primary: #ffc942;
    --accent-primary-hover: #ffd866;
    --accent-primary-glow: rgba(255, 201, 66, 0.5);

    /* Green: Vibrant emerald */
    --accent-green: #00e676;
    --accent-green-hover: #69f0ae;
    --accent-green-glow: rgba(0, 230, 118, 0.5);
    --accent-green-10: rgba(0, 230, 118, 0.15);
    --accent-green-15: rgba(0, 230, 118, 0.2);
    --accent-green-20: rgba(0, 230, 118, 0.25);
    --accent-green-30: rgba(0, 230, 118, 0.35);
    --accent-green-35: rgba(0, 230, 118, 0.4);
    --accent-green-40: rgba(0, 230, 118, 0.5);

    /* Blue: Bright electric blue for Willpower */
    --accent-blue: #40c4ff;
    --accent-blue-glow: rgba(64, 196, 255, 0.5);
    --accent-blue-08: rgba(64, 196, 255, 0.12);
    --accent-blue-10: rgba(64, 196, 255, 0.15);
    --accent-blue-15: rgba(64, 196, 255, 0.2);
    --accent-blue-20: rgba(64, 196, 255, 0.25);
    --accent-blue-30: rgba(64, 196, 255, 0.35);
    --accent-blue-35: rgba(64, 196, 255, 0.4);
    --accent-blue-40: rgba(64, 196, 255, 0.5);

    /* Purple: Vibrant violet for Arcana */
    --accent-purple: #b388ff;
    --accent-purple-glow: rgba(179, 136, 255, 0.5);
    --accent-purple-04: rgba(179, 136, 255, 0.06);
    --accent-purple-05: rgba(179, 136, 255, 0.08);
    --accent-purple-08: rgba(179, 136, 255, 0.12);
    --accent-purple-10: rgba(179, 136, 255, 0.15);
    --accent-purple-12: rgba(179, 136, 255, 0.18);
    --accent-purple-15: rgba(179, 136, 255, 0.2);
    --accent-purple-20: rgba(179, 136, 255, 0.25);
    --accent-purple-30: rgba(179, 136, 255, 0.35);
    --accent-purple-35: rgba(179, 136, 255, 0.4);
    --accent-purple-40: rgba(179, 136, 255, 0.5);

    /* Red: Bright crimson for HP */
    --accent-red: #ff5252;
    --accent-red-glow: rgba(255, 82, 82, 0.5);
    --accent-red-10: rgba(255, 82, 82, 0.15);
    --accent-red-20: rgba(255, 82, 82, 0.25);
    --accent-red-35: rgba(255, 82, 82, 0.4);
    --accent-red-40: rgba(255, 82, 82, 0.5);

    /* Amber: Bright gold */
    --accent-amber: #ffab00;
    --accent-amber-20: rgba(255, 171, 0, 0.25);
    --accent-amber-35: rgba(255, 171, 0, 0.4);
    --accent-amber-40: rgba(255, 171, 0, 0.5);

    /* Cyan: Bright cyan */
    --accent-cyan: #18ffff;
    --accent-cyan-glow: rgba(24, 255, 255, 0.5);

    /* Gradients: Bright Gold to Silver */
    --gradient-start: #ffc942;
    --gradient-end: #c0c0c0;
    --gradient-tertiary: #e0e0e0;
    --header-gradient-start: rgba(255, 201, 66, 0.15);
    --header-gradient-end: rgba(192, 192, 192, 0.1);
    --header-gradient-hover-start: rgba(255, 201, 66, 0.25);
    --header-gradient-hover-end: rgba(192, 192, 192, 0.2);
    --button-gradient-start: rgba(255, 201, 66, 0.3);
    --button-gradient-end: rgba(192, 192, 192, 0.2);

    /* Borders: Brighter silver tones */
    --border-subtle: rgba(192, 192, 192, 0.15);
    --border-default: rgba(192, 192, 192, 0.25);
    --border-strong: rgba(192, 192, 192, 0.4);
    --border-gold: rgba(255, 201, 66, 0.6);
    --border-purple: rgba(179, 136, 255, 0.5);
    --border-blue: rgba(143, 175, 196, 0.4);

    /* Glass effect: Dark with silver edge */
    --glass-bg: rgba(20, 20, 25, 0.7);
    --glass-blur: 20px;
    --glass-border: rgba(192, 192, 192, 0.15);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.5), 0 0 1px rgba(192, 192, 192, 0.3);
    --glass-inset: inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

/* ===========================================
   THEME: Midnight Blue
   Elegant and mysterious, moonlight on water
   =========================================== */
[data-theme="midnight"] {
    --bg-base: #0a1628;
    --bg-elevated: #0f1f35;
    --bg-surface: #152845;
    --bg-surface-hover: #1a3155;
    --bg-highlight: #203a65;
    --bg-press: #254575;

    --text-base: #e8f0ff;
    --text-subdued: #a0b4d4;
    --text-muted: #6080a8;

    --accent-primary: #c0d8ff;
    --accent-primary-hover: #d8e8ff;
    --accent-primary-glow: rgba(192, 216, 255, 0.3);

    --accent-green: #50d890;
    --accent-green-hover: #70e8a8;
    --accent-green-glow: rgba(80, 216, 144, 0.25);
    --accent-green-10: rgba(80, 216, 144, 0.1);
    --accent-green-15: rgba(80, 216, 144, 0.15);
    --accent-green-20: rgba(80, 216, 144, 0.2);
    --accent-green-30: rgba(80, 216, 144, 0.3);
    --accent-green-35: rgba(80, 216, 144, 0.35);
    --accent-green-40: rgba(80, 216, 144, 0.4);

    --accent-blue: #60a0ff;
    --accent-blue-glow: rgba(96, 160, 255, 0.25);
    --accent-blue-08: rgba(96, 160, 255, 0.08);
    --accent-blue-10: rgba(96, 160, 255, 0.1);
    --accent-blue-15: rgba(96, 160, 255, 0.15);
    --accent-blue-20: rgba(96, 160, 255, 0.2);
    --accent-blue-30: rgba(96, 160, 255, 0.3);
    --accent-blue-35: rgba(96, 160, 255, 0.35);
    --accent-blue-40: rgba(96, 160, 255, 0.4);

    --accent-purple: #a080ff;
    --accent-purple-glow: rgba(160, 128, 255, 0.25);
    --accent-purple-04: rgba(160, 128, 255, 0.04);
    --accent-purple-05: rgba(160, 128, 255, 0.05);
    --accent-purple-08: rgba(160, 128, 255, 0.08);
    --accent-purple-10: rgba(160, 128, 255, 0.1);
    --accent-purple-12: rgba(160, 128, 255, 0.12);
    --accent-purple-15: rgba(160, 128, 255, 0.15);
    --accent-purple-20: rgba(160, 128, 255, 0.2);
    --accent-purple-30: rgba(160, 128, 255, 0.3);
    --accent-purple-35: rgba(160, 128, 255, 0.35);
    --accent-purple-40: rgba(160, 128, 255, 0.4);

    --accent-red: #ff6080;
    --accent-red-glow: rgba(255, 96, 128, 0.25);
    --accent-red-10: rgba(255, 96, 128, 0.1);
    --accent-red-20: rgba(255, 96, 128, 0.2);
    --accent-red-35: rgba(255, 96, 128, 0.35);
    --accent-red-40: rgba(255, 96, 128, 0.4);

    --accent-amber: #ffa050;
    --accent-amber-20: rgba(255, 160, 80, 0.2);
    --accent-amber-35: rgba(255, 160, 80, 0.35);
    --accent-amber-40: rgba(255, 160, 80, 0.4);

    --accent-cyan: #60d8e8;
    --accent-cyan-glow: rgba(96, 216, 232, 0.25);

    --gradient-start: var(--accent-blue);
    --gradient-end: var(--accent-purple);
    --gradient-tertiary: var(--accent-cyan);
    --header-gradient-start: rgba(96, 160, 255, 0.15);
    --header-gradient-end: rgba(160, 128, 255, 0.1);
    --header-gradient-hover-start: rgba(96, 160, 255, 0.25);
    --header-gradient-hover-end: rgba(160, 128, 255, 0.15);
    --button-gradient-start: rgba(96, 160, 255, 0.3);
    --button-gradient-end: rgba(160, 128, 255, 0.2);

    --border-subtle: rgba(192, 216, 255, 0.08);
    --border-default: rgba(192, 216, 255, 0.12);
    --border-strong: rgba(192, 216, 255, 0.2);
    --border-gold: rgba(192, 216, 255, 0.4);
    --border-purple: var(--accent-purple-40);
    --border-blue: rgba(96, 160, 255, 0.4);

    --glass-bg: transparent;
    --glass-blur: 0;
    --glass-border: var(--border-subtle);
}

/* Midnight Blue glow effects */
[data-theme="midnight"] .status-hp .status-value {
    color: #ff6080;
    text-shadow: 0 0 10px rgba(255, 96, 128, 0.7);
}

[data-theme="midnight"] .status-arcana .status-value {
    color: #a080ff;
    text-shadow: 0 0 10px rgba(160, 128, 255, 0.7);
}

[data-theme="midnight"] .status-willpower .status-value {
    color: #60a0ff;
    text-shadow: 0 0 10px rgba(96, 160, 255, 0.7);
}

[data-theme="midnight"] .status-worthiness .status-value {
    color: #ffa050;
    text-shadow: 0 0 10px rgba(255, 160, 80, 0.7);
}

[data-theme="midnight"] .stat-hp {
    border-left-color: #ff6080;
    box-shadow: inset 3px 0 15px -5px rgba(255, 96, 128, 0.4);
}

[data-theme="midnight"] .stat-arcana {
    border-left-color: #a080ff;
    box-shadow: inset 3px 0 15px -5px rgba(160, 128, 255, 0.4);
}

[data-theme="midnight"] .stat-will {
    border-left-color: #60a0ff;
    box-shadow: inset 3px 0 15px -5px rgba(96, 160, 255, 0.4);
}

[data-theme="midnight"] .stat-worth {
    border-left-color: #ffa050;
    box-shadow: inset 3px 0 15px -5px rgba(255, 160, 80, 0.4);
}

[data-theme="midnight"] .slider-container[data-type="hp"] .slider-fill {
    background: linear-gradient(90deg, #ff6080, rgba(255, 96, 128, 0.6));
    box-shadow: 0 0 8px rgba(255, 96, 128, 0.5);
}

[data-theme="midnight"] .slider-container[data-type="arcana"] .slider-fill {
    background: linear-gradient(90deg, #a080ff, rgba(160, 128, 255, 0.6));
    box-shadow: 0 0 8px rgba(160, 128, 255, 0.5);
}

[data-theme="midnight"] .slider-container[data-type="willpower"] .slider-fill {
    background: linear-gradient(90deg, #60a0ff, rgba(96, 160, 255, 0.6));
    box-shadow: 0 0 8px rgba(96, 160, 255, 0.5);
}

[data-theme="midnight"] .stat-hp .stat-btn-plus:hover {
    box-shadow: 0 0 15px rgba(255, 96, 128, 0.6);
}
[data-theme="midnight"] .stat-hp .stat-btn-minus:hover {
    box-shadow: 0 0 15px rgba(255, 96, 128, 0.6);
}
[data-theme="midnight"] .stat-arcana .stat-btn-plus:hover,
[data-theme="midnight"] .stat-arcana .stat-btn-minus:hover {
    box-shadow: 0 0 15px rgba(160, 128, 255, 0.6);
}
[data-theme="midnight"] .stat-will .stat-btn-plus:hover,
[data-theme="midnight"] .stat-will .stat-btn-minus:hover {
    box-shadow: 0 0 15px rgba(96, 160, 255, 0.6);
}

[data-theme="midnight"] .section-title {
    text-shadow: 0 0 15px rgba(192, 216, 255, 0.3);
}

[data-theme="midnight"] button:hover {
    box-shadow: 0 0 20px rgba(96, 160, 255, 0.3);
}

/* ===========================================
   THEME: Ember
   Fiery dark theme with glowing hot accents
   =========================================== */
[data-theme="ember"] {
    /* Deep charcoal background */
    --bg-base: #0c0806;
    --bg-elevated: #151010;
    --bg-surface: #1a1210;
    --bg-surface-hover: #241815;
    --bg-highlight: #2e1e1a;
    --bg-press: #382520;

    /* Text: Warm white to ash */
    --text-base: #fff5f0;
    --text-subdued: #c9a89a;
    --text-muted: #8a6a5a;

    /* Primary accent: Bright Orange */
    --accent-primary: #ff6a00;
    --accent-primary-hover: #ff8533;
    --accent-primary-glow: rgba(255, 106, 0, 0.6);

    /* Green: Warm lime (for success states) */
    --accent-green: #a0ff00;
    --accent-green-hover: #b8ff40;
    --accent-green-glow: rgba(160, 255, 0, 0.5);
    --accent-green-10: rgba(160, 255, 0, 0.1);
    --accent-green-15: rgba(160, 255, 0, 0.15);
    --accent-green-20: rgba(160, 255, 0, 0.2);
    --accent-green-30: rgba(160, 255, 0, 0.3);
    --accent-green-35: rgba(160, 255, 0, 0.35);
    --accent-green-40: rgba(160, 255, 0, 0.4);

    /* Blue: Replaced with hot yellow for Willpower */
    --accent-blue: #ffcc00;
    --accent-blue-glow: rgba(255, 204, 0, 0.6);
    --accent-blue-08: rgba(255, 204, 0, 0.08);
    --accent-blue-10: rgba(255, 204, 0, 0.1);
    --accent-blue-15: rgba(255, 204, 0, 0.15);
    --accent-blue-20: rgba(255, 204, 0, 0.2);
    --accent-blue-30: rgba(255, 204, 0, 0.3);
    --accent-blue-35: rgba(255, 204, 0, 0.35);
    --accent-blue-40: rgba(255, 204, 0, 0.4);

    /* Purple: Replaced with orange for Arcana */
    --accent-purple: #ff8c00;
    --accent-purple-glow: rgba(255, 140, 0, 0.6);
    --accent-purple-04: rgba(255, 140, 0, 0.04);
    --accent-purple-05: rgba(255, 140, 0, 0.05);
    --accent-purple-08: rgba(255, 140, 0, 0.08);
    --accent-purple-10: rgba(255, 140, 0, 0.1);
    --accent-purple-12: rgba(255, 140, 0, 0.12);
    --accent-purple-15: rgba(255, 140, 0, 0.15);
    --accent-purple-20: rgba(255, 140, 0, 0.2);
    --accent-purple-30: rgba(255, 140, 0, 0.3);
    --accent-purple-35: rgba(255, 140, 0, 0.35);
    --accent-purple-40: rgba(255, 140, 0, 0.4);

    /* Red: Blazing crimson for HP */
    --accent-red: #ff2a2a;
    --accent-red-glow: rgba(255, 42, 42, 0.7);
    --accent-red-10: rgba(255, 42, 42, 0.1);
    --accent-red-20: rgba(255, 42, 42, 0.2);
    --accent-red-35: rgba(255, 42, 42, 0.35);
    --accent-red-40: rgba(255, 42, 42, 0.4);

    /* Amber: Hot amber */
    --accent-amber: #ffaa00;
    --accent-amber-20: rgba(255, 170, 0, 0.2);
    --accent-amber-35: rgba(255, 170, 0, 0.35);
    --accent-amber-40: rgba(255, 170, 0, 0.4);

    /* Cyan: Replaced with bright yellow */
    --accent-cyan: #ffe033;
    --accent-cyan-glow: rgba(255, 224, 51, 0.6);

    /* Gradients: Fire gradient orange to red */
    --gradient-start: #ff6a00;
    --gradient-end: #ff2a2a;
    --gradient-tertiary: #ffcc00;
    --header-gradient-start: rgba(255, 106, 0, 0.2);
    --header-gradient-end: rgba(255, 42, 42, 0.15);
    --header-gradient-hover-start: rgba(255, 106, 0, 0.35);
    --header-gradient-hover-end: rgba(255, 42, 42, 0.25);
    --button-gradient-start: rgba(255, 106, 0, 0.4);
    --button-gradient-end: rgba(255, 42, 42, 0.3);

    /* Borders: Ember tones */
    --border-subtle: rgba(255, 106, 0, 0.1);
    --border-default: rgba(255, 106, 0, 0.2);
    --border-strong: rgba(255, 106, 0, 0.4);
    --border-gold: rgba(255, 170, 0, 0.6);
    --border-purple: rgba(255, 140, 0, 0.5);
    --border-blue: rgba(255, 204, 0, 0.4);

    /* Glass effect: Dark with ember glow */
    --glass-bg: rgba(20, 12, 10, 0.8);
    --glass-blur: 16px;
    --glass-border: rgba(255, 106, 0, 0.15);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), 0 0 2px rgba(255, 106, 0, 0.3);
    --glass-inset: inset 0 1px 0 rgba(255, 140, 0, 0.1);
}

/* Ember theme body - dark with fire gradient shimmer */
[data-theme="ember"] body {
    background:
        radial-gradient(ellipse at top left, rgba(255, 106, 0, 0.08) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(255, 42, 42, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(255, 140, 0, 0.03) 0%, transparent 60%),
        linear-gradient(180deg, #0f0a08 0%, #0c0806 50%, #0a0604 100%);
    background-attachment: fixed;
}

/* Ember panels with fire glow */
[data-theme="ember"] .section,
[data-theme="ember"] .modal-content,
[data-theme="ember"] .desktop-sidebar,
[data-theme="ember"] .dropdown-menu,
[data-theme="ember"] header,
[data-theme="ember"] .dashboard-hero {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow), var(--glass-inset);
}

/* Ember header with fire accent */
[data-theme="ember"] header {
    background: rgba(20, 12, 10, 0.9);
    border-bottom: 1px solid rgba(255, 106, 0, 0.2);
}

[data-theme="ember"] header::after {
    background: linear-gradient(90deg, transparent, rgba(255, 42, 42, 0.6), rgba(255, 106, 0, 0.8), rgba(255, 204, 0, 0.6), transparent);
}

/* Ember inputs */
[data-theme="ember"] input,
[data-theme="ember"] select,
[data-theme="ember"] textarea {
    background: rgba(0, 0, 0, 0.5);
    border-color: rgba(255, 106, 0, 0.2);
    color: var(--text-base);
}

[data-theme="ember"] input:focus,
[data-theme="ember"] select:focus,
[data-theme="ember"] textarea:focus {
    background: rgba(0, 0, 0, 0.6);
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 3px rgba(255, 106, 0, 0.25), 0 0 25px rgba(255, 106, 0, 0.3);
}

/* Ember buttons with fire glow */
[data-theme="ember"] button {
    background: rgba(255, 106, 0, 0.08);
    border-color: rgba(255, 106, 0, 0.25);
}

[data-theme="ember"] button:hover {
    background: rgba(255, 106, 0, 0.2);
    border-color: var(--accent-primary);
    box-shadow: 0 0 25px rgba(255, 106, 0, 0.5), 0 0 50px rgba(255, 42, 42, 0.2);
}

/* Ember tabs - minimal underline style */
[data-theme="ember"] .tab {
    background: transparent;
    border: none;
    color: var(--text-muted);
}

[data-theme="ember"] .tab:hover {
    background: rgba(255, 106, 0, 0.1);
    color: var(--accent-primary);
}

[data-theme="ember"] .tab.active {
    background: transparent;
    color: var(--accent-primary);
}

[data-theme="ember"] .tab.active::after {
    background: linear-gradient(90deg, #ff6a00, #ff2a2a, #ffcc00);
}

/* Ember dropdowns */
[data-theme="ember"] .dropdown-trigger {
    background: rgba(255, 106, 0, 0.08);
    border-color: rgba(255, 106, 0, 0.2);
}

[data-theme="ember"] .dropdown-trigger:hover {
    border-color: rgba(255, 106, 0, 0.6);
    box-shadow: 0 0 25px rgba(255, 106, 0, 0.4);
}

[data-theme="ember"] .dropdown-menu {
    background: rgba(15, 10, 8, 0.95);
    border-color: rgba(255, 106, 0, 0.3);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.7), 0 0 2px rgba(255, 106, 0, 0.5);
}

/* Section titles with fire glow */
[data-theme="ember"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 20px rgba(255, 106, 0, 0.6), 0 0 40px rgba(255, 42, 42, 0.3);
}

/* Sliders with fire gradient */
[data-theme="ember"] input[type="range"]::-webkit-slider-thumb {
    background: linear-gradient(135deg, #ff6a00, #ff2a2a);
    box-shadow: 0 0 15px rgba(255, 106, 0, 0.8), 0 0 30px rgba(255, 42, 42, 0.4);
}

[data-theme="ember"] .slider-fill {
    background: linear-gradient(90deg, #ff2a2a, #ff6a00, #ffcc00);
    box-shadow: 0 0 15px rgba(255, 106, 0, 0.5);
}

/* Status bar - intense glow effects */
[data-theme="ember"] .status-hp .status-value {
    color: #ff2a2a;
    text-shadow: 0 0 10px rgba(255, 42, 42, 1), 0 0 20px rgba(255, 42, 42, 0.6), 0 0 30px rgba(255, 42, 42, 0.3);
}

[data-theme="ember"] .status-arcana .status-value {
    color: #ff8c00;
    text-shadow: 0 0 10px rgba(255, 140, 0, 1), 0 0 20px rgba(255, 140, 0, 0.6), 0 0 30px rgba(255, 140, 0, 0.3);
}

[data-theme="ember"] .status-willpower .status-value {
    color: #ffcc00;
    text-shadow: 0 0 10px rgba(255, 204, 0, 1), 0 0 20px rgba(255, 204, 0, 0.6), 0 0 30px rgba(255, 204, 0, 0.3);
}

[data-theme="ember"] .status-worthiness .status-value {
    color: #ff6a00;
    text-shadow: 0 0 10px rgba(255, 106, 0, 1), 0 0 20px rgba(255, 106, 0, 0.6);
}

/* Stat rows with fire glow borders */
[data-theme="ember"] .stat-hp {
    border-left-color: #ff2a2a;
    box-shadow: inset 4px 0 20px -5px rgba(255, 42, 42, 0.6);
}

[data-theme="ember"] .stat-arcana {
    border-left-color: #ff8c00;
    box-shadow: inset 4px 0 20px -5px rgba(255, 140, 0, 0.6);
}

[data-theme="ember"] .stat-will {
    border-left-color: #ffcc00;
    box-shadow: inset 4px 0 20px -5px rgba(255, 204, 0, 0.6);
}

[data-theme="ember"] .stat-worth {
    border-left-color: #ff6a00;
    box-shadow: inset 4px 0 20px -5px rgba(255, 106, 0, 0.6);
}

/* Slider fills for specific types */
[data-theme="ember"] .slider-container[data-type="hp"] .slider-fill {
    background: linear-gradient(90deg, #ff2a2a, #ff6a00);
    box-shadow: 0 0 12px rgba(255, 42, 42, 0.7);
}

[data-theme="ember"] .slider-container[data-type="arcana"] .slider-fill {
    background: linear-gradient(90deg, #ff6a00, #ff8c00);
    box-shadow: 0 0 12px rgba(255, 140, 0, 0.7);
}

[data-theme="ember"] .slider-container[data-type="willpower"] .slider-fill {
    background: linear-gradient(90deg, #ffaa00, #ffcc00);
    box-shadow: 0 0 12px rgba(255, 204, 0, 0.7);
}

/* Stat button hover effects */
[data-theme="ember"] .stat-hp .stat-btn-plus:hover,
[data-theme="ember"] .stat-hp .stat-btn-minus:hover {
    box-shadow: 0 0 20px rgba(255, 42, 42, 0.8), 0 0 40px rgba(255, 42, 42, 0.4);
}

[data-theme="ember"] .stat-arcana .stat-btn-plus:hover,
[data-theme="ember"] .stat-arcana .stat-btn-minus:hover {
    box-shadow: 0 0 20px rgba(255, 140, 0, 0.8), 0 0 40px rgba(255, 140, 0, 0.4);
}

[data-theme="ember"] .stat-will .stat-btn-plus:hover,
[data-theme="ember"] .stat-will .stat-btn-minus:hover {
    box-shadow: 0 0 20px rgba(255, 204, 0, 0.8), 0 0 40px rgba(255, 204, 0, 0.4);
}

/* Dashboard hero with ember border */
[data-theme="ember"] .dashboard-hero {
    border-color: rgba(255, 106, 0, 0.4);
    box-shadow: 0 0 30px rgba(255, 106, 0, 0.15), inset 0 1px 0 rgba(255, 140, 0, 0.1);
}

/* Glass effect styles for Dark Glass theme */

/* Dark gradient background with subtle texture */
[data-theme="dark-glass"] body {
    background:
        radial-gradient(ellipse at top left, rgba(212, 165, 55, 0.03) 0%, transparent 50%),
        radial-gradient(ellipse at bottom right, rgba(192, 192, 192, 0.02) 0%, transparent 50%),
        linear-gradient(180deg, #0a0a0c 0%, #050508 50%, #08080a 100%);
    background-attachment: fixed;
}

/* Glass panels with silver frames */
[data-theme="dark-glass"] .section,
[data-theme="dark-glass"] .modal-content,
[data-theme="dark-glass"] .desktop-sidebar,
[data-theme="dark-glass"] .dropdown-menu,
[data-theme="dark-glass"] header,
[data-theme="dark-glass"] .dashboard-hero {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow), var(--glass-inset);
}

/* Header with gold accent line */
[data-theme="dark-glass"] header {
    background: rgba(15, 15, 20, 0.85);
    border-bottom: 1px solid rgba(192, 192, 192, 0.15);
}

[data-theme="dark-glass"] header::after {
    background: linear-gradient(90deg, transparent, rgba(212, 165, 55, 0.6), rgba(192, 192, 192, 0.4), transparent);
}

/* Glass inputs with silver border */
[data-theme="dark-glass"] input,
[data-theme="dark-glass"] select,
[data-theme="dark-glass"] textarea {
    background: rgba(0, 0, 0, 0.4);
    border-color: rgba(192, 192, 192, 0.2);
    color: var(--text-base);
}

[data-theme="dark-glass"] input:focus,
[data-theme="dark-glass"] select:focus,
[data-theme="dark-glass"] textarea:focus {
    background: rgba(0, 0, 0, 0.5);
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 3px rgba(255, 201, 66, 0.2), 0 0 20px rgba(255, 201, 66, 0.15);
}

/* Glass buttons with silver/gold accents */
[data-theme="dark-glass"] button {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(192, 192, 192, 0.2);
}

[data-theme="dark-glass"] button:hover {
    background: rgba(212, 165, 55, 0.1);
    border-color: var(--accent-primary);
    box-shadow: 0 0 20px rgba(212, 165, 55, 0.2);
}

/* Glass tabs - minimal underline style */
[data-theme="dark-glass"] .tab {
    background: transparent;
    border: none;
    color: var(--text-muted);
}

[data-theme="dark-glass"] .tab:hover {
    background: rgba(192, 192, 192, 0.05);
    color: var(--accent-primary);
}

[data-theme="dark-glass"] .tab.active {
    background: transparent;
    color: var(--accent-primary);
}

[data-theme="dark-glass"] .tab.active::after {
    background: linear-gradient(90deg, #d4a537, #c0c0c0, #d4a537);
}

/* Glass dropdowns */
[data-theme="dark-glass"] .dropdown-trigger {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(192, 192, 192, 0.15);
}

[data-theme="dark-glass"] .dropdown-trigger:hover {
    border-color: rgba(255, 201, 66, 0.5);
    box-shadow: 0 0 20px rgba(255, 201, 66, 0.25);
}

[data-theme="dark-glass"] .dropdown-menu {
    background: rgba(10, 10, 12, 0.95);
    border-color: rgba(192, 192, 192, 0.25);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6), 0 0 1px rgba(255, 201, 66, 0.3);
}

/* Section titles with gold accent */
[data-theme="dark-glass"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 20px rgba(255, 201, 66, 0.4);
}

/* Sliders with vibrant fills and glow */
[data-theme="dark-glass"] input[type="range"]::-webkit-slider-thumb {
    background: var(--accent-primary);
    box-shadow: 0 0 15px rgba(255, 201, 66, 0.7);
}

[data-theme="dark-glass"] .slider-fill {
    background: linear-gradient(90deg, var(--accent-primary), rgba(192, 192, 192, 0.6));
    box-shadow: 0 0 10px rgba(255, 201, 66, 0.3);
}

/* Status bar glow effects */
[data-theme="dark-glass"] .status-hp .status-value {
    color: #ff5252;
    text-shadow: 0 0 10px rgba(255, 82, 82, 0.8);
}

[data-theme="dark-glass"] .status-arcana .status-value {
    color: #b388ff;
    text-shadow: 0 0 10px rgba(179, 136, 255, 0.8);
}

[data-theme="dark-glass"] .status-willpower .status-value {
    color: #40c4ff;
    text-shadow: 0 0 10px rgba(64, 196, 255, 0.8);
}

[data-theme="dark-glass"] .status-worthiness .status-value {
    color: #ffc942;
    text-shadow: 0 0 10px rgba(255, 201, 66, 0.8);
}

/* Stat row glow effects */
[data-theme="dark-glass"] .stat-hp {
    border-left-color: #ff5252;
    box-shadow: inset 3px 0 15px -5px rgba(255, 82, 82, 0.4);
}

[data-theme="dark-glass"] .stat-arcana {
    border-left-color: #b388ff;
    box-shadow: inset 3px 0 15px -5px rgba(179, 136, 255, 0.4);
}

[data-theme="dark-glass"] .stat-will {
    border-left-color: #40c4ff;
    box-shadow: inset 3px 0 15px -5px rgba(64, 196, 255, 0.4);
}

[data-theme="dark-glass"] .stat-worth {
    border-left-color: #ffc942;
    box-shadow: inset 3px 0 15px -5px rgba(255, 201, 66, 0.4);
}

/* Slider bar fills with glow */
[data-theme="dark-glass"] .slider-container[data-type="hp"] .slider-fill {
    background: linear-gradient(90deg, #ff5252, #ff8a80);
    box-shadow: 0 0 15px rgba(255, 82, 82, 0.5);
}

[data-theme="dark-glass"] .slider-container[data-type="arcana"] .slider-fill {
    background: linear-gradient(90deg, #b388ff, #d1c4e9);
    box-shadow: 0 0 15px rgba(179, 136, 255, 0.5);
}

[data-theme="dark-glass"] .slider-container[data-type="willpower"] .slider-fill {
    background: linear-gradient(90deg, #40c4ff, #80d8ff);
    box-shadow: 0 0 15px rgba(64, 196, 255, 0.5);
}

/* Button +/- glow on hover */
[data-theme="dark-glass"] .stat-hp .stat-btn-plus:hover {
    box-shadow: 0 0 15px rgba(0, 230, 118, 0.6);
}

[data-theme="dark-glass"] .stat-hp .stat-btn-minus:hover {
    box-shadow: 0 0 15px rgba(255, 82, 82, 0.6);
}

[data-theme="dark-glass"] .stat-arcana .stat-btn-plus:hover,
[data-theme="dark-glass"] .stat-arcana .stat-btn-minus:hover {
    box-shadow: 0 0 15px rgba(179, 136, 255, 0.6);
}

[data-theme="dark-glass"] .stat-will .stat-btn-plus:hover,
[data-theme="dark-glass"] .stat-will .stat-btn-minus:hover {
    box-shadow: 0 0 15px rgba(64, 196, 255, 0.6);
}

/* Dashboard hero glow */
[data-theme="dark-glass"] .dashboard-hero {
    border-color: rgba(255, 201, 66, 0.3);
    box-shadow: 0 0 30px rgba(255, 201, 66, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

/* ===========================================
   THEME: Forest
   Deep woods, druids, nature magic
   =========================================== */
[data-theme="forest"] {
    --bg-base: #060a06;
    --bg-elevated: #0a120a;
    --bg-surface: #0e1a0e;
    --bg-surface-hover: #142014;
    --bg-highlight: #1a2a1a;
    --bg-press: #203020;

    --text-base: #e8f5e8;
    --text-subdued: #a0c4a0;
    --text-muted: #608060;

    --accent-primary: #10b981;
    --accent-primary-hover: #34d399;
    --accent-primary-glow: rgba(16, 185, 129, 0.4);

    --accent-green: #22c55e;
    --accent-green-hover: #4ade80;
    --accent-green-glow: rgba(34, 197, 94, 0.3);
    --accent-green-10: rgba(34, 197, 94, 0.1);
    --accent-green-15: rgba(34, 197, 94, 0.15);
    --accent-green-20: rgba(34, 197, 94, 0.2);
    --accent-green-30: rgba(34, 197, 94, 0.3);
    --accent-green-35: rgba(34, 197, 94, 0.35);
    --accent-green-40: rgba(34, 197, 94, 0.4);

    --accent-blue: #14b8a6;
    --accent-blue-glow: rgba(20, 184, 166, 0.3);
    --accent-blue-08: rgba(20, 184, 166, 0.08);
    --accent-blue-10: rgba(20, 184, 166, 0.1);
    --accent-blue-15: rgba(20, 184, 166, 0.15);
    --accent-blue-20: rgba(20, 184, 166, 0.2);
    --accent-blue-30: rgba(20, 184, 166, 0.3);
    --accent-blue-35: rgba(20, 184, 166, 0.35);
    --accent-blue-40: rgba(20, 184, 166, 0.4);

    --accent-purple: #d4a017;
    --accent-purple-glow: rgba(212, 160, 23, 0.3);
    --accent-purple-04: rgba(212, 160, 23, 0.04);
    --accent-purple-05: rgba(212, 160, 23, 0.05);
    --accent-purple-08: rgba(212, 160, 23, 0.08);
    --accent-purple-10: rgba(212, 160, 23, 0.1);
    --accent-purple-12: rgba(212, 160, 23, 0.12);
    --accent-purple-15: rgba(212, 160, 23, 0.15);
    --accent-purple-20: rgba(212, 160, 23, 0.2);
    --accent-purple-30: rgba(212, 160, 23, 0.3);
    --accent-purple-35: rgba(212, 160, 23, 0.35);
    --accent-purple-40: rgba(212, 160, 23, 0.4);

    --accent-red: #ef4444;
    --accent-red-glow: rgba(239, 68, 68, 0.3);
    --accent-red-10: rgba(239, 68, 68, 0.1);
    --accent-red-20: rgba(239, 68, 68, 0.2);
    --accent-red-35: rgba(239, 68, 68, 0.35);
    --accent-red-40: rgba(239, 68, 68, 0.4);

    --accent-amber: #d97706;
    --accent-amber-20: rgba(217, 119, 6, 0.2);
    --accent-amber-35: rgba(217, 119, 6, 0.35);
    --accent-amber-40: rgba(217, 119, 6, 0.4);

    --accent-cyan: #2dd4bf;
    --accent-cyan-glow: rgba(45, 212, 191, 0.3);

    --gradient-start: #10b981;
    --gradient-end: #22c55e;
    --gradient-tertiary: #14b8a6;
    --header-gradient-start: rgba(16, 185, 129, 0.15);
    --header-gradient-end: rgba(34, 197, 94, 0.1);
    --header-gradient-hover-start: rgba(16, 185, 129, 0.25);
    --header-gradient-hover-end: rgba(34, 197, 94, 0.15);
    --button-gradient-start: rgba(16, 185, 129, 0.3);
    --button-gradient-end: rgba(34, 197, 94, 0.2);

    --border-subtle: rgba(16, 185, 129, 0.08);
    --border-default: rgba(16, 185, 129, 0.15);
    --border-strong: rgba(16, 185, 129, 0.25);
    --border-gold: rgba(212, 160, 23, 0.5);
    --border-purple: rgba(212, 160, 23, 0.4);
    --border-blue: rgba(20, 184, 166, 0.4);
}

[data-theme="forest"] body {
    background:
        radial-gradient(ellipse at top left, rgba(16, 185, 129, 0.08) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(34, 197, 94, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(20, 184, 166, 0.03) 0%, transparent 60%),
        linear-gradient(180deg, #080c08 0%, #060a06 50%, #040804 100%);
    background-attachment: fixed;
}

[data-theme="forest"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 15px rgba(16, 185, 129, 0.4);
}

[data-theme="forest"] .status-hp .status-value {
    color: #ef4444;
    text-shadow: 0 0 10px rgba(239, 68, 68, 0.7);
}

[data-theme="forest"] .status-arcana .status-value {
    color: #d4a017;
    text-shadow: 0 0 10px rgba(212, 160, 23, 0.7);
}

[data-theme="forest"] .status-willpower .status-value {
    color: #14b8a6;
    text-shadow: 0 0 10px rgba(20, 184, 166, 0.7);
}

[data-theme="forest"] .status-worthiness .status-value {
    color: #d97706;
    text-shadow: 0 0 10px rgba(217, 119, 6, 0.7);
}

[data-theme="forest"] .stat-hp {
    border-left-color: #ef4444;
    box-shadow: inset 3px 0 15px -5px rgba(239, 68, 68, 0.4);
}

[data-theme="forest"] .stat-arcana {
    border-left-color: #d4a017;
    box-shadow: inset 3px 0 15px -5px rgba(212, 160, 23, 0.4);
}

[data-theme="forest"] .stat-will {
    border-left-color: #14b8a6;
    box-shadow: inset 3px 0 15px -5px rgba(20, 184, 166, 0.4);
}

[data-theme="forest"] .stat-worth {
    border-left-color: #d97706;
    box-shadow: inset 3px 0 15px -5px rgba(217, 119, 6, 0.4);
}

[data-theme="forest"] button:hover {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
}

/* ===========================================
   THEME: Frost
   Ice, winter, crystalline
   =========================================== */
[data-theme="frost"] {
    --bg-base: #060810;
    --bg-elevated: #0a0e18;
    --bg-surface: #0e1420;
    --bg-surface-hover: #141c2a;
    --bg-highlight: #1a2435;
    --bg-press: #202c40;

    --text-base: #f0f8ff;
    --text-subdued: #a0c4e0;
    --text-muted: #6090b0;

    --accent-primary: #7dd3fc;
    --accent-primary-hover: #a5e0fb;
    --accent-primary-glow: rgba(125, 211, 252, 0.4);

    --accent-green: #4ade80;
    --accent-green-hover: #86efac;
    --accent-green-glow: rgba(74, 222, 128, 0.3);
    --accent-green-10: rgba(74, 222, 128, 0.1);
    --accent-green-15: rgba(74, 222, 128, 0.15);
    --accent-green-20: rgba(74, 222, 128, 0.2);
    --accent-green-30: rgba(74, 222, 128, 0.3);
    --accent-green-35: rgba(74, 222, 128, 0.35);
    --accent-green-40: rgba(74, 222, 128, 0.4);

    --accent-blue: #38bdf8;
    --accent-blue-glow: rgba(56, 189, 248, 0.4);
    --accent-blue-08: rgba(56, 189, 248, 0.08);
    --accent-blue-10: rgba(56, 189, 248, 0.1);
    --accent-blue-15: rgba(56, 189, 248, 0.15);
    --accent-blue-20: rgba(56, 189, 248, 0.2);
    --accent-blue-30: rgba(56, 189, 248, 0.3);
    --accent-blue-35: rgba(56, 189, 248, 0.35);
    --accent-blue-40: rgba(56, 189, 248, 0.4);

    --accent-purple: #a78bfa;
    --accent-purple-glow: rgba(167, 139, 250, 0.3);
    --accent-purple-04: rgba(167, 139, 250, 0.04);
    --accent-purple-05: rgba(167, 139, 250, 0.05);
    --accent-purple-08: rgba(167, 139, 250, 0.08);
    --accent-purple-10: rgba(167, 139, 250, 0.1);
    --accent-purple-12: rgba(167, 139, 250, 0.12);
    --accent-purple-15: rgba(167, 139, 250, 0.15);
    --accent-purple-20: rgba(167, 139, 250, 0.2);
    --accent-purple-30: rgba(167, 139, 250, 0.3);
    --accent-purple-35: rgba(167, 139, 250, 0.35);
    --accent-purple-40: rgba(167, 139, 250, 0.4);

    --accent-red: #f472b6;
    --accent-red-glow: rgba(244, 114, 182, 0.3);
    --accent-red-10: rgba(244, 114, 182, 0.1);
    --accent-red-20: rgba(244, 114, 182, 0.2);
    --accent-red-35: rgba(244, 114, 182, 0.35);
    --accent-red-40: rgba(244, 114, 182, 0.4);

    --accent-amber: #fbbf24;
    --accent-amber-20: rgba(251, 191, 36, 0.2);
    --accent-amber-35: rgba(251, 191, 36, 0.35);
    --accent-amber-40: rgba(251, 191, 36, 0.4);

    --accent-cyan: #67e8f9;
    --accent-cyan-glow: rgba(103, 232, 249, 0.4);

    --gradient-start: #7dd3fc;
    --gradient-end: #38bdf8;
    --gradient-tertiary: #67e8f9;
    --header-gradient-start: rgba(125, 211, 252, 0.15);
    --header-gradient-end: rgba(56, 189, 248, 0.1);
    --header-gradient-hover-start: rgba(125, 211, 252, 0.25);
    --header-gradient-hover-end: rgba(56, 189, 248, 0.15);
    --button-gradient-start: rgba(125, 211, 252, 0.3);
    --button-gradient-end: rgba(56, 189, 248, 0.2);

    --border-subtle: rgba(125, 211, 252, 0.08);
    --border-default: rgba(125, 211, 252, 0.15);
    --border-strong: rgba(125, 211, 252, 0.25);
    --border-gold: rgba(251, 191, 36, 0.5);
    --border-purple: rgba(167, 139, 250, 0.4);
    --border-blue: rgba(56, 189, 248, 0.4);
}

[data-theme="frost"] body {
    background:
        radial-gradient(ellipse at top left, rgba(125, 211, 252, 0.08) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(56, 189, 248, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(167, 139, 250, 0.03) 0%, transparent 60%),
        linear-gradient(180deg, #080c14 0%, #060810 50%, #040608 100%);
    background-attachment: fixed;
}

[data-theme="frost"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 15px rgba(125, 211, 252, 0.5);
}

[data-theme="frost"] .status-hp .status-value {
    color: #f472b6;
    text-shadow: 0 0 10px rgba(244, 114, 182, 0.7);
}

[data-theme="frost"] .status-arcana .status-value {
    color: #a78bfa;
    text-shadow: 0 0 10px rgba(167, 139, 250, 0.7);
}

[data-theme="frost"] .status-willpower .status-value {
    color: #38bdf8;
    text-shadow: 0 0 10px rgba(56, 189, 248, 0.7);
}

[data-theme="frost"] .status-worthiness .status-value {
    color: #fbbf24;
    text-shadow: 0 0 10px rgba(251, 191, 36, 0.7);
}

[data-theme="frost"] .stat-hp {
    border-left-color: #f472b6;
    box-shadow: inset 3px 0 15px -5px rgba(244, 114, 182, 0.4);
}

[data-theme="frost"] .stat-arcana {
    border-left-color: #a78bfa;
    box-shadow: inset 3px 0 15px -5px rgba(167, 139, 250, 0.4);
}

[data-theme="frost"] .stat-will {
    border-left-color: #38bdf8;
    box-shadow: inset 3px 0 15px -5px rgba(56, 189, 248, 0.4);
}

[data-theme="frost"] .stat-worth {
    border-left-color: #fbbf24;
    box-shadow: inset 3px 0 15px -5px rgba(251, 191, 36, 0.4);
}

[data-theme="frost"] button:hover {
    box-shadow: 0 0 20px rgba(125, 211, 252, 0.3);
}

/* ===========================================
   THEME: Void
   Cosmic, mystical, starfield
   =========================================== */
[data-theme="void"] {
    --bg-base: #030308;
    --bg-elevated: #08080f;
    --bg-surface: #0c0c16;
    --bg-surface-hover: #12121e;
    --bg-highlight: #181828;
    --bg-press: #1e1e32;

    --text-base: #e8e0ff;
    --text-subdued: #b0a0d0;
    --text-muted: #706090;

    --accent-primary: #e879f9;
    --accent-primary-hover: #f0abfc;
    --accent-primary-glow: rgba(232, 121, 249, 0.4);

    --accent-green: #4ade80;
    --accent-green-hover: #86efac;
    --accent-green-glow: rgba(74, 222, 128, 0.3);
    --accent-green-10: rgba(74, 222, 128, 0.1);
    --accent-green-15: rgba(74, 222, 128, 0.15);
    --accent-green-20: rgba(74, 222, 128, 0.2);
    --accent-green-30: rgba(74, 222, 128, 0.3);
    --accent-green-35: rgba(74, 222, 128, 0.35);
    --accent-green-40: rgba(74, 222, 128, 0.4);

    --accent-blue: #818cf8;
    --accent-blue-glow: rgba(129, 140, 248, 0.4);
    --accent-blue-08: rgba(129, 140, 248, 0.08);
    --accent-blue-10: rgba(129, 140, 248, 0.1);
    --accent-blue-15: rgba(129, 140, 248, 0.15);
    --accent-blue-20: rgba(129, 140, 248, 0.2);
    --accent-blue-30: rgba(129, 140, 248, 0.3);
    --accent-blue-35: rgba(129, 140, 248, 0.35);
    --accent-blue-40: rgba(129, 140, 248, 0.4);

    --accent-purple: #c084fc;
    --accent-purple-glow: rgba(192, 132, 252, 0.4);
    --accent-purple-04: rgba(192, 132, 252, 0.04);
    --accent-purple-05: rgba(192, 132, 252, 0.05);
    --accent-purple-08: rgba(192, 132, 252, 0.08);
    --accent-purple-10: rgba(192, 132, 252, 0.1);
    --accent-purple-12: rgba(192, 132, 252, 0.12);
    --accent-purple-15: rgba(192, 132, 252, 0.15);
    --accent-purple-20: rgba(192, 132, 252, 0.2);
    --accent-purple-30: rgba(192, 132, 252, 0.3);
    --accent-purple-35: rgba(192, 132, 252, 0.35);
    --accent-purple-40: rgba(192, 132, 252, 0.4);

    --accent-red: #fb7185;
    --accent-red-glow: rgba(251, 113, 133, 0.3);
    --accent-red-10: rgba(251, 113, 133, 0.1);
    --accent-red-20: rgba(251, 113, 133, 0.2);
    --accent-red-35: rgba(251, 113, 133, 0.35);
    --accent-red-40: rgba(251, 113, 133, 0.4);

    --accent-amber: #fcd34d;
    --accent-amber-20: rgba(252, 211, 77, 0.2);
    --accent-amber-35: rgba(252, 211, 77, 0.35);
    --accent-amber-40: rgba(252, 211, 77, 0.4);

    --accent-cyan: #a5b4fc;
    --accent-cyan-glow: rgba(165, 180, 252, 0.4);

    --gradient-start: #e879f9;
    --gradient-end: #818cf8;
    --gradient-tertiary: #c084fc;
    --header-gradient-start: rgba(232, 121, 249, 0.15);
    --header-gradient-end: rgba(129, 140, 248, 0.1);
    --header-gradient-hover-start: rgba(232, 121, 249, 0.25);
    --header-gradient-hover-end: rgba(129, 140, 248, 0.15);
    --button-gradient-start: rgba(232, 121, 249, 0.3);
    --button-gradient-end: rgba(129, 140, 248, 0.2);

    --border-subtle: rgba(192, 132, 252, 0.08);
    --border-default: rgba(192, 132, 252, 0.15);
    --border-strong: rgba(192, 132, 252, 0.25);
    --border-gold: rgba(252, 211, 77, 0.5);
    --border-purple: rgba(192, 132, 252, 0.4);
    --border-blue: rgba(129, 140, 248, 0.4);
}

[data-theme="void"] body {
    background:
        radial-gradient(ellipse at top left, rgba(232, 121, 249, 0.08) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(129, 140, 248, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(192, 132, 252, 0.04) 0%, transparent 60%),
        radial-gradient(circle at 20% 80%, rgba(252, 211, 77, 0.02) 0%, transparent 20%),
        radial-gradient(circle at 80% 20%, rgba(165, 180, 252, 0.02) 0%, transparent 20%),
        linear-gradient(180deg, #050510 0%, #030308 50%, #020206 100%);
    background-attachment: fixed;
}

[data-theme="void"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 20px rgba(232, 121, 249, 0.5);
}

[data-theme="void"] .status-hp .status-value {
    color: #fb7185;
    text-shadow: 0 0 12px rgba(251, 113, 133, 0.8);
}

[data-theme="void"] .status-arcana .status-value {
    color: #c084fc;
    text-shadow: 0 0 12px rgba(192, 132, 252, 0.8);
}

[data-theme="void"] .status-willpower .status-value {
    color: #818cf8;
    text-shadow: 0 0 12px rgba(129, 140, 248, 0.8);
}

[data-theme="void"] .status-worthiness .status-value {
    color: #fcd34d;
    text-shadow: 0 0 12px rgba(252, 211, 77, 0.8);
}

[data-theme="void"] .stat-hp {
    border-left-color: #fb7185;
    box-shadow: inset 3px 0 15px -5px rgba(251, 113, 133, 0.5);
}

[data-theme="void"] .stat-arcana {
    border-left-color: #c084fc;
    box-shadow: inset 3px 0 15px -5px rgba(192, 132, 252, 0.5);
}

[data-theme="void"] .stat-will {
    border-left-color: #818cf8;
    box-shadow: inset 3px 0 15px -5px rgba(129, 140, 248, 0.5);
}

[data-theme="void"] .stat-worth {
    border-left-color: #fcd34d;
    box-shadow: inset 3px 0 15px -5px rgba(252, 211, 77, 0.5);
}

[data-theme="void"] button:hover {
    box-shadow: 0 0 25px rgba(232, 121, 249, 0.3);
}

/* ===========================================
   THEME: Pure Darkness
   Ultimate dark with silver/gold text glow
   =========================================== */
[data-theme="pure-darkness"] {
    --bg-base: #000000;
    --bg-elevated: #050505;
    --bg-surface: #080808;
    --bg-surface-hover: #0c0c0c;
    --bg-highlight: #101010;
    --bg-press: #141414;

    --text-base: #d0d0d0;
    --text-subdued: #909090;
    --text-muted: #606060;

    --accent-primary: #d4af37;
    --accent-primary-hover: #e6c558;
    --accent-primary-glow: rgba(212, 175, 55, 0.5);

    --accent-green: #22c55e;
    --accent-green-hover: #4ade80;
    --accent-green-glow: rgba(34, 197, 94, 0.4);
    --accent-green-10: rgba(34, 197, 94, 0.1);
    --accent-green-15: rgba(34, 197, 94, 0.15);
    --accent-green-20: rgba(34, 197, 94, 0.2);
    --accent-green-30: rgba(34, 197, 94, 0.3);
    --accent-green-35: rgba(34, 197, 94, 0.35);
    --accent-green-40: rgba(34, 197, 94, 0.4);

    --accent-blue: #3b82f6;
    --accent-blue-glow: rgba(59, 130, 246, 0.4);
    --accent-blue-08: rgba(59, 130, 246, 0.08);
    --accent-blue-10: rgba(59, 130, 246, 0.1);
    --accent-blue-15: rgba(59, 130, 246, 0.15);
    --accent-blue-20: rgba(59, 130, 246, 0.2);
    --accent-blue-30: rgba(59, 130, 246, 0.3);
    --accent-blue-35: rgba(59, 130, 246, 0.35);
    --accent-blue-40: rgba(59, 130, 246, 0.4);

    --accent-purple: #a855f7;
    --accent-purple-glow: rgba(168, 85, 247, 0.4);
    --accent-purple-04: rgba(168, 85, 247, 0.04);
    --accent-purple-05: rgba(168, 85, 247, 0.05);
    --accent-purple-08: rgba(168, 85, 247, 0.08);
    --accent-purple-10: rgba(168, 85, 247, 0.1);
    --accent-purple-12: rgba(168, 85, 247, 0.12);
    --accent-purple-15: rgba(168, 85, 247, 0.15);
    --accent-purple-20: rgba(168, 85, 247, 0.2);
    --accent-purple-30: rgba(168, 85, 247, 0.3);
    --accent-purple-35: rgba(168, 85, 247, 0.35);
    --accent-purple-40: rgba(168, 85, 247, 0.4);

    --accent-red: #ef4444;
    --accent-red-glow: rgba(239, 68, 68, 0.4);
    --accent-red-10: rgba(239, 68, 68, 0.1);
    --accent-red-20: rgba(239, 68, 68, 0.2);
    --accent-red-35: rgba(239, 68, 68, 0.35);
    --accent-red-40: rgba(239, 68, 68, 0.4);

    --accent-amber: #f59e0b;
    --accent-amber-20: rgba(245, 158, 11, 0.2);
    --accent-amber-35: rgba(245, 158, 11, 0.35);
    --accent-amber-40: rgba(245, 158, 11, 0.4);

    --accent-cyan: #c0c0c0;
    --accent-cyan-glow: rgba(192, 192, 192, 0.4);

    --gradient-start: #d4af37;
    --gradient-end: #c0c0c0;
    --gradient-tertiary: #e6c558;
    --header-gradient-start: rgba(212, 175, 55, 0.1);
    --header-gradient-end: rgba(192, 192, 192, 0.05);
    --header-gradient-hover-start: rgba(212, 175, 55, 0.2);
    --header-gradient-hover-end: rgba(192, 192, 192, 0.1);
    --button-gradient-start: rgba(212, 175, 55, 0.2);
    --button-gradient-end: rgba(192, 192, 192, 0.1);

    --border-subtle: rgba(255, 255, 255, 0.05);
    --border-default: rgba(255, 255, 255, 0.08);
    --border-strong: rgba(212, 175, 55, 0.2);
    --border-gold: rgba(212, 175, 55, 0.4);
    --border-purple: rgba(168, 85, 247, 0.3);
    --border-blue: rgba(59, 130, 246, 0.3);
}

[data-theme="pure-darkness"] body {
    background: #000000;
    background-attachment: fixed;
}

[data-theme="pure-darkness"] .section,
[data-theme="pure-darkness"] .modal-content,
[data-theme="pure-darkness"] .desktop-sidebar,
[data-theme="pure-darkness"] .dropdown-menu,
[data-theme="pure-darkness"] header,
[data-theme="pure-darkness"] .dashboard-hero {
    background: #050505;
    border: 1px solid rgba(255, 255, 255, 0.06);
}

[data-theme="pure-darkness"] header {
    border-bottom: 1px solid rgba(212, 175, 55, 0.15);
}

[data-theme="pure-darkness"] header::after {
    background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.4), rgba(192, 192, 192, 0.2), transparent);
}

[data-theme="pure-darkness"] .section-title {
    color: #d4af37;
    text-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
}

[data-theme="pure-darkness"] h1,
[data-theme="pure-darkness"] h2,
[data-theme="pure-darkness"] .character-name {
    color: #d4af37;
    text-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
}

[data-theme="pure-darkness"] .tab {
    color: #909090;
}

[data-theme="pure-darkness"] .tab:hover {
    color: #c0c0c0;
}

[data-theme="pure-darkness"] .tab.active {
    color: #d4af37;
    text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
}

[data-theme="pure-darkness"] .tab.active::after {
    background: linear-gradient(90deg, #d4af37, #c0c0c0, #d4af37);
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
}

[data-theme="pure-darkness"] button {
    background: rgba(255, 255, 255, 0.02);
    border-color: rgba(212, 175, 55, 0.15);
    color: #c0c0c0;
}

[data-theme="pure-darkness"] button:hover {
    background: rgba(212, 175, 55, 0.08);
    border-color: rgba(212, 175, 55, 0.4);
    box-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
    color: #d4af37;
}

[data-theme="pure-darkness"] input,
[data-theme="pure-darkness"] select,
[data-theme="pure-darkness"] textarea {
    background: #030303;
    border-color: rgba(255, 255, 255, 0.08);
    color: #d0d0d0;
}

[data-theme="pure-darkness"] input:focus,
[data-theme="pure-darkness"] select:focus,
[data-theme="pure-darkness"] textarea:focus {
    border-color: rgba(212, 175, 55, 0.4);
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.2);
}

[data-theme="pure-darkness"] .status-hp .status-value {
    color: #ef4444;
    text-shadow: 0 0 12px rgba(239, 68, 68, 0.8);
}

[data-theme="pure-darkness"] .status-arcana .status-value {
    color: #a855f7;
    text-shadow: 0 0 12px rgba(168, 85, 247, 0.8);
}

[data-theme="pure-darkness"] .status-willpower .status-value {
    color: #3b82f6;
    text-shadow: 0 0 12px rgba(59, 130, 246, 0.8);
}

[data-theme="pure-darkness"] .status-worthiness .status-value {
    color: #f59e0b;
    text-shadow: 0 0 12px rgba(245, 158, 11, 0.8);
}

[data-theme="pure-darkness"] .stat-hp {
    border-left-color: #ef4444;
    box-shadow: inset 3px 0 20px -5px rgba(239, 68, 68, 0.5);
}

[data-theme="pure-darkness"] .stat-arcana {
    border-left-color: #a855f7;
    box-shadow: inset 3px 0 20px -5px rgba(168, 85, 247, 0.5);
}

[data-theme="pure-darkness"] .stat-will {
    border-left-color: #3b82f6;
    box-shadow: inset 3px 0 20px -5px rgba(59, 130, 246, 0.5);
}

[data-theme="pure-darkness"] .stat-worth {
    border-left-color: #f59e0b;
    box-shadow: inset 3px 0 20px -5px rgba(245, 158, 11, 0.5);
}

[data-theme="pure-darkness"] .slider-container[data-type="hp"] .slider-fill {
    background: linear-gradient(90deg, #ef4444, rgba(239, 68, 68, 0.6));
    box-shadow: 0 0 10px rgba(239, 68, 68, 0.6);
}

[data-theme="pure-darkness"] .slider-container[data-type="arcana"] .slider-fill {
    background: linear-gradient(90deg, #a855f7, rgba(168, 85, 247, 0.6));
    box-shadow: 0 0 10px rgba(168, 85, 247, 0.6);
}

[data-theme="pure-darkness"] .slider-container[data-type="willpower"] .slider-fill {
    background: linear-gradient(90deg, #3b82f6, rgba(59, 130, 246, 0.6));
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.6);
}

/* ===========================================
   THEME: Blood
   Vampires, dark magic, menacing
   =========================================== */
[data-theme="blood"] {
    --bg-base: #080404;
    --bg-elevated: #0e0808;
    --bg-surface: #140c0c;
    --bg-surface-hover: #1a1010;
    --bg-highlight: #221414;
    --bg-press: #2a1818;

    --text-base: #f0e8e8;
    --text-subdued: #c0a8a8;
    --text-muted: #806060;

    --accent-primary: #dc2626;
    --accent-primary-hover: #ef4444;
    --accent-primary-glow: rgba(220, 38, 38, 0.5);

    --accent-green: #22c55e;
    --accent-green-hover: #4ade80;
    --accent-green-glow: rgba(34, 197, 94, 0.3);
    --accent-green-10: rgba(34, 197, 94, 0.1);
    --accent-green-15: rgba(34, 197, 94, 0.15);
    --accent-green-20: rgba(34, 197, 94, 0.2);
    --accent-green-30: rgba(34, 197, 94, 0.3);
    --accent-green-35: rgba(34, 197, 94, 0.35);
    --accent-green-40: rgba(34, 197, 94, 0.4);

    --accent-blue: #b45309;
    --accent-blue-glow: rgba(180, 83, 9, 0.4);
    --accent-blue-08: rgba(180, 83, 9, 0.08);
    --accent-blue-10: rgba(180, 83, 9, 0.1);
    --accent-blue-15: rgba(180, 83, 9, 0.15);
    --accent-blue-20: rgba(180, 83, 9, 0.2);
    --accent-blue-30: rgba(180, 83, 9, 0.3);
    --accent-blue-35: rgba(180, 83, 9, 0.35);
    --accent-blue-40: rgba(180, 83, 9, 0.4);

    --accent-purple: #7c3aed;
    --accent-purple-glow: rgba(124, 58, 237, 0.4);
    --accent-purple-04: rgba(124, 58, 237, 0.04);
    --accent-purple-05: rgba(124, 58, 237, 0.05);
    --accent-purple-08: rgba(124, 58, 237, 0.08);
    --accent-purple-10: rgba(124, 58, 237, 0.1);
    --accent-purple-12: rgba(124, 58, 237, 0.12);
    --accent-purple-15: rgba(124, 58, 237, 0.15);
    --accent-purple-20: rgba(124, 58, 237, 0.2);
    --accent-purple-30: rgba(124, 58, 237, 0.3);
    --accent-purple-35: rgba(124, 58, 237, 0.35);
    --accent-purple-40: rgba(124, 58, 237, 0.4);

    --accent-red: #b91c1c;
    --accent-red-glow: rgba(185, 28, 28, 0.5);
    --accent-red-10: rgba(185, 28, 28, 0.1);
    --accent-red-20: rgba(185, 28, 28, 0.2);
    --accent-red-35: rgba(185, 28, 28, 0.35);
    --accent-red-40: rgba(185, 28, 28, 0.4);

    --accent-amber: #94a3b8;
    --accent-amber-20: rgba(148, 163, 184, 0.2);
    --accent-amber-35: rgba(148, 163, 184, 0.35);
    --accent-amber-40: rgba(148, 163, 184, 0.4);

    --accent-cyan: #a0a0a0;
    --accent-cyan-glow: rgba(160, 160, 160, 0.3);

    --gradient-start: #dc2626;
    --gradient-end: #7c3aed;
    --gradient-tertiary: #b91c1c;
    --header-gradient-start: rgba(220, 38, 38, 0.15);
    --header-gradient-end: rgba(124, 58, 237, 0.1);
    --header-gradient-hover-start: rgba(220, 38, 38, 0.25);
    --header-gradient-hover-end: rgba(124, 58, 237, 0.15);
    --button-gradient-start: rgba(220, 38, 38, 0.3);
    --button-gradient-end: rgba(124, 58, 237, 0.2);

    --border-subtle: rgba(220, 38, 38, 0.08);
    --border-default: rgba(220, 38, 38, 0.15);
    --border-strong: rgba(220, 38, 38, 0.25);
    --border-gold: rgba(148, 163, 184, 0.4);
    --border-purple: rgba(124, 58, 237, 0.4);
    --border-blue: rgba(180, 83, 9, 0.4);
}

[data-theme="blood"] body {
    background:
        radial-gradient(ellipse at top left, rgba(220, 38, 38, 0.1) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(124, 58, 237, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(185, 28, 28, 0.04) 0%, transparent 60%),
        linear-gradient(180deg, #0a0505 0%, #080404 50%, #060303 100%);
    background-attachment: fixed;
}

[data-theme="blood"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 15px rgba(220, 38, 38, 0.5);
}

[data-theme="blood"] .status-hp .status-value {
    color: #b91c1c;
    text-shadow: 0 0 12px rgba(185, 28, 28, 0.8);
}

[data-theme="blood"] .status-arcana .status-value {
    color: #7c3aed;
    text-shadow: 0 0 12px rgba(124, 58, 237, 0.8);
}

[data-theme="blood"] .status-willpower .status-value {
    color: #b45309;
    text-shadow: 0 0 12px rgba(180, 83, 9, 0.8);
}

[data-theme="blood"] .status-worthiness .status-value {
    color: #94a3b8;
    text-shadow: 0 0 12px rgba(148, 163, 184, 0.8);
}

[data-theme="blood"] .stat-hp {
    border-left-color: #b91c1c;
    box-shadow: inset 3px 0 15px -5px rgba(185, 28, 28, 0.5);
}

[data-theme="blood"] .stat-arcana {
    border-left-color: #7c3aed;
    box-shadow: inset 3px 0 15px -5px rgba(124, 58, 237, 0.5);
}

[data-theme="blood"] .stat-will {
    border-left-color: #b45309;
    box-shadow: inset 3px 0 15px -5px rgba(180, 83, 9, 0.5);
}

[data-theme="blood"] .stat-worth {
    border-left-color: #94a3b8;
    box-shadow: inset 3px 0 15px -5px rgba(148, 163, 184, 0.5);
}

[data-theme="blood"] button:hover {
    box-shadow: 0 0 20px rgba(220, 38, 38, 0.4);
}

/* ===========================================
   THEME: Necro
   Necromancy, undead, toxic
   =========================================== */
[data-theme="necro"] {
    --bg-base: #050805;
    --bg-elevated: #080c08;
    --bg-surface: #0c120c;
    --bg-surface-hover: #101810;
    --bg-highlight: #141e14;
    --bg-press: #182418;

    --text-base: #d0e8d0;
    --text-subdued: #90b890;
    --text-muted: #507850;

    --accent-primary: #84cc16;
    --accent-primary-hover: #a3e635;
    --accent-primary-glow: rgba(132, 204, 22, 0.5);

    --accent-green: #65a30d;
    --accent-green-hover: #84cc16;
    --accent-green-glow: rgba(101, 163, 13, 0.4);
    --accent-green-10: rgba(101, 163, 13, 0.1);
    --accent-green-15: rgba(101, 163, 13, 0.15);
    --accent-green-20: rgba(101, 163, 13, 0.2);
    --accent-green-30: rgba(101, 163, 13, 0.3);
    --accent-green-35: rgba(101, 163, 13, 0.35);
    --accent-green-40: rgba(101, 163, 13, 0.4);

    --accent-blue: #d4d4d4;
    --accent-blue-glow: rgba(212, 212, 212, 0.4);
    --accent-blue-08: rgba(212, 212, 212, 0.08);
    --accent-blue-10: rgba(212, 212, 212, 0.1);
    --accent-blue-15: rgba(212, 212, 212, 0.15);
    --accent-blue-20: rgba(212, 212, 212, 0.2);
    --accent-blue-30: rgba(212, 212, 212, 0.3);
    --accent-blue-35: rgba(212, 212, 212, 0.35);
    --accent-blue-40: rgba(212, 212, 212, 0.4);

    --accent-purple: #65a30d;
    --accent-purple-glow: rgba(101, 163, 13, 0.4);
    --accent-purple-04: rgba(101, 163, 13, 0.04);
    --accent-purple-05: rgba(101, 163, 13, 0.05);
    --accent-purple-08: rgba(101, 163, 13, 0.08);
    --accent-purple-10: rgba(101, 163, 13, 0.1);
    --accent-purple-12: rgba(101, 163, 13, 0.12);
    --accent-purple-15: rgba(101, 163, 13, 0.15);
    --accent-purple-20: rgba(101, 163, 13, 0.2);
    --accent-purple-30: rgba(101, 163, 13, 0.3);
    --accent-purple-35: rgba(101, 163, 13, 0.35);
    --accent-purple-40: rgba(101, 163, 13, 0.4);

    --accent-red: #f87171;
    --accent-red-glow: rgba(248, 113, 113, 0.4);
    --accent-red-10: rgba(248, 113, 113, 0.1);
    --accent-red-20: rgba(248, 113, 113, 0.2);
    --accent-red-35: rgba(248, 113, 113, 0.35);
    --accent-red-40: rgba(248, 113, 113, 0.4);

    --accent-amber: #a16207;
    --accent-amber-20: rgba(161, 98, 7, 0.2);
    --accent-amber-35: rgba(161, 98, 7, 0.35);
    --accent-amber-40: rgba(161, 98, 7, 0.4);

    --accent-cyan: #bef264;
    --accent-cyan-glow: rgba(190, 242, 100, 0.4);

    --gradient-start: #84cc16;
    --gradient-end: #65a30d;
    --gradient-tertiary: #bef264;
    --header-gradient-start: rgba(132, 204, 22, 0.15);
    --header-gradient-end: rgba(101, 163, 13, 0.1);
    --header-gradient-hover-start: rgba(132, 204, 22, 0.25);
    --header-gradient-hover-end: rgba(101, 163, 13, 0.15);
    --button-gradient-start: rgba(132, 204, 22, 0.3);
    --button-gradient-end: rgba(101, 163, 13, 0.2);

    --border-subtle: rgba(132, 204, 22, 0.08);
    --border-default: rgba(132, 204, 22, 0.15);
    --border-strong: rgba(132, 204, 22, 0.25);
    --border-gold: rgba(161, 98, 7, 0.5);
    --border-purple: rgba(101, 163, 13, 0.4);
    --border-blue: rgba(212, 212, 212, 0.3);
}

[data-theme="necro"] body {
    background:
        radial-gradient(ellipse at top left, rgba(132, 204, 22, 0.08) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(101, 163, 13, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(190, 242, 100, 0.02) 0%, transparent 60%),
        linear-gradient(180deg, #060906 0%, #050805 50%, #040604 100%);
    background-attachment: fixed;
}

[data-theme="necro"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 15px rgba(132, 204, 22, 0.5);
}

[data-theme="necro"] .status-hp .status-value {
    color: #f87171;
    text-shadow: 0 0 12px rgba(248, 113, 113, 0.8);
}

[data-theme="necro"] .status-arcana .status-value {
    color: #65a30d;
    text-shadow: 0 0 12px rgba(101, 163, 13, 0.8);
}

[data-theme="necro"] .status-willpower .status-value {
    color: #d4d4d4;
    text-shadow: 0 0 12px rgba(212, 212, 212, 0.8);
}

[data-theme="necro"] .status-worthiness .status-value {
    color: #a16207;
    text-shadow: 0 0 12px rgba(161, 98, 7, 0.8);
}

[data-theme="necro"] .stat-hp {
    border-left-color: #f87171;
    box-shadow: inset 3px 0 15px -5px rgba(248, 113, 113, 0.5);
}

[data-theme="necro"] .stat-arcana {
    border-left-color: #65a30d;
    box-shadow: inset 3px 0 15px -5px rgba(101, 163, 13, 0.5);
}

[data-theme="necro"] .stat-will {
    border-left-color: #d4d4d4;
    box-shadow: inset 3px 0 15px -5px rgba(212, 212, 212, 0.4);
}

[data-theme="necro"] .stat-worth {
    border-left-color: #a16207;
    box-shadow: inset 3px 0 15px -5px rgba(161, 98, 7, 0.5);
}

[data-theme="necro"] button:hover {
    box-shadow: 0 0 20px rgba(132, 204, 22, 0.4);
}

/* ===========================================
   THEME: Royal
   Royalty, luxury, deep purple
   =========================================== */
[data-theme="royal"] {
    --bg-base: #0a0610;
    --bg-elevated: #0f0a18;
    --bg-surface: #140e20;
    --bg-surface-hover: #1a1428;
    --bg-highlight: #201a32;
    --bg-press: #28203c;

    --text-base: #e8e0f0;
    --text-subdued: #b8a8d0;
    --text-muted: #7060a0;

    --accent-primary: #fbbf24;
    --accent-primary-hover: #fcd34d;
    --accent-primary-glow: rgba(251, 191, 36, 0.5);

    --accent-green: #22c55e;
    --accent-green-hover: #4ade80;
    --accent-green-glow: rgba(34, 197, 94, 0.3);
    --accent-green-10: rgba(34, 197, 94, 0.1);
    --accent-green-15: rgba(34, 197, 94, 0.15);
    --accent-green-20: rgba(34, 197, 94, 0.2);
    --accent-green-30: rgba(34, 197, 94, 0.3);
    --accent-green-35: rgba(34, 197, 94, 0.35);
    --accent-green-40: rgba(34, 197, 94, 0.4);

    --accent-blue: #2563eb;
    --accent-blue-glow: rgba(37, 99, 235, 0.4);
    --accent-blue-08: rgba(37, 99, 235, 0.08);
    --accent-blue-10: rgba(37, 99, 235, 0.1);
    --accent-blue-15: rgba(37, 99, 235, 0.15);
    --accent-blue-20: rgba(37, 99, 235, 0.2);
    --accent-blue-30: rgba(37, 99, 235, 0.3);
    --accent-blue-35: rgba(37, 99, 235, 0.35);
    --accent-blue-40: rgba(37, 99, 235, 0.4);

    --accent-purple: #9333ea;
    --accent-purple-glow: rgba(147, 51, 234, 0.4);
    --accent-purple-04: rgba(147, 51, 234, 0.04);
    --accent-purple-05: rgba(147, 51, 234, 0.05);
    --accent-purple-08: rgba(147, 51, 234, 0.08);
    --accent-purple-10: rgba(147, 51, 234, 0.1);
    --accent-purple-12: rgba(147, 51, 234, 0.12);
    --accent-purple-15: rgba(147, 51, 234, 0.15);
    --accent-purple-20: rgba(147, 51, 234, 0.2);
    --accent-purple-30: rgba(147, 51, 234, 0.3);
    --accent-purple-35: rgba(147, 51, 234, 0.35);
    --accent-purple-40: rgba(147, 51, 234, 0.4);

    --accent-red: #e11d48;
    --accent-red-glow: rgba(225, 29, 72, 0.4);
    --accent-red-10: rgba(225, 29, 72, 0.1);
    --accent-red-20: rgba(225, 29, 72, 0.2);
    --accent-red-35: rgba(225, 29, 72, 0.35);
    --accent-red-40: rgba(225, 29, 72, 0.4);

    --accent-amber: #f59e0b;
    --accent-amber-20: rgba(245, 158, 11, 0.2);
    --accent-amber-35: rgba(245, 158, 11, 0.35);
    --accent-amber-40: rgba(245, 158, 11, 0.4);

    --accent-cyan: #c084fc;
    --accent-cyan-glow: rgba(192, 132, 252, 0.4);

    --gradient-start: #fbbf24;
    --gradient-end: #9333ea;
    --gradient-tertiary: #2563eb;
    --header-gradient-start: rgba(251, 191, 36, 0.15);
    --header-gradient-end: rgba(147, 51, 234, 0.1);
    --header-gradient-hover-start: rgba(251, 191, 36, 0.25);
    --header-gradient-hover-end: rgba(147, 51, 234, 0.15);
    --button-gradient-start: rgba(251, 191, 36, 0.3);
    --button-gradient-end: rgba(147, 51, 234, 0.2);

    --border-subtle: rgba(147, 51, 234, 0.1);
    --border-default: rgba(147, 51, 234, 0.18);
    --border-strong: rgba(251, 191, 36, 0.3);
    --border-gold: rgba(251, 191, 36, 0.5);
    --border-purple: rgba(147, 51, 234, 0.4);
    --border-blue: rgba(37, 99, 235, 0.4);
}

[data-theme="royal"] body {
    background:
        radial-gradient(ellipse at top left, rgba(147, 51, 234, 0.1) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(251, 191, 36, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(37, 99, 235, 0.04) 0%, transparent 60%),
        linear-gradient(180deg, #0c0814 0%, #0a0610 50%, #08040c 100%);
    background-attachment: fixed;
}

[data-theme="royal"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 15px rgba(251, 191, 36, 0.5);
}

[data-theme="royal"] .status-hp .status-value {
    color: #e11d48;
    text-shadow: 0 0 12px rgba(225, 29, 72, 0.8);
}

[data-theme="royal"] .status-arcana .status-value {
    color: #9333ea;
    text-shadow: 0 0 12px rgba(147, 51, 234, 0.8);
}

[data-theme="royal"] .status-willpower .status-value {
    color: #2563eb;
    text-shadow: 0 0 12px rgba(37, 99, 235, 0.8);
}

[data-theme="royal"] .status-worthiness .status-value {
    color: #f59e0b;
    text-shadow: 0 0 12px rgba(245, 158, 11, 0.8);
}

[data-theme="royal"] .stat-hp {
    border-left-color: #e11d48;
    box-shadow: inset 3px 0 15px -5px rgba(225, 29, 72, 0.5);
}

[data-theme="royal"] .stat-arcana {
    border-left-color: #9333ea;
    box-shadow: inset 3px 0 15px -5px rgba(147, 51, 234, 0.5);
}

[data-theme="royal"] .stat-will {
    border-left-color: #2563eb;
    box-shadow: inset 3px 0 15px -5px rgba(37, 99, 235, 0.5);
}

[data-theme="royal"] .stat-worth {
    border-left-color: #f59e0b;
    box-shadow: inset 3px 0 15px -5px rgba(245, 158, 11, 0.5);
}

[data-theme="royal"] button:hover {
    box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
}

/* ===========================================
   THEME: Crimson
   War, battlefield, intense
   =========================================== */
[data-theme="crimson"] {
    --bg-base: #0c0506;
    --bg-elevated: #120809;
    --bg-surface: #180b0c;
    --bg-surface-hover: #1e0e10;
    --bg-highlight: #261214;
    --bg-press: #2e1618;

    --text-base: #f5f0f0;
    --text-subdued: #c8b0b0;
    --text-muted: #907070;

    --accent-primary: #be123c;
    --accent-primary-hover: #e11d48;
    --accent-primary-glow: rgba(190, 18, 60, 0.5);

    --accent-green: #22c55e;
    --accent-green-hover: #4ade80;
    --accent-green-glow: rgba(34, 197, 94, 0.3);
    --accent-green-10: rgba(34, 197, 94, 0.1);
    --accent-green-15: rgba(34, 197, 94, 0.15);
    --accent-green-20: rgba(34, 197, 94, 0.2);
    --accent-green-30: rgba(34, 197, 94, 0.3);
    --accent-green-35: rgba(34, 197, 94, 0.35);
    --accent-green-40: rgba(34, 197, 94, 0.4);

    --accent-blue: #6b7280;
    --accent-blue-glow: rgba(107, 114, 128, 0.4);
    --accent-blue-08: rgba(107, 114, 128, 0.08);
    --accent-blue-10: rgba(107, 114, 128, 0.1);
    --accent-blue-15: rgba(107, 114, 128, 0.15);
    --accent-blue-20: rgba(107, 114, 128, 0.2);
    --accent-blue-30: rgba(107, 114, 128, 0.3);
    --accent-blue-35: rgba(107, 114, 128, 0.35);
    --accent-blue-40: rgba(107, 114, 128, 0.4);

    --accent-purple: #b45309;
    --accent-purple-glow: rgba(180, 83, 9, 0.4);
    --accent-purple-04: rgba(180, 83, 9, 0.04);
    --accent-purple-05: rgba(180, 83, 9, 0.05);
    --accent-purple-08: rgba(180, 83, 9, 0.08);
    --accent-purple-10: rgba(180, 83, 9, 0.1);
    --accent-purple-12: rgba(180, 83, 9, 0.12);
    --accent-purple-15: rgba(180, 83, 9, 0.15);
    --accent-purple-20: rgba(180, 83, 9, 0.2);
    --accent-purple-30: rgba(180, 83, 9, 0.3);
    --accent-purple-35: rgba(180, 83, 9, 0.35);
    --accent-purple-40: rgba(180, 83, 9, 0.4);

    --accent-red: #dc2626;
    --accent-red-glow: rgba(220, 38, 38, 0.5);
    --accent-red-10: rgba(220, 38, 38, 0.1);
    --accent-red-20: rgba(220, 38, 38, 0.2);
    --accent-red-35: rgba(220, 38, 38, 0.35);
    --accent-red-40: rgba(220, 38, 38, 0.4);

    --accent-amber: #d97706;
    --accent-amber-20: rgba(217, 119, 6, 0.2);
    --accent-amber-35: rgba(217, 119, 6, 0.35);
    --accent-amber-40: rgba(217, 119, 6, 0.4);

    --accent-cyan: #9ca3af;
    --accent-cyan-glow: rgba(156, 163, 175, 0.4);

    --gradient-start: #be123c;
    --gradient-end: #dc2626;
    --gradient-tertiary: #b45309;
    --header-gradient-start: rgba(190, 18, 60, 0.15);
    --header-gradient-end: rgba(220, 38, 38, 0.1);
    --header-gradient-hover-start: rgba(190, 18, 60, 0.25);
    --header-gradient-hover-end: rgba(220, 38, 38, 0.15);
    --button-gradient-start: rgba(190, 18, 60, 0.3);
    --button-gradient-end: rgba(220, 38, 38, 0.2);

    --border-subtle: rgba(190, 18, 60, 0.1);
    --border-default: rgba(190, 18, 60, 0.18);
    --border-strong: rgba(190, 18, 60, 0.3);
    --border-gold: rgba(217, 119, 6, 0.5);
    --border-purple: rgba(180, 83, 9, 0.4);
    --border-blue: rgba(107, 114, 128, 0.4);
}

[data-theme="crimson"] body {
    background:
        radial-gradient(ellipse at top left, rgba(190, 18, 60, 0.1) 0%, transparent 40%),
        radial-gradient(ellipse at bottom right, rgba(220, 38, 38, 0.06) 0%, transparent 40%),
        radial-gradient(ellipse at center, rgba(180, 83, 9, 0.04) 0%, transparent 60%),
        linear-gradient(180deg, #0e0607 0%, #0c0506 50%, #0a0404 100%);
    background-attachment: fixed;
}

[data-theme="crimson"] .section-title {
    color: var(--accent-primary);
    text-shadow: 0 0 15px rgba(190, 18, 60, 0.5);
}

[data-theme="crimson"] .status-hp .status-value {
    color: #dc2626;
    text-shadow: 0 0 12px rgba(220, 38, 38, 0.8);
}

[data-theme="crimson"] .status-arcana .status-value {
    color: #b45309;
    text-shadow: 0 0 12px rgba(180, 83, 9, 0.8);
}

[data-theme="crimson"] .status-willpower .status-value {
    color: #6b7280;
    text-shadow: 0 0 12px rgba(107, 114, 128, 0.8);
}

[data-theme="crimson"] .status-worthiness .status-value {
    color: #d97706;
    text-shadow: 0 0 12px rgba(217, 119, 6, 0.8);
}

[data-theme="crimson"] .stat-hp {
    border-left-color: #dc2626;
    box-shadow: inset 3px 0 15px -5px rgba(220, 38, 38, 0.5);
}

[data-theme="crimson"] .stat-arcana {
    border-left-color: #b45309;
    box-shadow: inset 3px 0 15px -5px rgba(180, 83, 9, 0.5);
}

[data-theme="crimson"] .stat-will {
    border-left-color: #6b7280;
    box-shadow: inset 3px 0 15px -5px rgba(107, 114, 128, 0.4);
}

[data-theme="crimson"] .stat-worth {
    border-left-color: #d97706;
    box-shadow: inset 3px 0 15px -5px rgba(217, 119, 6, 0.5);
}

[data-theme="crimson"] button:hover {
    box-shadow: 0 0 20px rgba(190, 18, 60, 0.4);
}

/* Reset & Base */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
}

body {
    font-family: var(--font-family);
    background: var(--bg-base);
    color: var(--text-base);
    line-height: 1.7;
    min-height: 100vh;
    overflow-x: hidden;
    padding: var(--space-8) var(--space-6);
}

/* Subtle background gradient like landing page */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(ellipse at 10% 20%, rgba(168, 85, 247, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 90% 70%, rgba(59, 158, 255, 0.06) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, rgba(34, 217, 127, 0.04) 0%, transparent 40%);
    z-index: -1;
    pointer-events: none;
}

/* Container */
.container {
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
}

/* ===========================================
   Header - Compact Modern Style
   =========================================== */
header {
    text-align: center;
    padding: var(--space-6) var(--space-6);
    margin-bottom: var(--space-8);
    background: var(--bg-surface);
    border-radius: var(--radius-xl);
    border: 1px solid var(--border-subtle);
    position: relative;
}

/* Compact header variant */
header.header-compact {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-3) var(--space-5);
    margin-bottom: var(--space-4);
    text-align: left;
}

header.header-compact::before {
    display: none;
}

.header-left {
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.header-back-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    padding: 0;
    background: transparent;
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    color: var(--text-subdued);
    cursor: pointer;
    transition: all var(--transition-base);
}

.header-back-btn:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
    color: var(--accent-purple);
    transform: translateX(-2px);
}

.header-logo {
    text-decoration: none;
}

.logo-text {
    font-size: var(--font-size-lg);
    font-weight: 700;
    background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: -0.02em;
}

.logo-subtitle {
    display: block;
    font-size: var(--font-size-xs);
    font-weight: 500;
    color: var(--accent-cyan);
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-top: -2px;
}

.header-right {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    /* Position in header area on desktop (element is outside header in DOM for z-index reasons) */
    position: absolute;
    top: var(--space-3);
    right: var(--space-8);
    z-index: 100;
}

/* Ensure header-right is visible on desktop (Firefox fix) */
@media (min-width: 769px) {
    .header-right {
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
}

/* Compact header dropdowns for DM tools */
.header-compact .header-dropdown-trigger {
    padding: var(--space-2) var(--space-3);
    background: transparent;
    border: 1px solid var(--border-subtle);
    font-size: var(--font-size-xs);
    border-radius: var(--radius-lg);
}

.header-compact .header-dropdown-trigger:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
}

.header-compact .header-dropdown-trigger .chevron {
    display: none;
}

/* Legacy header styles */
header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--accent-purple), var(--accent-blue), transparent);
    opacity: 0.6;
}

h1 {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: -0.02em;
    margin-bottom: var(--space-1);
}

h1 .subtitle {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: 400;
    color: var(--accent-cyan);
    -webkit-text-fill-color: var(--accent-cyan);
    margin-top: var(--space-2);
    letter-spacing: 0.05em;
    text-transform: uppercase;
}

/* ===========================================
   Action Groups
   =========================================== */
.actions {
    display: flex;
    gap: var(--space-3);
    justify-content: center;
    flex-wrap: wrap;
    margin-top: var(--space-6);
}

.action-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-4);
    background: var(--bg-elevated);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-subtle);
}

.action-group-label {
    font-size: var(--font-size-xs);
    font-weight: 500;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.action-buttons {
    display: flex;
    gap: var(--space-2);
}

/* ===========================================
   Dropdown Menus
   =========================================== */
.header-menus {
    display: flex;
    gap: var(--space-3);
    justify-content: center;
    margin-top: var(--space-6);
}

.dropdown {
    position: relative;
}

.dropdown-trigger {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-4);
    font-family: var(--font-family);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--text-base);
    background: linear-gradient(135deg, var(--header-gradient-start) 0%, var(--header-gradient-end) 100%);
    border: 1px solid var(--border-purple);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-base);
    white-space: nowrap;
}

.dropdown-trigger:hover {
    background: linear-gradient(135deg, var(--header-gradient-hover-start) 0%, var(--header-gradient-hover-end) 100%);
    border-color: var(--gradient-start);
    box-shadow: 0 0 20px var(--accent-primary-glow);
}

/* Compact dropdown triggers in header-right */
.header-right .dropdown-trigger {
    padding: var(--space-2) var(--space-3);
    background: transparent;
    border-color: var(--border-subtle);
    font-size: var(--font-size-xs);
}

.header-right .dropdown-trigger:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
    box-shadow: none;
}

.header-right .dropdown-trigger .icon-arrow {
    display: none;
}

.header-right .dropdown-trigger svg {
    width: 16px;
    height: 16px;
}

.dropdown-trigger svg {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
}

.dropdown-trigger .icon-main {
    color: var(--accent-cyan);
}

.dropdown-trigger .icon-arrow {
    color: var(--text-muted);
    transition: transform var(--transition-base);
    width: 14px;
    height: 14px;
}

.dropdown.open .dropdown-trigger .icon-arrow {
    transform: rotate(180deg);
}

.dropdown.open .dropdown-trigger {
    background: linear-gradient(135deg, var(--button-gradient-start) 0%, var(--button-gradient-end) 100%);
    border-color: var(--gradient-start);
    box-shadow: 0 0 20px var(--accent-primary-glow);
}

.dropdown-menu {
    position: absolute;
    top: calc(100% + var(--space-2));
    left: 50%;
    transform: translateX(-50%);
    min-width: 200px;
    background: var(--bg-surface);
    border: 1px solid var(--border-purple);
    border-radius: var(--radius-lg);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), 0 0 20px var(--accent-purple-glow);
    opacity: 0;
    visibility: hidden;
    transform: translateX(-50%) translateY(-10px);
    transition: all var(--transition-base);
    z-index: 1000;
    overflow: hidden;
}

.dropdown.open .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

.dropdown-menu::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end), var(--gradient-tertiary));
}

.dropdown-item,
button.dropdown-item,
a.dropdown-item {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--space-3);
    width: 100%;
    padding: var(--space-3) var(--space-4);
    font-family: var(--font-family);
    font-size: var(--font-size-sm);
    font-weight: 400;
    color: var(--text-base);
    background: transparent;
    text-decoration: none;
    text-align: left;
    border: none;
    cursor: pointer;
    transition: all var(--transition-fast);
    text-align: left;
    text-decoration: none;
}

.dropdown-item:hover {
    background: var(--bg-highlight);
    color: var(--accent-cyan);
    transform: none;
    box-shadow: none;
}

.dropdown-item svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    color: var(--accent-blue);
    transition: color var(--transition-fast);
}

.dropdown-item:hover svg {
    color: var(--accent-cyan);
}

.dropdown-item.danger {
    color: var(--accent-red);
}

.dropdown-item.danger svg {
    color: var(--accent-red);
}

.dropdown-item.danger:hover {
    background: var(--accent-red-10);
    color: var(--accent-red);
}

.dropdown-item.success {
    color: var(--accent-green);
}

.dropdown-item.success svg {
    color: var(--accent-green);
}

/* Theme selector items */
.dropdown-item.theme-option {
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.theme-color {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    flex-shrink: 0;
    border: 2px solid var(--border-default);
}

.theme-check {
    margin-left: auto;
    color: var(--accent-green);
    font-weight: bold;
    opacity: 0;
}

.dropdown-item.theme-option.active .theme-check,
.theme-check:not(:empty) {
    opacity: 1;
}

.dropdown-divider {
    height: 1px;
    background: var(--border-subtle);
    margin: var(--space-2) 0;
}

.dropdown-label {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Server dropdown - different accent color */
.dropdown.dropdown-server .dropdown-trigger {
    background: linear-gradient(135deg, var(--accent-green-15) 0%, var(--accent-blue-10) 100%);
    border-color: var(--accent-green-40);
}

.dropdown.dropdown-server .dropdown-trigger:hover,
.dropdown.dropdown-server.open .dropdown-trigger {
    background: linear-gradient(135deg, var(--accent-green-glow) 0%, var(--accent-blue-15) 100%);
    border-color: var(--accent-green);
    box-shadow: 0 0 20px var(--accent-green-glow);
}

.dropdown.dropdown-server .dropdown-trigger .icon-main {
    color: var(--accent-green);
}

.dropdown.dropdown-server .dropdown-menu {
    border-color: var(--accent-green-40);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), 0 0 20px var(--accent-green-glow);
}

.dropdown.dropdown-server .dropdown-menu::before {
    background: linear-gradient(90deg, var(--accent-green), var(--accent-blue), var(--accent-cyan));
}

/* ===========================================
   RESPONSIVE - Mobile Menu & Header
   =========================================== */

/* Mobile menu button - hidden by default */
.mobile-menu-btn {
    display: none;
    width: 40px;
    height: 40px;
    padding: 0;
    background: transparent;
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    color: var(--text-subdued);
    cursor: pointer;
}

.mobile-menu-btn svg {
    width: 20px;
    height: 20px;
}

.mobile-menu-btn:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
    color: var(--accent-purple);
}

/* Mobile menu close button */
.mobile-menu-close {
    display: none;
    position: fixed;
    top: 16px;
    right: 16px;
    z-index: 10001;
    width: 44px;
    height: 44px;
    padding: 0;
    background: var(--bg-elevated);
    border: 1px solid var(--border-default);
    border-radius: 50%;
    color: var(--text-base);
    cursor: pointer;
    align-items: center;
    justify-content: center;
}

.mobile-menu-close svg {
    width: 20px;
    height: 20px;
}

.mobile-menu-close.visible {
    display: flex;
}

/* Tablet (768px - 1024px) */
@media (max-width: 1024px) {
    header.header-compact {
        padding: var(--space-3) var(--space-4);
    }

    .header-right .dropdown-trigger {
        padding: var(--space-2);
    }

    .header-right .dropdown-trigger span:not(.theme-color):not(.theme-check) {
        display: none;
    }
}

/* Mobile (< 768px) */
@media (max-width: 768px) {
    .mobile-menu-btn {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    header.header-compact {
        padding: var(--space-3);
    }

    header.header-compact .header-left {
        flex: 1;
    }

    header.header-compact .header-back-btn {
        width: 36px;
        height: 36px;
    }

    header.header-compact .logo-text {
        font-size: var(--font-size-base);
    }

    /* Header-right becomes fullscreen mobile menu */
    .header-right {
        display: none !important;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.95);
        z-index: 10000;
        padding: var(--space-6);
        padding-top: 80px;
        flex-direction: column;
        gap: var(--space-3);
        overflow-y: auto;
    }

    .header-right.mobile-open {
        display: flex !important;
    }

    /* Dropdowns in mobile menu */
    .header-right .dropdown {
        width: 100%;
    }

    .header-right .dropdown-trigger {
        width: 100%;
        justify-content: flex-start;
        padding: var(--space-4);
        background: var(--bg-elevated);
        border: 1px solid var(--border-default);
        border-radius: var(--radius-lg);
        font-size: var(--font-size-base);
    }

    .header-right .dropdown-trigger span:not(.theme-color):not(.theme-check) {
        display: inline;
    }

    .header-right .dropdown-trigger .icon-arrow {
        display: block;
        margin-left: auto;
    }

    .header-right .dropdown-menu,
    [data-theme] .header-right .dropdown-menu {
        position: static;
        transform: none !important;
        width: 100%;
        margin-top: 0;
        box-shadow: none !important;
        border: 1px solid var(--border-default);
        border-top: none;
        border-radius: 0 0 var(--radius-lg) var(--radius-lg);
        /* Hidden by default - collapsible on mobile */
        max-height: 0;
        overflow: hidden;
        opacity: 0;
        visibility: hidden;
        transition: max-height 0.3s ease, opacity 0.2s ease, visibility 0.2s ease, margin 0.3s ease;
        background: var(--bg-elevated);
    }

    .header-right .dropdown.open .dropdown-menu,
    [data-theme] .header-right .dropdown.open .dropdown-menu {
        max-height: 500px;
        opacity: 1;
        visibility: visible;
        margin-top: 0;
        margin-bottom: var(--space-3);
    }

    .header-right .dropdown-trigger .icon-arrow {
        transform: rotate(0deg);
        transition: transform 0.3s ease;
    }

    .header-right .dropdown.open .dropdown-trigger .icon-arrow {
        transform: rotate(180deg);
    }

    .header-right .dropdown.open .dropdown-trigger {
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        border-bottom-color: transparent;
    }

    /* Ensure theme-specific dropdown triggers work on mobile */
    [data-theme] .header-right .dropdown-trigger {
        background: var(--bg-elevated);
        border: 1px solid var(--border-default);
    }

    /* Legacy header-menus support */
    .header-menus {
        flex-direction: column;
        align-items: center;
        gap: var(--space-2);
    }
}

/* Small mobile (< 480px) */
@media (max-width: 480px) {
    header.header-compact {
        padding: var(--space-2);
    }

    header.header-compact .header-back-btn {
        width: 32px;
        height: 32px;
    }

    header.header-compact .logo-text {
        font-size: var(--font-size-sm);
    }

    .logo-subtitle {
        display: none;
    }
}

/* ===========================================
   Buttons - Modern Clean Style
   =========================================== */
button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    font-family: var(--font-family);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--text-base);
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    cursor: pointer;
    transition: all var(--transition-base);
    white-space: nowrap;
}

button:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
    box-shadow: 0 4px 20px rgba(168, 85, 247, 0.15);
    transform: translateY(-2px);
}

button:active {
    transform: translateY(0) scale(0.98);
}

button:focus-visible {
    outline: 2px solid var(--accent-purple);
    outline-offset: 2px;
}

button svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    color: var(--accent-cyan);
    transition: color var(--transition-fast);
}

button:hover svg {
    color: var(--accent-purple);
}

/* Primary Button */
.btn-primary {
    background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
    color: #fff;
    border: none;
    font-weight: 600;
}

.btn-primary:hover {
    background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-purple) 100%);
    box-shadow: 0 4px 24px var(--accent-purple-glow), 0 0 40px var(--accent-blue-glow);
}

.btn-primary svg {
    color: #fff;
}

/* Danger Button */
button.danger-btn {
    color: var(--accent-red);
    background: transparent;
    border-color: var(--accent-red-20);
}

button.danger-btn:hover {
    background: var(--accent-red-10);
    border-color: var(--accent-red);
    box-shadow: 0 4px 20px var(--accent-red-glow);
}

button.danger-btn svg {
    color: var(--accent-red);
}

/* ===========================================
   Sections - Clean Card Style
   =========================================== */
.section {
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    padding: var(--space-6);
    margin-bottom: var(--space-6);
    position: relative;
    transition: border-color var(--transition-base), box-shadow var(--transition-base);
}

.section:hover {
    border-color: var(--border-default);
}

.section::before {
    display: none;
}

.section-title {
    font-size: var(--font-size-base);
    font-weight: 600;
    color: var(--text-base);
    margin-bottom: var(--space-5);
    padding-bottom: var(--space-3);
    border-bottom: 1px solid var(--border-subtle);
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.section-title svg {
    width: 20px;
    height: 20px;
    color: var(--accent-purple);
}

/* ===========================================
   Collapsible Sections (Mobile/Tablet only)
   =========================================== */
@media (max-width: 1024px) {
    .section.collapsible .section-title {
        cursor: pointer;
        user-select: none;
        margin-bottom: 0;
        padding: var(--space-4);
        margin: calc(var(--space-3) * -1);
        margin-bottom: 0;
        border-radius: var(--radius-lg);
        transition: background-color 0.2s ease;
    }

    .section.collapsible .section-title:hover {
        background: var(--bg-surface-hover);
    }

    .section.collapsible .section-title::after {
        content: '';
        display: block;
        flex-shrink: 0;
        width: 20px;
        height: 20px;
        margin-left: auto;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        transition: transform 0.3s ease;
    }

    .section.collapsible.collapsed .section-title::after {
        transform: rotate(-90deg);
    }

    .section.collapsible .section-content {
        overflow: hidden;
        transition: max-height 0.3s ease-out, opacity 0.2s ease-out, padding 0.3s ease-out, visibility 0s linear 0s;
        max-height: 5000px;
        opacity: 1;
        padding-top: var(--space-5);
        visibility: visible;
    }

    .section.collapsible.collapsed .section-content {
        max-height: 0 !important;
        opacity: 0;
        padding-top: 0;
        padding-bottom: 0;
        margin: 0;
        visibility: hidden;
        transition: max-height 0.3s ease-out, opacity 0.2s ease-out, padding 0.3s ease-out, visibility 0s linear 0.3s;
    }

    .section.collapsible.collapsed .section-title {
        border-bottom: none;
        margin-bottom: 0;
    }

    /* Compact collapsed sections */
    .section.collapsible.collapsed {
        padding: 0 !important;
        margin-bottom: 6px !important;
    }

    .section.collapsible.collapsed .section-title {
        padding: 10px 14px !important;
        margin: 0 !important;
        font-size: 0.85rem !important;
        border-radius: var(--radius-lg) !important;
        background: transparent !important;
    }

    .section.collapsible.collapsed .section-title::after {
        width: 14px !important;
        height: 14px !important;
    }

    /* Collapsible Attributes */
    .attribute-section.collapsible .attribute-header {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: 8px;
    }

    .attribute-section.collapsible .attribute-header .attribute-name {
        flex: 1;
        cursor: pointer;
        user-select: none;
    }

    .attribute-section.collapsible .attribute-header .value-controls {
        order: 2;
    }

    .attr-collapse-btn {
        order: 3;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        padding: 0;
        margin-left: 4px;
        background: transparent;
        border: 1px solid var(--border-subtle);
        border-radius: var(--radius-md);
        color: var(--text-muted);
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .attr-collapse-btn:hover {
        background: var(--bg-surface-hover);
        border-color: var(--accent-purple);
        color: var(--accent-purple);
    }

    .attr-collapse-btn svg {
        width: 16px;
        height: 16px;
        transition: transform 0.3s ease;
    }

    .attribute-section.collapsible.collapsed .attr-collapse-btn svg {
        transform: rotate(-90deg);
    }

    .attribute-section.collapsible .skill-list {
        overflow: hidden;
        transition: max-height 0.3s ease-out, opacity 0.2s ease-out, margin 0.3s ease-out, visibility 0s linear 0s;
        max-height: 500px;
        opacity: 1;
        visibility: visible;
    }

    .attribute-section.collapsible.collapsed .skill-list {
        max-height: 0 !important;
        opacity: 0;
        margin-top: 0;
        margin-bottom: 0;
        visibility: hidden;
        transition: max-height 0.3s ease-out, opacity 0.2s ease-out, margin 0.3s ease-out, visibility 0s linear 0.3s;
    }

    /* Compact collapsed attribute sections */
    .attribute-section.collapsible.collapsed {
        padding: 0 !important;
        margin-bottom: 6px !important;
    }

    .attribute-section.collapsible.collapsed .attribute-header {
        padding: 10px 14px !important;
        margin: 0 !important;
    }

    .attribute-section.collapsible.collapsed .attribute-name {
        font-size: 0.85rem !important;
    }
}

/* Hide collapse buttons on desktop */
@media (min-width: 1025px) {
    .attr-collapse-btn {
        display: none !important;
    }

    .attribute-section.collapsible .attribute-header .attribute-name {
        cursor: default;
    }
}

/* ===========================================
   Grid System
   =========================================== */
.grid {
    display: grid;
    gap: var(--space-4);
}

.grid-2 {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

.grid-3 {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.field-group {
    margin-bottom: var(--space-4);
}

/* ===========================================
   Form Elements
   =========================================== */
label {
    display: block;
    font-size: var(--font-size-xs);
    font-weight: 500;
    color: var(--text-subdued);
    margin-bottom: var(--space-1);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

input[type="text"],
input[type="email"],
input[type="number"],
input[type="password"],
textarea,
select {
    width: 100%;
    padding: var(--space-3) var(--space-4);
    font-family: var(--font-family);
    font-size: var(--font-size-sm);
    color: var(--text-base);
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    transition: all var(--transition-base);
    -webkit-appearance: none;
    appearance: none;
}

/* Hide native number input spinners (desktop only shows these) */
input[type="number"] {
    -moz-appearance: textfield;
}

input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type="text"]:hover,
input[type="email"]:hover,
input[type="number"]:hover,
input[type="password"]:hover,
textarea:hover,
select:hover {
    border-color: var(--border-default);
    background: var(--bg-surface);
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="number"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
    outline: none;
    border-color: var(--accent-purple);
    background: var(--bg-surface);
    box-shadow: 0 0 0 3px var(--accent-purple-glow);
}

input::placeholder,
textarea::placeholder {
    color: var(--text-muted);
    font-weight: 400;
}

select {
    cursor: pointer;
    padding-right: var(--space-10);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236a6a80' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right var(--space-3) center;
}

textarea {
    resize: vertical;
    min-height: 100px;
    line-height: 1.6;
}

/* ===========================================
   Multi-System Input Fixes
   =========================================== */
#system-content input[type="text"],
#system-content input[type="number"],
#system-content select,
#system-content textarea {
    line-height: 1.4;
    min-height: 38px;
}

#system-content input[type="number"] {
    -moz-appearance: textfield;
}

#system-content input[type="number"]::-webkit-outer-spin-button,
#system-content input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* Compact inputs for small number fields */
#system-content .compact-input,
#system-content .stat-value input,
#system-content .attr-score input,
#system-content .attr-mod {
    padding: var(--space-2);
    min-height: 32px;
}

/* ===========================================
   Attribute Sections
   =========================================== */
.attribute-section {
    background: var(--bg-elevated);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-subtle);
    min-height: 200px;
}

.attribute-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border-subtle);
}

.attribute-name {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--accent-blue);
}

.attribute-value {
    width: 70px !important;
    min-width: 70px !important;
    max-width: 70px !important;
    text-align: center;
    font-weight: 600;
}

.skill-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.skill-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2);
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
    transition: background var(--transition-fast);
}

.skill-item:hover {
    background: var(--bg-surface-hover);
}

.skill-name {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
}

.skill-value {
    width: 70px !important;
    min-width: 70px !important;
    max-width: 70px !important;
    text-align: center;
}

/* Attribute/Skill value controls with +/- buttons */
.value-controls {
    display: flex;
    align-items: center;
    gap: 4px;
}

.value-btn {
    width: 28px;
    height: 28px;
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
    color: var(--text-secondary);
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
    padding: 0;
    line-height: 1;
}

.value-btn:hover {
    background: var(--accent-purple);
    color: var(--text-primary);
    border-color: var(--accent-purple);
}

.value-btn:active {
    transform: scale(0.95);
}

.value-btn.minus {
    color: #ef4444;
}

.value-btn.minus:hover {
    background: #ef4444;
    color: white;
    border-color: #ef4444;
}

.value-btn.plus {
    color: #22c55e;
}

.value-btn.plus:hover {
    background: #22c55e;
    color: white;
    border-color: #22c55e;
}

.value-controls .attribute-value,
.value-controls .skill-value {
    width: 60px !important;
    min-width: 60px !important;
    max-width: 60px !important;
}

/* Value controls in table cells */
td .value-controls {
    justify-content: center;
}

td .value-controls input {
    width: 50px !important;
    min-width: 50px !important;
    padding: 4px 2px;
}

td .value-btn {
    width: 24px;
    height: 24px;
    font-size: 14px;
}

/* Mobile responsive for value buttons - larger touch targets */
@media (max-width: 768px) {
    .value-btn {
        width: 36px;
        height: 36px;
        font-size: 18px;
    }

    .value-controls {
        gap: 2px;
    }

    .value-controls .attribute-value,
    .value-controls .skill-value {
        width: 45px !important;
        min-width: 45px !important;
        max-width: 45px !important;
        font-size: 14px;
    }

    td .value-btn {
        width: 32px;
        height: 32px;
        font-size: 16px;
    }

    td .value-controls input {
        width: 45px !important;
        min-width: 45px !important;
    }
}

@media (max-width: 480px) {
    .value-btn {
        width: 32px;
        height: 32px;
        font-size: 16px;
    }

    .value-controls .attribute-value,
    .value-controls .skill-value {
        width: 40px !important;
        min-width: 40px !important;
        max-width: 40px !important;
        font-size: 13px;
    }

    .attribute-header {
        flex-wrap: wrap;
        gap: 8px;
    }

    .skill-item {
        flex-wrap: wrap;
        gap: 4px;
    }

    .skill-name {
        min-width: 100%;
        margin-bottom: 4px;
    }
}

/* ===========================================
   Tables
   =========================================== */
.table-section {
    overflow-x: auto;
}

/* Armor slot labels */
.armor-slot-label {
    display: block;
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-subdued);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 4px;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: var(--space-3);
    text-align: left;
    border-bottom: 1px solid var(--border-subtle);
}

th {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-subdued);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

td input {
    width: 100%;
    min-width: 60px;
}

/* ===========================================
   Checkboxes
   =========================================== */
.checkbox-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: var(--space-2);
}

.checkbox-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--accent-primary);
    border-radius: var(--radius-sm);
}

/* ===========================================
   Tabs - Minimal Underline Style
   =========================================== */
.tab-container {
    display: flex;
    gap: var(--space-1);
    margin-bottom: var(--space-6);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border-subtle);
    flex-wrap: wrap;
    background: transparent;
}

.tab {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-2) var(--space-3);
    font-family: var(--font-family);
    font-size: var(--font-size-xs);
    font-weight: 500;
    color: var(--text-muted);
    background: transparent;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
    white-space: nowrap;
    position: relative;
}

.tab svg {
    width: 14px;
    height: 14px;
    color: var(--text-muted);
    transition: color var(--transition-base);
}

.tab:hover {
    color: var(--text-base);
    background: var(--bg-surface);
}

.tab:hover svg {
    color: var(--accent-purple);
}

.tab.active {
    color: var(--accent-purple);
    background: transparent;
}

.tab.active::after {
    content: '';
    position: absolute;
    bottom: -9px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue));
    border-radius: 2px;
}

.tab.active svg {
    color: var(--accent-purple);
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

/* ===========================================
   Sliders
   =========================================== */
.slider-container {
    padding: var(--space-4);
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-3);
}

.slider-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-3);
}

.slider-label span:first-child {
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--text-subdued);
}

.slider-label span:last-child {
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: var(--accent-primary);
}

input[type="range"] {
    width: 100%;
    height: 4px;
    background: var(--bg-highlight);
    border-radius: var(--radius-xl);
    outline: none;
    -webkit-appearance: none;
    appearance: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    background: var(--accent-primary);
    border-radius: 50%;
    cursor: pointer;
    transition: transform var(--transition-fast);
}

input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.15);
}

input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: var(--accent-primary);
    border: none;
    border-radius: 50%;
    cursor: pointer;
}

/* ===========================================
   Inventory Grid
   =========================================== */
.inventory-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-5);
}

.inventory-column {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

/* ===========================================
   Dice Roller
   =========================================== */
.dice-sliders-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
    max-width: 800px;
}

.dice-slider-item {
    background: var(--bg-elevated);
    padding: var(--space-3);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-subtle);
}

.dice-slider-item .slider-label {
    margin-bottom: var(--space-2);
}

.dice-slider-item .slider-label span:first-child {
    color: var(--accent-purple);
    font-weight: 600;
}

.dice-container {
    padding: var(--space-4);
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-3);
}

.dice-type-header {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--accent-purple);
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border-subtle);
}

.dice-results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(52px, 1fr));
    gap: var(--space-2);
}

.dice {
    width: 52px;
    height: 52px;
    background: var(--bg-highlight);
    border: 2px solid var(--border-default);
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--text-base);
    position: relative;
    animation: diceRoll 0.5s ease-out;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.dice:hover {
    transform: scale(1.05);
    border-color: var(--accent-primary);
}

.dice.success {
    background: rgba(29, 185, 84, 0.15);
    border-color: var(--accent-secondary);
    color: var(--accent-secondary);
}

.dice.barely {
    background: rgba(77, 143, 204, 0.15);
    border-color: var(--accent-blue);
    color: var(--accent-blue);
}

.dice.critical {
    background: rgba(212, 175, 55, 0.2);
    border-color: var(--accent-primary);
    color: var(--accent-primary);
    animation: diceCritical 0.6s ease-out;
}

.dice.failure {
    background: var(--bg-highlight);
    border-color: var(--border-default);
    color: var(--text-muted);
}

.dice.neutral {
    background: rgba(139, 92, 246, 0.15);
    border-color: var(--accent-purple);
    color: var(--accent-purple);
}

.dice-result-label {
    position: absolute;
    bottom: -16px;
    left: 50%;
    transform: translateX(-50%);
    font-size: var(--font-size-xs);
    color: var(--text-muted);
    white-space: nowrap;
}

@keyframes diceRoll {
    0% { transform: scale(0.5) rotate(-180deg); opacity: 0; }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

@keyframes diceCritical {
    0% { transform: scale(0.5) rotate(-180deg); opacity: 0; }
    50% { transform: scale(1.2) rotate(0deg); }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

.success-type {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    font-weight: 600;
}

.success-type.critical {
    background: rgba(212, 175, 55, 0.15);
    color: var(--accent-primary);
}

.success-type.full {
    background: rgba(29, 185, 84, 0.15);
    color: var(--accent-secondary);
}

.success-type.barely {
    background: rgba(77, 143, 204, 0.15);
    color: var(--accent-blue);
}

.dice-select-btn {
    padding: var(--space-3) var(--space-5);
    font-size: var(--font-size-sm);
    background: var(--bg-highlight);
    border: 1px solid var(--border-default);
    color: var(--text-base);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.dice-select-btn:hover {
    background: var(--bg-press);
}

.dice-select-btn.selected {
    background: rgba(212, 175, 55, 0.15);
    border-color: var(--accent-primary);
    color: var(--accent-primary);
}

#page-dices .section {
    margin-bottom: var(--space-3);
}

/* ===========================================
   Modals
   =========================================== */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    animation: fadeIn 150ms ease;
}

.modal-content {
    background: linear-gradient(180deg, var(--bg-surface) 0%, var(--bg-elevated) 100%);
    border: 1px solid var(--border-purple);
    border-radius: var(--radius-xl);
    padding: var(--space-8);
    width: 100%;
    max-width: 400px;
    position: relative;
    animation: slideUp 200ms ease;
    box-shadow: 0 0 60px var(--accent-purple-glow), 0 20px 40px rgba(0, 0, 0, 0.5);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
}

.modal-content h2 {
    font-size: var(--font-size-xl);
    font-weight: 600;
    text-align: center;
    margin-bottom: var(--space-6);
    background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.modal-close {
    position: absolute;
    top: var(--space-4);
    right: var(--space-4);
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    color: var(--text-muted);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.modal-close:hover {
    background: var(--bg-highlight);
    color: var(--text-base);
}

.modal-form .field-group {
    margin-bottom: var(--space-4);
}

.modal-form input {
    padding: var(--space-4);
}

.modal-submit {
    width: 100%;
    padding: var(--space-4);
    font-size: var(--font-size-base);
    font-weight: 600;
    background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green) 100%);
    color: #000;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.modal-submit:hover {
    background: linear-gradient(135deg, var(--accent-green-hover) 0%, var(--accent-green) 100%);
    transform: scale(1.02);
    box-shadow: 0 0 20px var(--accent-green-glow);
}

.error-text {
    color: var(--accent-red);
    text-align: center;
    font-size: var(--font-size-sm);
    min-height: 20px;
    margin-bottom: var(--space-3);
}

.toggle-text {
    text-align: center;
    margin-top: var(--space-4);
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
}

.toggle-text a {
    color: var(--accent-primary);
    text-decoration: none;
    font-weight: 500;
}

.toggle-text a:hover {
    text-decoration: underline;
}

/* Modal - Mobile Responsive */
@media (max-width: 480px) {
    .modal-content {
        max-width: calc(100% - 24px);
        margin: 12px;
        padding: var(--space-4);
        max-height: calc(100vh - 24px);
        overflow-y: auto;
    }

    .modal-content h2 {
        font-size: var(--font-size-lg);
        margin-bottom: var(--space-4);
    }

    .modal-close {
        top: var(--space-2);
        right: var(--space-2);
    }

    .modal-form input {
        padding: var(--space-3);
        font-size: 16px; /* Prevents iOS zoom */
    }

    .modal-submit {
        padding: var(--space-3);
    }
}

/* Character List */
.character-list {
    max-height: 350px;
    overflow-y: auto;
}

.character-list-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4);
    margin-bottom: var(--space-2);
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.character-list-item:hover {
    background: var(--bg-surface-hover);
    border-color: var(--border-default);
}

.character-list-item .character-info {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex: 1;
}

.character-list-item .character-name {
    font-weight: 600;
    color: var(--text-base);
}

.character-list-item .character-system {
    font-size: var(--font-size-xs);
    font-weight: 500;
    padding: 2px 8px;
    border-radius: var(--radius-sm);
    background: var(--bg-surface);
    color: var(--text-subdued);
}

.character-list-item .character-system[data-system="aedelore"] {
    background: var(--accent-purple-20);
    color: var(--accent-purple);
}

/* ===========================================
   Avatar Selection Modal
   =========================================== */
.avatar-modal-content {
    max-width: 480px;
    max-height: 90vh;
    overflow-y: auto;
}

.avatar-section {
    margin-bottom: var(--space-5);
}

.avatar-section-title {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--space-3);
}

.avatar-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: var(--space-2);
}

.avatar-option {
    width: 100%;
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    background: var(--bg-elevated);
    border: 2px solid var(--border-subtle);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.avatar-option:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
    transform: scale(1.1);
}

.avatar-option.selected {
    border-color: var(--accent-green);
    background: rgba(46, 213, 115, 0.15);
    box-shadow: 0 0 12px var(--accent-green-glow);
}

/* Upload Area */
.avatar-upload-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-4);
    background: var(--bg-elevated);
    border: 2px dashed var(--border-default);
    border-radius: var(--radius-md);
    gap: var(--space-2);
}

.avatar-upload-btn {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-base);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.avatar-upload-btn:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
}

.avatar-upload-hint {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

/* Preview Area */
.avatar-preview-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
    margin-top: var(--space-3);
    padding: var(--space-4);
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
}

.avatar-preview-area img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 50%;
    border: 3px solid var(--accent-purple);
}

.avatar-use-btn {
    padding: var(--space-2) var(--space-4);
    background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green) 100%);
    color: #000;
    border: none;
    border-radius: var(--radius-md);
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.avatar-use-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 12px var(--accent-green-glow);
}

/* Current Avatar */
.avatar-current {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-3);
    padding-top: var(--space-4);
    border-top: 1px solid var(--border-subtle);
}

.avatar-current-label {
    font-size: var(--font-size-sm);
    color: var(--text-muted);
}

.avatar-current-preview {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    overflow: hidden;
}

.avatar-current-preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.avatar-clear-btn {
    padding: var(--space-2) var(--space-3);
    background: transparent;
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-muted);
    font-size: var(--font-size-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.avatar-clear-btn:hover {
    border-color: var(--accent-red);
    color: var(--accent-red);
}

/* Clickable hero avatar */
.hero-avatar.clickable {
    cursor: pointer;
    transition: all var(--transition-fast);
    position: relative;
}

.hero-avatar.clickable:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px var(--accent-purple-glow);
}

.hero-avatar.clickable::after {
    content: '';
    position: absolute;
    bottom: -2px;
    right: -2px;
    font-size: 14px;
    background: var(--bg-surface);
    border-radius: 50%;
    width: 22px;
    height: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--transition-fast);
}

.hero-avatar.clickable:hover::after {
    opacity: 1;
}

/* Avatar image in hero */
.hero-avatar img,
.avatar-placeholder img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
}

/* Mobile responsive for avatar modal */
@media (max-width: 480px) {
    .avatar-modal-content {
        max-width: 100%;
        margin: var(--space-2);
    }

    .avatar-grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .avatar-option {
        font-size: 24px;
    }

    .avatar-current-preview {
        width: 40px;
        height: 40px;
        font-size: 20px;
    }
}

.character-list-item .character-system[data-system="dnd5e"] {
    background: rgba(255, 87, 87, 0.2);
    color: var(--accent-red);
}

.character-list-item .character-system[data-system="pathfinder2e"] {
    background: var(--accent-blue-20);
    color: var(--accent-blue);
}

.character-list-item .character-system[data-system="storyteller"] {
    background: rgba(139, 0, 0, 0.3);
    color: #ff6b6b;
}

.character-list-item .character-system[data-system="cod"] {
    background: rgba(26, 26, 46, 0.5);
    color: #a0a0b0;
}

.character-list-item .character-date {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
    margin-left: auto;
    margin-right: var(--space-3);
}

.delete-char-btn {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-xs);
    background: rgba(229, 77, 77, 0.1);
    color: var(--accent-red);
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
}

.delete-char-btn:hover {
    background: rgba(229, 77, 77, 0.2);
}

/* ===========================================
   Trash Modal
   =========================================== */
.modal-content-wide {
    max-width: 600px;
    width: 95%;
}

.trash-section {
    margin-bottom: var(--space-4);
}

.trash-section-title {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border-subtle);
}

.trash-list {
    max-height: 400px;
    overflow-y: auto;
}

.trash-empty,
.trash-loading,
.trash-error {
    color: var(--text-muted);
    font-style: italic;
    padding: var(--space-4);
    text-align: center;
}

.trash-error {
    color: var(--accent-red);
}

.trash-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-3) var(--space-4);
    margin-bottom: var(--space-2);
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-md);
    gap: var(--space-3);
}

.trash-item-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    flex: 1;
    min-width: 0;
}

.trash-item-name {
    font-weight: 600;
    color: var(--text-base);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.trash-item-date {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

.trash-item-actions {
    display: flex;
    gap: var(--space-2);
    flex-shrink: 0;
}

.trash-btn {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-xs);
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.trash-btn-restore {
    background: var(--accent-green-20);
    color: var(--accent-green);
}

.trash-btn-restore:hover {
    background: var(--accent-green-30);
}

.trash-btn-delete {
    background: rgba(229, 77, 77, 0.1);
    color: var(--accent-red);
}

.trash-btn-delete:hover {
    background: rgba(229, 77, 77, 0.2);
}

@media (max-width: 500px) {
    .trash-item {
        flex-direction: column;
        align-items: flex-start;
    }

    .trash-item-actions {
        width: 100%;
        margin-top: var(--space-2);
    }

    .trash-btn {
        flex: 1;
        justify-content: center;
    }
}

/* ===========================================
   Print Styles
   =========================================== */
@media print {
    @page { margin: 1.5cm; size: A4; }

    body {
        background: white;
        color: black;
        padding: 0;
        font-size: 11pt;
    }

    .header-menus, .tab-container, header,
    #page-rules, #page-help, #page-dices {
        display: none !important;
    }

    .container { max-width: 100%; padding: 0; }

    .tab-content {
        display: block !important;
        page-break-before: always;
    }

    .tab-content:first-of-type { page-break-before: auto; }

    .section {
        page-break-inside: avoid;
        border: 1px solid #333;
        background: white;
        padding: 12px;
        margin-bottom: 12px;
    }

    .section-title {
        border-bottom: 2px solid #333;
        color: #000;
    }

    input, textarea, select {
        border: 1px solid #666 !important;
        background: white !important;
        color: black !important;
    }

    table { border-collapse: collapse; }
    th { background: #f0f0f0 !important; border: 1px solid #333 !important; }
    td { border: 1px solid #666 !important; }

    .grid-2 { grid-template-columns: 1fr 1fr; }
    .grid-3 { grid-template-columns: 1fr 1fr 1fr; }

    .attribute-section {
        background: white;
        border: 1px solid #666;
    }
}

/* ===========================================
   Responsive
   =========================================== */
@media (max-width: 1024px) {
    .grid-2, .grid-3 { grid-template-columns: 1fr; }
    .inventory-grid { grid-template-columns: 1fr; }
    .dice-sliders-container { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 768px) {
    body { padding: var(--space-4); }

    h1 { font-size: var(--font-size-2xl); }

    .tab-container {
        flex-direction: column;
    }

    .tab {
        width: 100%;
        text-align: center;
    }

    .dice-sliders-container { grid-template-columns: 1fr; }

    /* Header adjustments for tablet */
    header {
        padding: var(--space-6) var(--space-4);
        padding-top: var(--space-8);
    }

    .back-button {
        position: static !important;
        transform: none !important;
        margin-bottom: var(--space-4);
        display: inline-flex !important;
    }

    .header-menus {
        flex-wrap: wrap;
    }
}

@media (max-width: 480px) {
    body { padding: var(--space-3); }

    .section { padding: var(--space-4); }

    .checkbox-grid { grid-template-columns: repeat(3, 1fr); }

    /* Header adjustments for mobile */
    header {
        padding: var(--space-4) var(--space-3);
        margin-bottom: var(--space-4);
    }

    h1 {
        font-size: var(--font-size-xl) !important;
    }

    h1 .subtitle {
        font-size: var(--font-size-xs);
    }

    .back-button {
        padding: 8px 12px;
        font-size: 0.8rem;
        margin-bottom: var(--space-3);
    }

    .header-menus {
        margin-top: var(--space-4);
        gap: var(--space-2);
    }

    .dropdown-trigger {
        padding: var(--space-2) var(--space-3);
        font-size: var(--font-size-sm);
    }

    .dropdown-trigger .icon-main {
        width: 16px;
        height: 16px;
    }

    /* Dropdown menus - prevent overflow on mobile */
    .dropdown-menu {
        left: 0;
        right: 0;
        transform: none;
        min-width: auto;
        max-width: calc(100vw - 32px);
    }

    .dropdown.open .dropdown-menu {
        transform: translateY(0);
    }

    /* Make dropdowns full-width on very small screens */
    .dropdown {
        position: static;
    }

    .header-menus .dropdown-menu {
        position: fixed;
        left: 16px;
        right: 16px;
        top: auto;
        bottom: auto;
        width: auto;
        max-height: 70vh;
        overflow-y: auto;
    }
}

/* ===========================================
   Multi-System Support
   =========================================== */

/* System Selector Modal */
.system-selector-content {
    max-width: 500px;
    width: 100%;
}

.system-selector-content h2 {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-2);
}

.system-selector-subtitle {
    text-align: center;
    color: var(--text-subdued);
    margin-bottom: var(--space-6);
}

.system-cards {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    margin-bottom: var(--space-6);
}

.system-card {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-4) var(--space-5);
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-base);
    text-align: left;
    color: var(--text-base);
    font-family: inherit;
}

.system-card:hover {
    background: var(--bg-surface-hover);
    border-color: var(--system-color, var(--accent-purple));
    box-shadow: 0 0 20px color-mix(in srgb, var(--system-color, var(--accent-purple)) 25%, transparent);
    transform: translateX(4px);
}

.system-icon {
    font-size: 2rem;
    width: 48px;
    text-align: center;
}

.system-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.system-name {
    font-size: var(--font-size-lg);
    font-weight: 600;
}

.system-desc {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
}

.system-arrow {
    width: 20px;
    height: 20px;
    color: var(--text-muted);
    transition: all var(--transition-fast);
}

.system-card:hover .system-arrow {
    color: var(--system-color, var(--accent-purple));
    transform: translateX(4px);
}

.remember-choice {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    color: var(--text-subdued);
    font-size: var(--font-size-sm);
    cursor: pointer;
}

.remember-choice input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--accent-purple);
}

/* System Selector - Mobile Responsive */
@media (max-width: 520px) {
    .system-selector-content {
        max-width: calc(100% - 32px);
        margin: 16px;
        padding: var(--space-4);
    }

    .system-selector-content h2 {
        font-size: var(--font-size-lg);
    }

    .system-selector-subtitle {
        font-size: var(--font-size-sm);
        margin-bottom: var(--space-4);
    }

    .system-cards {
        gap: var(--space-2);
        margin-bottom: var(--space-4);
    }

    .system-card {
        padding: var(--space-3);
        gap: var(--space-3);
    }

    .system-icon {
        font-size: 1.5rem;
        width: 36px;
        min-width: 36px;
    }

    .system-name {
        font-size: var(--font-size-base);
    }

    .system-desc {
        font-size: var(--font-size-xs);
    }

    .system-arrow {
        width: 16px;
        height: 16px;
        min-width: 16px;
    }

    .remember-choice {
        font-size: var(--font-size-xs);
    }
}

/* ===========================================
   SYSTEM DASHBOARD STYLES (All Systems)
   =========================================== */
.system-dashboard {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    padding: var(--space-4);
    max-width: 800px;
    margin: 0 auto;
}

/* Character Summary Card */
.dashboard-card.character-summary {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-4);
    background: linear-gradient(135deg, var(--bg-surface) 0%, var(--bg-elevated) 100%);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-xl);
}

.summary-avatar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.summary-avatar .avatar-initial {
    font-size: 1.75rem;
    font-weight: 700;
    color: white;
}

.summary-info {
    flex: 1;
    min-width: 0;
}

.summary-name {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--text-base);
    margin: 0 0 var(--space-1) 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.summary-details {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
}

.summary-details span:not(:last-child)::after {
    content: '';
    margin-left: var(--space-2);
    opacity: 0.5;
}

.summary-level {
    font-weight: 600;
    color: var(--accent-primary);
}

.inspiration-toggle {
    display: flex;
    align-items: center;
}

.inspiration-toggle input {
    display: none;
}

.inspiration-toggle label {
    font-size: 1.75rem;
    cursor: pointer;
    opacity: 0.3;
    transition: opacity 0.2s, transform 0.2s;
}

.inspiration-toggle input:checked + label {
    opacity: 1;
    transform: scale(1.1);
}

/* Dashboard Row */
.dashboard-row {
    display: flex;
    gap: var(--space-3);
    flex-wrap: wrap;
}

.dashboard-row.combat-row {
    display: grid;
    grid-template-columns: 2fr repeat(4, 1fr);
    gap: var(--space-3);
}

/* Dashboard Stat Cards */
.dashboard-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-3);
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    text-align: center;
}

.dashboard-stat.hp-stat {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
    border-color: rgba(239, 68, 68, 0.3);
}

.stat-label {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-subdued);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: var(--space-1);
}

.stat-value-large {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--text-base);
}

.stat-adjuster {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.stat-adjuster .stat-value {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--text-base);
    min-width: 60px;
    text-align: center;
}

.adj-btn {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    font-weight: 700;
    background: var(--bg-elevated);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-base);
    cursor: pointer;
    transition: all 0.15s;
}

.adj-btn:hover {
    background: var(--accent-primary);
    color: white;
    border-color: var(--accent-primary);
}

.temp-hp {
    font-size: var(--font-size-xs);
    color: var(--accent-blue);
    margin-top: var(--space-1);
}

/* Dashboard Sections */
.dashboard-section {
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
}

.dashboard-section.compact {
    flex: 1;
    min-width: 120px;
}

.section-header {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-subdued);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0 0 var(--space-3) 0;
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border-subtle);
}

/* Ability Grid */
.ability-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: var(--space-2);
}

.ability-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-3);
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.15s;
}

.ability-card:hover {
    background: var(--accent-primary-10);
    transform: translateY(-2px);
}

.ability-abbr {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--accent-primary);
    margin-bottom: var(--space-1);
}

.ability-mod {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--text-base);
}

.ability-score {
    font-size: var(--font-size-xs);
    color: var(--text-subdued);
}

/* Saves Grid */
.saves-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: var(--space-2);
}

.save-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-2);
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.15s;
}

.save-item:hover {
    background: var(--accent-green-10);
}

.save-prof {
    font-size: var(--font-size-xs);
    color: var(--accent-green);
}

.save-abbr {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-subdued);
}

.save-mod {
    font-size: var(--font-size-base);
    font-weight: 700;
    color: var(--text-base);
}

/* Death Saves Compact */
.death-saves-compact {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.death-row {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.death-row .death-label {
    font-size: var(--font-size-sm);
    width: 20px;
}

.death-boxes-compact {
    font-size: var(--font-size-sm);
    letter-spacing: 2px;
    color: var(--text-subdued);
}

/* Hit Dice Compact */
.hit-dice-compact {
    font-size: var(--font-size-base);
    font-weight: 600;
    color: var(--text-base);
    text-align: center;
}

/* Spell Slots Compact */
.spell-slots-compact {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.slot-level-compact {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-1) var(--space-2);
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
}

.slot-lvl {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--accent-purple);
    width: 16px;
}

.slot-boxes {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-base);
}

/* Conditions */
.conditions-compact {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.condition-tag {
    padding: var(--space-1) var(--space-2);
    background: rgba(239, 68, 68, 0.15);
    color: #ef4444;
    font-size: var(--font-size-xs);
    font-weight: 600;
    border-radius: var(--radius-sm);
}

.no-conditions {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
    font-style: italic;
}

.exhaustion-display {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    margin-top: var(--space-2);
    padding-top: var(--space-2);
    border-top: 1px solid var(--border-subtle);
}

.exhaustion-label {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
}

.exhaustion-level {
    font-weight: 700;
    color: #f59e0b;
}

/* Quick Actions */
.quick-actions-grid {
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
}

.quick-action-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-3);
    background: var(--bg-elevated);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.15s;
    min-width: 80px;
}

.quick-action-btn:hover {
    background: var(--accent-primary-10);
    border-color: var(--accent-primary);
    transform: translateY(-2px);
}

.action-icon {
    font-size: 1.5rem;
}

.action-label {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-subdued);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .dashboard-row.combat-row {
        grid-template-columns: 1fr 1fr;
    }

    .dashboard-stat.hp-stat {
        grid-column: span 2;
    }

    .ability-grid,
    .saves-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .summary-avatar {
        width: 48px;
        height: 48px;
    }

    .summary-avatar .avatar-initial {
        font-size: 1.25rem;
    }

    .summary-name {
        font-size: var(--font-size-lg);
    }
}

@media (max-width: 480px) {
    .system-dashboard {
        padding: var(--space-2);
        gap: var(--space-3);
    }

    .dashboard-card.character-summary {
        flex-direction: column;
        text-align: center;
    }

    .summary-details {
        justify-content: center;
    }

    .ability-grid,
    .saves-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .quick-actions-grid {
        justify-content: center;
    }
}

/* =====================
   PF2e Dashboard Extras
   ===================== */
.hero-points-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-1);
}

.hero-label {
    font-size: var(--font-size-xs);
    color: var(--text-subdued);
}

.hero-dots {
    display: flex;
    gap: var(--space-1);
}

.hero-dot {
    font-size: 1.25rem;
    cursor: pointer;
    color: var(--text-subdued);
    transition: color 0.15s;
}

.hero-dot.filled {
    color: #f59e0b;
}

.pf-saves-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
}

.pf-save-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-3);
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.15s;
}

.pf-save-card:hover {
    background: var(--accent-green-10);
    transform: translateY(-2px);
}

.pf-save-card .save-name {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-subdued);
}

.pf-save-card .save-total-large {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--text-base);
}

.save-prof-badge {
    font-size: var(--font-size-xs);
    font-weight: 600;
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    background: var(--bg-surface);
}

.save-prof-badge.prof-t { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
.save-prof-badge.prof-e { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
.save-prof-badge.prof-m { background: rgba(168, 85, 247, 0.2); color: #a855f7; }
.save-prof-badge.prof-l { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }

.degrees-reference {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.degree {
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.degree.crit-success { background: rgba(34, 197, 94, 0.15); color: #22c55e; }
.degree.success { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.degree.failure { background: rgba(239, 68, 68, 0.1); color: var(--text-subdued); }
.degree.crit-fail { background: rgba(239, 68, 68, 0.2); color: #ef4444; }

/* ===========================
   WoD/CoD Dashboard Extras
   =========================== */
.wod-summary, .cod-summary {
    border-color: rgba(139, 0, 0, 0.3);
}

.wod-avatar, .cod-avatar {
    background: linear-gradient(135deg, #8b0000 0%, #1a1a2e 100%);
}

.cod-anchors {
    display: flex;
    gap: var(--space-2);
    margin-top: var(--space-2);
}

.virtue-badge, .vice-badge {
    font-size: var(--font-size-xs);
    padding: 2px 8px;
    border-radius: var(--radius-sm);
}

.virtue-badge { background: rgba(34, 197, 94, 0.15); color: #22c55e; }
.vice-badge { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

/* WoD Health Track */
.wod-health-track {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.health-level {
    display: grid;
    grid-template-columns: 30px 1fr 40px;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-1) var(--space-2);
    background: var(--bg-elevated);
    border-radius: var(--radius-sm);
}

.health-box {
    font-size: 1.25rem;
    cursor: pointer;
    text-align: center;
}

.health-box.damaged {
    color: #ef4444;
}

.health-name {
    font-size: var(--font-size-sm);
}

.health-penalty {
    font-size: var(--font-size-xs);
    color: var(--text-subdued);
    text-align: right;
}

/* WoD Resource Tracks */
.wod-resource-track, .cod-willpower-track {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.resource-row {
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.resource-label {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
    width: 80px;
}

.wod-dots-display, .wod-boxes-display {
    font-size: 1.25rem;
    letter-spacing: 2px;
}

.wp-box {
    cursor: pointer;
    margin-right: 2px;
}

.wp-box.spent {
    color: #ef4444;
}

/* Blood Pool */
.wod-pool-track {
    display: flex;
    justify-content: center;
}

.pool-adjuster {
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.pool-value {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    min-width: 80px;
    text-align: center;
}

/* Humanity/Path */
.wod-morality-track, .cod-integrity-track {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    justify-content: center;
}

.morality-dot, .integrity-dot {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-sm);
    font-weight: 600;
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.15s;
}

.morality-dot.filled, .integrity-dot.filled {
    background: rgba(168, 85, 247, 0.2);
    color: var(--accent-purple);
}

.morality-value, .integrity-value {
    text-align: center;
    margin-top: var(--space-2);
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
}

/* WoD Attributes Grid */
.wod-attributes-grid, .cod-attributes-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
}

.attr-category {
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
    padding: var(--space-3);
}

.cat-header {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--accent-primary);
    text-align: center;
    margin-bottom: var(--space-2);
    padding-bottom: var(--space-2);
    border-bottom: 1px solid var(--border-subtle);
}

.attr-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-1) 0;
    cursor: pointer;
    transition: background 0.15s;
    border-radius: var(--radius-sm);
}

.attr-row:hover {
    background: var(--bg-surface);
    padding-left: var(--space-2);
    padding-right: var(--space-2);
}

.attr-dots {
    font-size: var(--font-size-sm);
    letter-spacing: 1px;
}

/* Virtues Row */
.wod-virtues-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
}

.virtue-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-1);
}

.virtue-name {
    font-size: var(--font-size-xs);
    color: var(--text-subdued);
    text-align: center;
}

.virtue-dots {
    font-size: var(--font-size-sm);
    letter-spacing: 1px;
}

/* Difficulty Reference */
.difficulty-reference {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    justify-content: center;
}

.diff-item {
    font-size: var(--font-size-sm);
    padding: var(--space-1) var(--space-2);
    background: var(--bg-elevated);
    border-radius: var(--radius-sm);
}

.diff-num {
    font-weight: 700;
    color: var(--accent-primary);
    margin-right: var(--space-1);
}

/* CoD Health Mini */
.cod-health-track {
    display: flex;
    gap: var(--space-1);
    flex-wrap: wrap;
}

.health-box-mini {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
    background: var(--bg-elevated);
    border-radius: var(--radius-sm);
    cursor: pointer;
}

.health-box-mini.bashing { color: #f59e0b; }
.health-box-mini.lethal { color: #ef4444; }
.health-box-mini.aggravated { color: #dc2626; font-weight: 700; }

.wp-dot-mini {
    font-size: 0.875rem;
    color: var(--accent-purple);
}

/* CoD Reference */
.cod-reference {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.ref-item {
    font-size: var(--font-size-sm);
    padding: var(--space-1) var(--space-2);
    background: var(--bg-elevated);
    border-radius: var(--radius-sm);
}

/* Beats/XP */
.beats-track {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.beat-dots {
    font-size: 1.25rem;
    letter-spacing: 2px;
}

.beat-hint {
    font-size: var(--font-size-xs);
    color: var(--text-subdued);
}

.xp-value {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    text-align: center;
}

/* Responsive WoD */
@media (max-width: 768px) {
    .wod-attributes-grid, .cod-attributes-grid {
        grid-template-columns: 1fr;
    }

    .wod-virtues-row, .pf-saves-row {
        grid-template-columns: 1fr;
    }
}

/* D&D 5e Specific Styles */
.dnd-attributes-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: var(--space-4);
}

.dnd-attribute-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-4);
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    text-align: center;
}

.dnd-attribute-card .attr-name {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--accent-primary);
    margin-bottom: var(--space-2);
}

.dnd-attribute-card .attr-score {
    width: 60px;
    height: 50px;
    font-size: var(--font-size-2xl);
    font-weight: 700;
    text-align: center;
    background: var(--bg-elevated);
    border: 2px solid var(--border-strong);
    border-radius: var(--radius-md);
    color: var(--text-base);
    margin-bottom: var(--space-2);
    padding: var(--space-2);
    line-height: 1.2;
}

.dnd-attribute-card .attr-modifier {
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--accent-green);
    padding: var(--space-2) var(--space-4);
    background: var(--accent-green-10);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-3);
}

.save-proficiency {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-xs);
    color: var(--text-subdued);
    cursor: pointer;
}

.save-proficiency input {
    width: 16px;
    height: 16px;
    accent-color: var(--accent-purple);
}

.save-value {
    font-weight: 600;
    color: var(--text-base);
}

/* Skills List */
.skills-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-2);
}

.skill-row {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-md);
}

.skill-proficiency input {
    width: 16px;
    height: 16px;
    accent-color: var(--accent-purple);
}

.skill-modifier {
    font-weight: 600;
    color: var(--accent-green);
    min-width: 30px;
}

.skill-name {
    flex: 1;
    color: var(--text-base);
}

.skill-attr {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

.skill-row.passive {
    background: var(--bg-highlight);
    border: 1px solid var(--border-purple);
}

/* Combat Stats */
.combat-stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-4);
}

.combat-stat-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-4);
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
}

.combat-stat-card label {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
    margin-bottom: var(--space-2);
}

.combat-stat-card input {
    width: 80px;
    height: 48px;
    font-size: var(--font-size-xl);
    font-weight: 600;
    text-align: center;
    background: var(--bg-elevated);
    border: 2px solid var(--border-strong);
    border-radius: var(--radius-md);
    color: var(--text-base);
}

/* HP Container */
.hp-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

.hp-main {
    display: flex;
    align-items: center;
    gap: var(--space-4);
}

.hp-separator {
    font-size: var(--font-size-2xl);
    font-weight: 600;
    color: var(--text-muted);
}

/* Death Saves */
.death-saves {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.death-save-row {
    display: flex;
    align-items: center;
    gap: var(--space-4);
}

.death-label {
    width: 80px;
    font-weight: 600;
}

.success-label { color: var(--accent-green); }
.failure-label { color: var(--accent-red); }

.death-boxes {
    display: flex;
    gap: var(--space-2);
}

.death-checkbox {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    appearance: none;
    background: var(--bg-elevated);
    border: 2px solid var(--border-default);
    cursor: pointer;
}

.death-checkbox.success:checked {
    background: var(--accent-green);
    border-color: var(--accent-green);
}

.death-checkbox.failure:checked {
    background: var(--accent-red);
    border-color: var(--accent-red);
}

/* Conditions Grid */
.conditions-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-2);
}

.condition-checkbox {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2);
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: var(--font-size-sm);
}

.condition-checkbox input {
    accent-color: var(--accent-red);
}

.condition-checkbox input:checked + span {
    color: var(--accent-red);
}

/* Attacks Table */
.attacks-table {
    width: 100%;
    border-collapse: collapse;
}

.attacks-table th,
.attacks-table td {
    padding: var(--space-2);
    border: 1px solid var(--border-default);
}

.attacks-table th {
    background: var(--bg-surface);
    font-weight: 600;
    text-align: left;
}

.attacks-table input {
    width: 100%;
    background: transparent;
    border: none;
    color: var(--text-base);
}

/* Spell Slots */
.spell-slots-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
}

.spell-slot-row {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-md);
}

.slot-level {
    font-weight: 600;
    color: var(--accent-purple);
    min-width: 40px;
}

.slot-inputs {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.slot-inputs input {
    width: 50px;
    height: 36px;
    text-align: center;
    padding: var(--space-2);
    line-height: 1.4;
    font-size: var(--font-size-base);
}

.slot-used { color: var(--accent-red); }
.slot-max { color: var(--accent-green); }

/* Currency Grid */
.currency-grid {
    display: flex;
    gap: var(--space-4);
}

.currency-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-2);
}

.currency-item label {
    font-weight: 600;
    color: var(--accent-primary);
}

.currency-item input {
    width: 80px;
    text-align: center;
}

/* Dice Roller */
.dice-roller-dnd,
.dice-pool-roller,
.dice-roller-pf {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
}

.quick-dice {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    justify-content: center;
}

.dice-btn {
    padding: var(--space-3) var(--space-5);
    font-size: var(--font-size-lg);
    font-weight: 600;
    background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
    color: white;
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.dice-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px var(--accent-purple-glow);
}

.dice-btn.roll-custom,
.dice-btn.roll-pool,
.dice-btn.roll-check {
    background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green) 100%);
    color: #000;
}

.dice-btn.chance-die {
    background: linear-gradient(135deg, var(--accent-red) 0%, #cc4444 100%);
}

.custom-roll,
.check-roller {
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.custom-roll-inputs,
.check-inputs {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    flex-wrap: wrap;
}

.roll-result-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-6);
    background: var(--bg-surface);
    border-radius: var(--radius-xl);
}

.roll-result {
    font-size: 4rem;
    font-weight: 700;
    color: var(--accent-primary);
    line-height: 1;
}

.roll-result.crit-success { color: var(--accent-green); }
.roll-result.crit-fail { color: var(--accent-red); }
.roll-result.success { color: var(--accent-green); }
.roll-result.failure { color: var(--accent-red); }

.roll-outcome {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--text-subdued);
}

.roll-outcome.exceptional,
.roll-outcome.crit-success { color: var(--accent-green); }
.roll-outcome.dramatic,
.roll-outcome.crit-fail { color: var(--accent-red); }
.roll-outcome.botch { color: var(--accent-red); }

.roll-details {
    font-size: var(--font-size-sm);
    color: var(--text-muted);
}

.quick-checks,
.quick-rolls-grid {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.check-btn,
.quick-roll-btn {
    padding: var(--space-2) var(--space-4);
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-base);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.check-btn:hover,
.quick-roll-btn:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
}

/* Roll History */
.roll-history {
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.roll-history h3 {
    font-size: var(--font-size-base);
    color: var(--text-subdued);
    margin-bottom: var(--space-3);
}

.history-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.history-item {
    display: flex;
    justify-content: space-between;
    padding: var(--space-2) var(--space-3);
    background: var(--bg-elevated);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
}

.history-item.exceptional { border-left: 3px solid var(--accent-green); }
.history-item.failure { border-left: 3px solid var(--accent-red); }
.history-item.crit-success { border-left: 3px solid var(--accent-green); }
.history-item.crit-fail { border-left: 3px solid var(--accent-red); }

.history-label { color: var(--text-subdued); }
.history-result { font-weight: 600; color: var(--text-base); }

/* Rules Accordion */
.rules-accordion {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.rules-section {
    background: var(--bg-surface);
    border-radius: var(--radius-md);
    overflow: hidden;
}

.rules-section summary {
    padding: var(--space-4);
    font-weight: 600;
    cursor: pointer;
    list-style: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.rules-section summary::-webkit-details-marker {
    display: none;
}

.rules-section summary::after {
    content: '+';
    font-size: var(--font-size-lg);
    color: var(--text-muted);
}

.rules-section[open] summary::after {
    content: '-';
}

.rules-content {
    padding: 0 var(--space-4) var(--space-4);
    color: var(--text-subdued);
    font-size: var(--font-size-sm);
    line-height: 1.6;
}

.rules-content ul {
    margin: var(--space-2) 0;
    padding-left: var(--space-5);
}

.rules-content li {
    margin-bottom: var(--space-1);
}

.rules-links {
    display: flex;
    gap: var(--space-3);
    margin-top: var(--space-6);
}

.rules-link {
    padding: var(--space-3) var(--space-5);
    background: var(--bg-surface);
    border: 1px solid var(--border-purple);
    border-radius: var(--radius-md);
    color: var(--accent-purple);
    text-decoration: none;
    transition: all var(--transition-fast);
}

.rules-link:hover {
    background: var(--bg-surface-hover);
    box-shadow: 0 0 15px var(--accent-purple-glow);
}

/* World of Darkness Dot Ratings */
.wod-attributes-grid {
    display: grid;
    grid-template-columns: auto repeat(3, 1fr);
    gap: var(--space-3);
    align-items: center;
}

.wod-attributes-grid.classic {
    /* Different column order for Classic WoD */
}

.attr-header {
    font-weight: 600;
    text-align: center;
    color: var(--accent-primary);
    padding: var(--space-2);
}

.attr-category {
    font-weight: 600;
    color: var(--text-subdued);
    text-transform: uppercase;
    font-size: var(--font-size-xs);
    letter-spacing: 1px;
}

.attr-cell {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    padding: var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-md);
}

.attr-cell .attr-name {
    font-size: var(--font-size-sm);
    color: var(--text-base);
}

.wod-dots {
    display: flex;
    gap: var(--space-1);
}

.wod-dot {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    border: 2px solid var(--text-muted);
    background: transparent;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.wod-dot:hover {
    border-color: var(--accent-purple);
}

.wod-dot.filled {
    background: var(--accent-purple);
    border-color: var(--accent-purple);
}

.wod-dot.small {
    width: 14px;
    height: 14px;
}

.wod-dot.large {
    width: 22px;
    height: 22px;
}

/* Skills Columns (WoD) */
.skills-columns,
.abilities-columns {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-6);
}

.skill-category,
.ability-category {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.skill-category-title,
.ability-category-title {
    font-weight: 600;
    padding: var(--space-2) var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-md);
    text-align: center;
}

.skill-category-title.mental { color: var(--accent-cyan); border: 1px solid var(--accent-cyan); }
.skill-category-title.physical { color: var(--accent-red); border: 1px solid var(--accent-red); }
.skill-category-title.social { color: var(--accent-green); border: 1px solid var(--accent-green); }
.ability-category-title.talents { color: var(--accent-purple); border: 1px solid var(--accent-purple); }
.ability-category-title.skills { color: var(--accent-blue); border: 1px solid var(--accent-blue); }
.ability-category-title.knowledges { color: var(--accent-cyan); border: 1px solid var(--accent-cyan); }

.skill-list,
.ability-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.skill-row,
.ability-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-2) var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
}

/* Derived Stats (CoD) */
.derived-stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-4);
}

.derived-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    text-align: center;
}

.derived-label {
    font-weight: 600;
    color: var(--text-subdued);
    margin-bottom: var(--space-2);
}

.derived-value {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--accent-primary);
}

.derived-formula {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
    margin-top: var(--space-1);
}

/* Health Track (CoD) */
.health-track {
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.health-boxes {
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
    margin-bottom: var(--space-3);
}

.health-box {
    width: 32px;
    height: 32px;
    border: 2px solid var(--text-muted);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.health-box.bashing {
    background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 5px,
        var(--accent-primary) 5px,
        var(--accent-primary) 10px
    );
    border-color: var(--accent-primary);
}

.health-box.lethal {
    background: var(--accent-red);
    border-color: var(--accent-red);
}

.health-box.lethal::after {
    content: '/';
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    font-size: 1.5rem;
    color: white;
}

.health-box.aggravated {
    background: var(--accent-red);
    border-color: #800;
}

.health-box.aggravated::after {
    content: 'X';
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    font-weight: 700;
    color: white;
}

.health-legend {
    display: flex;
    gap: var(--space-4);
    font-size: var(--font-size-sm);
    color: var(--text-muted);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.legend-item .box {
    width: 16px;
    height: 16px;
    border: 1px solid var(--text-muted);
    border-radius: 2px;
}

/* Willpower Track (CoD) */
.willpower-track {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.willpower-dots {
    display: flex;
    gap: var(--space-2);
}

.willpower-dot {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    border: 2px solid var(--accent-cyan);
    background: transparent;
}

.willpower-dot.filled {
    background: var(--accent-cyan);
}

/* Integrity Track */
.integrity-track {
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.integrity-dots {
    display: flex;
    gap: var(--space-2);
    justify-content: center;
    flex-wrap: wrap;
}

.integrity-level {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-1);
}

.integrity-number {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

.integrity-dot {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 2px solid var(--text-muted);
    cursor: pointer;
}

.integrity-dot.filled {
    background: var(--accent-purple);
    border-color: var(--accent-purple);
}

/* Merits List */
.merits-list,
.backgrounds-list,
.powers-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.merit-row,
.background-row,
.power-row {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2) var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
}

.merit-row input,
.power-row input {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--text-base);
}

.background-name {
    flex: 1;
}

/* Beats */
.beats-boxes {
    display: flex;
    gap: var(--space-2);
}

.beat-checkbox {
    width: 24px;
    height: 24px;
    accent-color: var(--accent-primary);
}

/* CoD Dice Results */
.successes-display {
    display: flex;
    align-items: baseline;
    gap: var(--space-3);
}

.successes-label {
    font-size: var(--font-size-lg);
    color: var(--text-subdued);
}

.successes-value {
    font-size: 4rem;
    font-weight: 700;
    color: var(--accent-primary);
    line-height: 1;
}

.successes-value.exceptional { color: var(--accent-green); }
.successes-value.failure { color: var(--accent-red); }

.dice-results {
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
    justify-content: center;
}

.die-result {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-elevated);
    border: 2px solid var(--border-default);
    border-radius: var(--radius-md);
    font-weight: 600;
}

.die-result.success {
    background: var(--accent-green-20);
    border-color: var(--accent-green);
    color: var(--accent-green);
}

.die-result.exploded,
.die-result.critical {
    background: var(--accent-purple-20);
    border-color: var(--accent-purple);
    color: var(--accent-purple);
}

.die-result.botch,
.die-result.dramatic {
    background: rgba(255, 87, 87, 0.2);
    border-color: var(--accent-red);
    color: var(--accent-red);
}

.modifier-options {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    margin: var(--space-3) 0;
}

.modifier-checkbox {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: var(--font-size-sm);
}

.modifier-checkbox input {
    accent-color: var(--accent-purple);
}

/* Storyteller Health Track */
.health-track-classic {
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.health-levels {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.health-level-row {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-2);
    background: var(--bg-elevated);
    border-radius: var(--radius-sm);
}

.level-name {
    width: 100px;
    font-weight: 600;
}

.level-penalty {
    width: 40px;
    text-align: center;
    color: var(--accent-red);
    font-weight: 600;
}

.health-level-row .health-boxes {
    display: flex;
    gap: var(--space-2);
    margin: 0;
}

.health-level-row .health-box {
    width: 24px;
    height: 24px;
}

/* Virtues */
.virtues-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-4);
}

.virtue-row {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    text-align: center;
}

.virtue-name {
    font-weight: 600;
    color: var(--text-subdued);
}

.virtue-row .wod-dots {
    justify-content: center;
}

/* Willpower Container (Storyteller) */
.willpower-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-4);
}

.willpower-permanent,
.willpower-current {
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.willpower-permanent label,
.willpower-current label {
    display: block;
    font-weight: 600;
    color: var(--text-subdued);
    margin-bottom: var(--space-3);
    text-align: center;
}

.willpower-permanent .wod-dots {
    justify-content: center;
}

.willpower-boxes {
    display: flex;
    gap: var(--space-2);
    justify-content: center;
    flex-wrap: wrap;
}

.willpower-box {
    width: 22px;
    height: 22px;
    accent-color: var(--accent-cyan);
}

/* Resource Pool */
.resource-pool {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-4);
}

.resource-pool .field-group {
    text-align: center;
}

.resource-pool input {
    width: 80px;
    text-align: center;
    margin: 0 auto;
    display: block;
}

/* PF2e Proficiency Select */
.prof-select,
.prof-select-small {
    width: 50px;
    height: 32px;
    text-align: center;
    padding: var(--space-1) var(--space-2);
    background: var(--bg-elevated);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-sm);
    color: var(--text-base);
    font-size: var(--font-size-sm);
    line-height: 1.2;
}

.prof-select-small {
    width: 40px;
    height: 28px;
}

/* PF2e Saves and Skills */
.saves-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-4);
}

.save-row {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3);
    background: var(--bg-surface);
    border-radius: var(--radius-md);
}

.save-name {
    font-weight: 600;
    flex: 1;
}

.save-attr {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

.save-total,
.skill-total {
    font-weight: 600;
    color: var(--accent-green);
    min-width: 40px;
    text-align: right;
}

.pf-skills .skill-row {
    display: grid;
    grid-template-columns: 1fr auto auto auto;
    gap: var(--space-2);
}

/* PF2e Hero Points */
.hero-points {
    display: flex;
    align-items: center;
    gap: var(--space-4);
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.hero-point-boxes {
    display: flex;
    gap: var(--space-2);
}

.hero-point-box {
    width: 28px;
    height: 28px;
    accent-color: var(--accent-primary);
}

.hero-hint {
    font-size: var(--font-size-sm);
    color: var(--text-muted);
}

/* PF2e Strikes Table */
.strikes-table {
    width: 100%;
    border-collapse: collapse;
}

.strikes-table th,
.strikes-table td {
    padding: var(--space-2);
    border: 1px solid var(--border-default);
    text-align: left;
}

.strikes-table th {
    background: var(--bg-surface);
    font-weight: 600;
    font-size: var(--font-size-sm);
}

.strikes-table input {
    width: 100%;
    background: transparent;
    border: none;
    color: var(--text-base);
}

/* PF2e Spell Slots */
.pf-slots .spell-slot-row {
    padding: var(--space-2) var(--space-3);
}

.slot-checkboxes {
    display: flex;
    gap: var(--space-2);
}

.slot-checkbox {
    width: 20px;
    height: 20px;
    accent-color: var(--accent-purple);
}

/* PF2e Bulk Tracker */
.bulk-tracker {
    display: flex;
    gap: var(--space-6);
    align-items: center;
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.bulk-tracker .field-group {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.bulk-tracker input {
    width: 60px;
    text-align: center;
}

/* PF2e Feats Grid */
.pf-feats .field-group textarea {
    min-height: 100px;
}

/* Perception Row */
.perception-row {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.perception-total {
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--accent-green);
}

/* Lore Skills */
.lore-skills {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.lore-row {
    display: flex;
    gap: var(--space-3);
    align-items: center;
}

.lore-row input {
    flex: 1;
}

/* Section Hint */
.section-hint {
    font-size: var(--font-size-sm);
    color: var(--text-muted);
    margin-bottom: var(--space-4);
    font-style: italic;
}

/* Focus Points */
.focus-points {
    padding: var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
}

.focus-inputs {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

/* Responsive adjustments for multi-system */
@media (max-width: 1024px) {
    .dnd-attributes-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .wod-attributes-grid {
        grid-template-columns: auto repeat(2, 1fr);
    }

    .skills-columns,
    .abilities-columns {
        grid-template-columns: 1fr;
    }

    .derived-stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .combat-stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .spell-slots-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .dnd-attributes-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .skills-list {
        grid-template-columns: 1fr;
    }

    .conditions-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .virtues-grid {
        grid-template-columns: 1fr;
    }

    .saves-grid {
        grid-template-columns: 1fr;
    }

    .willpower-container {
        grid-template-columns: 1fr;
    }

    .resource-pool {
        grid-template-columns: 1fr;
    }
}

/* ===========================================
   STATUS BAR - Persistent Stats Display
   =========================================== */

.status-bar {
    display: none; /* Hidden by default on desktop */
    justify-content: center;
    align-items: center;
    gap: 20px;
    padding: 12px 20px;
    background: linear-gradient(180deg, var(--bg-surface) 0%, var(--bg-elevated) 100%);
    border-bottom: 1px solid var(--border-default);
    flex-wrap: wrap;
    transition: all var(--transition-base);
}

/* Show status bar only on mobile/tablet (1024px) */
@media (max-width: 1024px) {
    .status-bar {
        display: flex;
    }

    /* Still hide on dashboard */
    .status-bar.status-bar-hidden {
        display: none;
    }
}

/* Hide status bar on dashboard (resources shown in dashboard) */
.status-bar.status-bar-hidden {
    display: none;
}

.status-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: var(--bg-highlight);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-base);
    min-width: 140px;
}

.status-item:hover {
    background: var(--bg-press);
    transform: translateY(-2px);
}

.status-icon {
    font-size: 1.2rem;
}

.status-label {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.status-value {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-base);
    min-width: 50px;
}

.status-bar-fill {
    flex: 1;
    height: 6px;
    background: var(--bg-base);
    border-radius: 3px;
    overflow: hidden;
    min-width: 60px;
}

.status-bar-inner {
    height: 100%;
    border-radius: 3px;
    transition: width 0.3s ease;
}

.status-bar-hp {
    background: linear-gradient(90deg, #ef4444 0%, #f87171 100%);
    box-shadow: 0 0 10px rgba(239, 68, 68, 0.5);
}

.status-bar-arcana {
    background: linear-gradient(90deg, var(--accent-purple) 0%, #c084fc 100%);
    box-shadow: 0 0 10px var(--accent-purple-glow);
}

.status-dots {
    display: flex;
    gap: 4px;
}

.status-dots .dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid var(--accent-blue);
    transition: all var(--transition-base);
}

.status-dots .dot.filled {
    background: var(--accent-blue);
    box-shadow: 0 0 8px var(--accent-blue-glow);
}

.status-dots .dot.empty {
    background: transparent;
}

.status-hp .status-value { color: #ef4444; }
.status-arcana .status-value { color: var(--accent-purple); }
.status-willpower .status-value { color: var(--accent-blue); }

/* ===========================================
   DASHBOARD - Overview Page
   =========================================== */

.dashboard-hero {
    display: flex;
    align-items: center;
    gap: var(--space-6);
    padding: var(--space-8);
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-xl);
    margin-bottom: var(--space-6);
    position: relative;
    overflow: hidden;
}

/* Subtle gradient accent */
.dashboard-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue), var(--accent-cyan));
}

.hero-avatar {
    width: 88px;
    height: 88px;
    border-radius: var(--radius-xl);
    background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.2rem;
    color: white;
    flex-shrink: 0;
    box-shadow: 0 8px 24px var(--accent-purple-glow);
}

.avatar-placeholder {
    opacity: 0.8;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.hero-info {
    flex: 1;
}

.hero-name {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--text-base);
    margin-bottom: var(--space-2);
    letter-spacing: -0.01em;
}

.hero-details {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex-wrap: wrap;
}

.hero-race, .hero-class, .hero-religion {
    font-size: var(--font-size-sm);
    color: var(--text-subdued);
    padding: var(--space-1) var(--space-3);
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
}

.hero-class {
    color: var(--accent-primary);
    font-weight: 500;
    background: rgba(240, 192, 64, 0.1);
}

.hero-separator {
    display: none;
}

/* Quick Actions */
.dashboard-actions {
    margin-bottom: 20px;
}

.action-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
}

.action-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 16px 12px;
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-base);
    color: var(--text-base);
}

.action-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
}

.action-btn svg {
    opacity: 0.9;
}

.action-btn span {
    font-size: var(--font-size-sm);
    font-weight: 500;
}

.action-btn small {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

/* Small buttons for inline actions */
.btn-small {
    padding: 4px 10px;
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    background: var(--bg-surface);
    color: var(--text-base);
    cursor: pointer;
    transition: all 0.15s ease;
    white-space: nowrap;
}

.btn-small:hover {
    background: var(--bg-elevated);
    border-color: var(--border-accent);
}

.btn-gold {
    background: linear-gradient(135deg, var(--accent-gold-20) 0%, var(--accent-gold-10) 100%);
    border-color: var(--accent-gold-40);
    color: var(--accent-gold);
}

.btn-gold:hover {
    background: linear-gradient(135deg, var(--accent-gold-30) 0%, var(--accent-gold-20) 100%);
    border-color: var(--accent-gold);
}

.btn-secondary {
    background: var(--bg-elevated);
    border-color: var(--border-subtle);
    color: var(--text-subdued);
}

.btn-secondary:hover {
    background: var(--bg-surface);
    border-color: var(--border-accent);
    color: var(--text-base);
}

.action-rest {
    border-color: var(--accent-blue-35);
    background: linear-gradient(180deg, var(--bg-surface) 0%, var(--accent-blue-10) 100%);
}
.action-rest:hover { border-color: var(--accent-blue); }
.action-rest svg { color: var(--accent-blue); }

.action-half-rest {
    border-color: var(--accent-blue-20);
    background: linear-gradient(180deg, var(--bg-surface) 0%, var(--accent-blue-08) 100%);
}
.action-half-rest:hover { border-color: var(--accent-blue-40); }
.action-half-rest svg { color: var(--accent-blue); opacity: 0.7; }

.action-heal {
    border-color: rgba(239, 68, 68, 0.4);
    background: linear-gradient(180deg, var(--bg-surface) 0%, rgba(239, 68, 68, 0.1) 100%);
}
.action-heal:hover { border-color: #ef4444; }
.action-heal svg { color: #ef4444; }

.action-dice {
    border-color: var(--border-purple);
    background: linear-gradient(180deg, var(--bg-surface) 0%, var(--accent-purple-10) 100%);
}
.action-dice:hover { border-color: var(--accent-purple); }
.action-dice svg { color: var(--accent-purple); }

.action-potion {
    border-color: var(--accent-green-35);
    background: linear-gradient(180deg, var(--bg-surface) 0%, var(--accent-green-10) 100%);
}
.action-potion:hover { border-color: var(--accent-green); }
.action-potion svg { color: var(--accent-green); }

/* Navigation Cards */
.nav-cards {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.nav-card {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 20px;
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-base);
}

.nav-card:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-primary);
    transform: translateX(4px);
}

.nav-card-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-highlight);
    border-radius: var(--radius-md);
    color: var(--accent-primary);
    flex-shrink: 0;
}

.nav-card-content {
    flex: 1;
}

.nav-card-content h4 {
    font-size: var(--font-size-base);
    font-weight: 600;
    color: var(--text-base);
    margin-bottom: 4px;
}

.nav-card-content p {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

.nav-card-arrow {
    font-size: 1.2rem;
    color: var(--text-muted);
    transition: transform var(--transition-base);
}

.nav-card:hover .nav-card-arrow {
    transform: translateX(4px);
    color: var(--accent-primary);
}

.nav-card-magic .nav-card-icon {
    color: var(--accent-purple);
}

/* Quick Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 12px;
}

.stat-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 16px 12px;
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    text-align: center;
}

.stat-label {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.stat-value {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--accent-primary);
}

/* ===========================================
   RESPONSIVE - Dashboard
   =========================================== */

/* Hide Quick Stats on desktop, show only on mobile */
@media (min-width: 769px) {
    .dashboard-stats {
        display: none !important;
    }
}

@media (max-width: 900px) {
    .action-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .nav-cards {
        grid-template-columns: 1fr;
    }

    .stats-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 600px) {
    /* ===========================================
       MOBILE COLOR BOOST - More vibrant on small screens
       =========================================== */
    :root {
        --accent-primary: #ffcc00;
        --accent-green: #00ff88;
        --accent-blue: #4dabff;
        --accent-purple: #bf6fff;
        --accent-red: #ff6b6b;
        --bg-surface: #181825;
        --bg-highlight: #252540;
        --border-default: rgba(255, 255, 255, 0.15);
    }

    /* ===========================================
       MOBILE STATUS BAR - 2 Row Layout
       =========================================== */
    .status-bar {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 6px;
        padding: 8px;
        background: linear-gradient(180deg, #12121a 0%, #0a0a12 100%);
    }

    .status-item {
        min-width: auto;
        min-height: 52px;
        padding: 8px;
        flex-direction: column;
        justify-content: center;
        gap: 3px;
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
    }

    .status-hp { background: rgba(255, 100, 100, 0.15); border-color: rgba(255, 100, 100, 0.3); }
    .status-arcana { background: rgba(180, 100, 255, 0.15); border-color: rgba(180, 100, 255, 0.3); }
    .status-willpower { background: rgba(80, 180, 255, 0.15); border-color: rgba(80, 180, 255, 0.3); }
    .status-bleed { background: rgba(220, 50, 50, 0.15); border-color: rgba(220, 50, 50, 0.3); }
    .status-weak { background: rgba(245, 160, 20, 0.15); border-color: rgba(245, 160, 20, 0.3); }
    .status-worthiness { background: rgba(255, 200, 50, 0.15); border-color: rgba(255, 200, 50, 0.3); }

    .status-icon {
        font-size: 16px;
    }

    .status-label {
        display: none;
    }

    .status-value {
        font-size: 13px;
        font-weight: 700;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    }

    .status-hp .status-value { color: #ff8080; }
    .status-arcana .status-value { color: #c9a0ff; }
    .status-willpower .status-value { color: #80c8ff; }
    .status-bleed .status-value { color: #ff6060; }
    .status-weak .status-value { color: #ffb040; }
    .status-worthiness .status-value { color: #ffd040; }

    .status-bar-fill {
        display: none;
    }

    .status-desc {
        display: none;
    }

    /* Willpower dots - smaller on mobile */
    .status-willpower .willpower-dots {
        gap: 4px;
    }

    .status-willpower .willpower-dots .dot {
        width: 8px;
        height: 8px;
        border-width: 2px;
    }

    .status-willpower .willpower-dots .dot.filled {
        background: #80c8ff;
        box-shadow: 0 0 6px rgba(80, 180, 255, 0.6);
    }

    /* ===========================================
       MOBILE DASHBOARD
       =========================================== */
    .dashboard-hero {
        flex-direction: column;
        text-align: center;
        padding: 16px;
    }

    .hero-avatar {
        width: 60px;
        height: 60px;
        font-size: 24px;
    }

    .hero-name {
        font-size: 1.3rem;
    }

    .hero-details {
        justify-content: center;
        flex-wrap: wrap;
    }

    /* ===========================================
       MOBILE QUICK ACTIONS - Vibrant buttons
       =========================================== */
    .action-utility {
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
    }

    .action-utility .action-btn {
        padding: 14px 8px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .action-rest {
        background: linear-gradient(135deg, var(--accent-blue-30), var(--accent-blue-20)) !important;
        border-color: var(--accent-blue-40) !important;
    }
    .action-rest svg { color: var(--accent-blue) !important; }

    .action-half-rest {
        background: linear-gradient(135deg, var(--accent-blue-20), var(--accent-blue-10)) !important;
        border-color: var(--accent-blue-30) !important;
    }
    .action-half-rest svg { color: var(--accent-blue) !important; opacity: 0.8; }

    .action-potion {
        background: linear-gradient(135deg, var(--accent-green-30), var(--accent-green-20)) !important;
        border-color: var(--accent-green-40) !important;
    }
    .action-potion svg { color: var(--accent-green) !important; }

    .action-dice {
        background: linear-gradient(135deg, var(--accent-purple-30), var(--accent-purple-20)) !important;
        border-color: var(--accent-purple-40) !important;
    }
    .action-dice svg { color: var(--accent-purple) !important; }

    .action-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Stat adjust - 2 columns, vibrant colors */
    .stat-adjust-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
    }

    .stat-adjust-row {
        padding: 12px 14px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .stat-adjust-label {
        font-weight: 600;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    .stat-btn {
        width: 44px;
        height: 44px;
        font-size: 20px;
        font-weight: 700;
        border-width: 2px;
    }

    /* Vibrant button colors on mobile */
    .stat-hp .stat-btn-minus { background: rgba(255, 80, 80, 0.3); border-color: #ff6060; color: #ff8080; }
    .stat-hp .stat-btn-plus { background: rgba(0, 255, 120, 0.25); border-color: #00ff88; color: #00ff88; }

    .stat-arcana .stat-btn-minus { background: rgba(180, 100, 255, 0.3); border-color: #b060ff; color: #c080ff; }
    .stat-arcana .stat-btn-plus { background: rgba(180, 100, 255, 0.2); border-color: #a050ff; color: #b070ff; }

    .stat-will .stat-btn-minus { background: rgba(80, 160, 255, 0.3); border-color: #50a0ff; color: #70b8ff; }
    .stat-will .stat-btn-plus { background: rgba(80, 160, 255, 0.2); border-color: #4090ff; color: #60a8ff; }

    .stat-bleed .stat-btn-minus { background: rgba(0, 255, 120, 0.25); border-color: #00ff88; color: #00ff88; }
    .stat-bleed .stat-btn-plus { background: rgba(220, 50, 50, 0.35); border-color: #dc3030; color: #ff6060; }

    .stat-weak .stat-btn-minus { background: rgba(0, 255, 120, 0.25); border-color: #00ff88; color: #00ff88; }
    .stat-weak .stat-btn-plus { background: rgba(245, 160, 20, 0.35); border-color: #f5a010; color: #ffc040; }

    .stat-worth .stat-btn-minus { background: rgba(255, 80, 80, 0.25); border-color: #ff5050; color: #ff7070; }
    .stat-worth .stat-btn-plus { background: rgba(255, 200, 50, 0.35); border-color: #ffc830; color: #ffd850; }

    /* ===========================================
       MOBILE STATS GRID - Vibrant cards
       =========================================== */
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }

    .stat-card {
        padding: 14px 10px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.15);
    }

    .stat-card:hover, .stat-card.expanded {
        background: rgba(255, 200, 50, 0.12);
        border-color: #ffc830;
    }

    .stat-label {
        color: rgba(255, 255, 255, 0.7);
        font-weight: 500;
    }

    .stat-value {
        font-size: 2rem;
        color: #ffd850;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }

    /* ===========================================
       MOBILE SKILL POPOVER  Bottom Sheet
       =========================================== */
    .skill-popover {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        top: auto !important;
        max-width: 100%;
        width: 100%;
        border-radius: 20px 20px 0 0;
        padding: 20px 24px 32px;
        background: linear-gradient(180deg, #1e1e2e 0%, #141420 100%);
        border: 1px solid rgba(255, 200, 50, 0.3);
        border-bottom: none;
        animation: slideUp 0.25s ease-out;
    }

    .skill-popover::before {
        display: none;
    }

    .skill-popover::after {
        content: '';
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        width: 48px;
        height: 5px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 3px;
    }

    @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .skill-popover-title {
        font-size: 14px;
        color: #ffd850;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        margin-top: 8px;
        margin-bottom: 12px;
    }

    .skill-popover-item {
        padding: 12px 0;
        font-size: 16px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .skill-popover-name {
        color: rgba(255, 255, 255, 0.8);
    }

    .skill-popover-value {
        color: #ffd850;
        font-size: 18px;
        font-weight: 700;
    }

    /* ===========================================
       MOBILE NAV CARDS - More vibrant
       =========================================== */
    .nav-cards {
        grid-template-columns: 1fr;
        gap: 10px;
    }

    .nav-card {
        padding: 16px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
    }

    .nav-card:hover, .nav-card:active {
        background: rgba(255, 200, 50, 0.1);
        border-color: rgba(255, 200, 50, 0.3);
    }

    .nav-card h4 {
        color: #fff;
        font-size: 1rem;
    }

    .nav-card p {
        color: rgba(255, 255, 255, 0.6);
    }

    .nav-card-arrow {
        color: #ffd850;
        font-size: 1.2rem;
    }

    /* ===========================================
       MOBILE SECTION TITLES
       =========================================== */
    .section-title {
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.9);
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    .section-title small {
        display: none;
    }

    /* ===========================================
       MOBILE HERO CARD
       =========================================== */
    .dashboard-hero {
        background: linear-gradient(135deg, rgba(255, 200, 50, 0.1) 0%, rgba(180, 100, 255, 0.1) 100%);
        border: 1px solid rgba(255, 200, 50, 0.2);
    }

    .hero-name {
        color: #fff;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }

    .hero-class {
        color: #ffd850;
    }

    .hero-race, .hero-religion {
        color: rgba(255, 255, 255, 0.7);
    }

    /* ===========================================
       MOBILE TAB NAVIGATION - Scrollable Minimal
       =========================================== */
    .tab-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        margin: 0 calc(-1 * var(--space-4)) var(--space-4);
        padding: 0 var(--space-4) var(--space-3);
        gap: var(--space-1);
        border-bottom: 1px solid var(--border-subtle);
    }

    .tab-container::-webkit-scrollbar {
        display: none;
    }

    .tab {
        min-width: max-content;
        padding: var(--space-3) var(--space-4);
        font-size: var(--font-size-sm);
        background: transparent;
        border: none;
        border-radius: var(--radius-md);
    }

    .tab svg {
        width: 16px;
        height: 16px;
    }

    .tab.active {
        color: var(--accent-purple);
        background: transparent;
    }

    .tab.active::after {
        bottom: calc(-1 * var(--space-3) - 1px);
    }

    /* ===========================================
       MOBILE ATTRIBUTES PAGE
       =========================================== */

    /* Willpower/HP - single column */
    #page-attributes .section:first-child > div[style*="grid-template-columns: 1fr 1fr"] {
        display: flex !important;
        flex-direction: column;
        gap: 12px;
    }

    /* Race/Class/Religion bonuses - stack vertically */
    .grid.grid-3 {
        display: flex !important;
        flex-direction: column;
        gap: 12px;
    }

    .grid.grid-3 > div {
        padding: 14px;
    }

    /* Attributes grid - single column on mobile */
    .grid.grid-2 {
        display: flex !important;
        flex-direction: column;
        gap: 16px;
    }

    .attribute-section {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 16px;
    }

    .attribute-header {
        margin-bottom: 12px;
    }

    .attribute-name {
        font-size: 14px;
        color: #ffd850;
    }

    .attribute-value {
        width: 60px;
        height: 44px;
        font-size: 20px;
        text-align: center;
    }

    .skill-list {
        gap: 8px;
    }

    .skill-item {
        padding: 10px 12px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 8px;
    }

    .skill-name {
        font-size: 13px;
    }

    .skill-value {
        width: 50px;
        height: 40px;
        font-size: 16px;
    }

    /* Slider containers */
    .slider-container {
        padding: 14px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
    }

    .slider-label {
        font-size: 14px;
        margin-bottom: 10px;
    }

    input[type="range"] {
        height: 8px;
    }

    /* ===========================================
       MOBILE COMBAT PAGE - Card-based tables
       =========================================== */

    /* Hide table headers on mobile */
    #page-combat table thead {
        display: none;
    }

    #page-combat table,
    #page-combat table tbody,
    #page-combat table tr {
        display: block;
        width: 100%;
    }

    #page-combat table tr {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 14px;
        margin-bottom: 12px;
    }

    #page-combat table td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    #page-combat table td:last-child {
        border-bottom: none;
    }

    /* Shield table labels */
    #page-combat .section:nth-child(1) table td:nth-child(1)::before { content: "Type"; }
    #page-combat .section:nth-child(1) table td:nth-child(2)::before { content: "HP"; }
    #page-combat .section:nth-child(1) table td:nth-child(3)::before { content: "Block"; }
    #page-combat .section:nth-child(1) table td:nth-child(4)::before { content: "Defence"; }
    #page-combat .section:nth-child(1) table td:nth-child(5)::before { content: "Damage"; }

    /* Armor table labels */
    #page-combat .section:nth-child(2) table td:nth-child(1)::before { content: "Type"; }
    #page-combat .section:nth-child(2) table td:nth-child(2)::before { content: "HP"; }
    #page-combat .section:nth-child(2) table td:nth-child(3)::before { content: "Block"; }
    #page-combat .section:nth-child(2) table td:nth-child(4)::before { content: "Dmg"; }
    #page-combat .section:nth-child(2) table td:nth-child(5)::before { content: "Disadv"; }
    #page-combat .section:nth-child(2) table td:nth-child(6)::before { content: "Broken"; }

    /* Weapons table labels */
    #page-combat .section:nth-child(3) table td:nth-child(1)::before { content: "Weapon"; }
    #page-combat .section:nth-child(3) table td:nth-child(2)::before { content: "Atk Bonus"; }
    #page-combat .section:nth-child(3) table td:nth-child(3)::before { content: "Damage"; }
    #page-combat .section:nth-child(3) table td:nth-child(4)::before { content: "Range"; }
    #page-combat .section:nth-child(3) table td:nth-child(5)::before { content: "Break"; }

    #page-combat table td::before {
        font-weight: 600;
        color: rgba(255, 255, 255, 0.5);
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    #page-combat table td select,
    #page-combat table td input {
        max-width: 60%;
        text-align: right;
    }

    #page-combat table td select {
        min-height: 44px;
        font-size: 14px;
    }

    #page-combat table td input[type="number"],
    #page-combat table td input[type="text"] {
        height: 44px;
        font-size: 16px;
        padding: 8px 12px;
    }

    #page-combat table td input[type="checkbox"] {
        width: 24px;
        height: 24px;
    }

    /* Combat stat cards */
    .combat-stats {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px;
    }

    .combat-stat-card {
        padding: 14px 10px;
    }

    .combat-stat-card input {
        width: 70px;
        height: 44px;
        font-size: 18px;
    }

    /* ===========================================
       MOBILE SPELLS/ABILITIES PAGE - Card layout
       =========================================== */

    /* Hide table headers on mobile */
    #page-spells table thead {
        display: none;
    }

    #page-spells table,
    #page-spells table tbody,
    #page-spells table tr {
        display: block;
        width: 100%;
    }

    #page-spells table tr {
        background: linear-gradient(135deg, var(--accent-purple-12) 0%, var(--accent-purple-04) 100%);
        border: 1px solid var(--accent-purple-glow);
        border-radius: 12px;
        padding: 14px;
        margin-bottom: 10px;
    }

    #page-spells table td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid var(--accent-purple-15);
    }

    #page-spells table td:last-child {
        border-bottom: none;
    }

    /* Spell labels - default (melee classes) */
    #page-spells table td:nth-child(1)::before { content: "Ability"; }
    #page-spells table td:nth-child(2)::before { content: "Effect"; }
    #page-spells table td:nth-child(3)::before { content: "Gain"; }
    #page-spells table td:nth-child(4)::before { content: "Weakened"; }

    /* Spell labels - conjurer classes (Mage/Druid) */
    #page-spells.conjurer-mode table td:nth-child(1)::before { content: "Spell"; }
    #page-spells.conjurer-mode table td:nth-child(2)::before { content: "Arcana Cost"; }
    #page-spells.conjurer-mode table td:nth-child(3) { display: none; }
    #page-spells.conjurer-mode table td:nth-child(4)::before { content: "Spelldamage"; }

    #page-spells table td::before {
        font-weight: 600;
        color: rgba(200, 160, 255, 0.7);
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* First cell (spell name) - make it stand out */
    #page-spells table td:first-child {
        font-weight: 600;
        color: #c9a0ff;
        font-size: 15px;
        padding-bottom: 10px;
        margin-bottom: 4px;
        border-bottom: 1px solid var(--accent-purple-30);
    }

    #page-spells table td:first-child::before {
        display: none;
    }

    #page-spells table td select,
    #page-spells table td input {
        max-width: 55%;
        text-align: right;
    }

    #page-spells table td select {
        min-height: 44px;
        font-size: 14px;
        background: var(--accent-purple-15);
        border-color: var(--accent-purple-30);
    }

    #page-spells table td input[type="number"],
    #page-spells table td input[type="text"] {
        height: 44px;
        font-size: 16px;
        padding: 8px 12px;
        background: var(--accent-purple-10);
        border-color: var(--accent-purple-glow);
        color: #c9a0ff;
    }

    /* Arcana slider - make it prominent */
    #page-spells .slider-container {
        margin-top: 20px;
        padding: 18px;
        background: linear-gradient(135deg, var(--accent-purple-20) 0%, var(--accent-purple-08) 100%);
        border: 1px solid var(--accent-purple-40);
        border-radius: 14px;
    }

    #page-spells .slider-label span:first-child {
        font-size: 16px;
        color: #c9a0ff;
    }

    #page-spells .slider-label span:last-child {
        font-size: 18px;
        font-weight: 700;
        color: #d4b0ff;
    }

    .spell-section {
        padding: 14px;
    }

    .spell-slot {
        padding: 12px;
        margin-bottom: 10px;
    }

    /* ===========================================
       MOBILE GEAR PAGE
       =========================================== */
    #page-gear .section {
        padding: 14px;
    }

    .consumable-item,
    .gear-inventory-container .field-group {
        padding: 12px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        margin-bottom: 10px;
    }

    /* ===========================================
       MOBILE TOOLS PAGE
       =========================================== */
    .tools-subnav {
        flex-wrap: nowrap;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding: 10px;
        gap: 6px;
    }

    .tools-tab {
        min-width: max-content;
        padding: 10px 14px;
        font-size: 13px;
    }

    /* ===========================================
       MOBILE FORM ELEMENTS - Touch friendly
       =========================================== */
    input[type="text"],
    input[type="number"],
    input[type="email"],
    input[type="password"],
    select,
    textarea {
        min-height: 44px;
        font-size: 16px; /* Prevents iOS zoom */
        padding: 10px 12px;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.15);
        color: #fff;
    }

    input[type="text"]:focus,
    input[type="number"]:focus,
    select:focus,
    textarea:focus {
        border-color: #ffd850;
        outline: none;
        box-shadow: 0 0 0 2px rgba(255, 216, 80, 0.2);
    }

    select {
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23fff' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        padding-right: 36px;
    }

    input[type="checkbox"] {
        width: 22px;
        height: 22px;
        border-radius: 4px;
    }

    /* Section titles */
    .section-title,
    h2.section-title {
        font-size: 1.1rem;
        padding-bottom: 10px;
        margin-bottom: 14px;
    }

    /* Buttons */
    button, .btn {
        min-height: 44px;
        padding: 12px 16px;
        font-size: 14px;
    }

    /* Accordion headers */
    .accordion-header,
    .reference-header {
        min-height: 48px;
        padding: 14px;
        font-size: 15px;
    }
}

/* ===========================================
   TABLET LAYOUT (601px - 1024px)
   Intermediate between mobile and desktop
   =========================================== */
@media (min-width: 601px) and (max-width: 1024px) {

    /* Slightly boosted colors for tablet screens */
    :root {
        --accent-primary: #f5c842;
        --accent-green: #28e08a;
        --accent-blue: #4ba8ff;
        --accent-purple: #b465f7;
    }

    /* Status bar - show all 6 items in one row */
    .status-bar {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        padding: 12px 16px;
    }

    .status-item {
        min-width: 100px;
        padding: 8px 14px;
    }

    .status-label {
        display: inline;
        font-size: 11px;
    }

    .status-bar-fill {
        display: block;
        width: 60px;
    }

    /* Status item colors on tablet */
    .status-hp {
        border-left: 3px solid var(--accent-red);
    }
    .status-arcana {
        border-left: 3px solid var(--accent-purple);
    }
    .status-willpower {
        border-left: 3px solid var(--accent-blue);
    }
    .status-bleed {
        border-left: 3px solid #dc2626;
    }
    .status-weak {
        border-left: 3px solid #f59e0b;
    }
    .status-worthiness {
        border-left: 3px solid var(--accent-primary);
    }

    /* Tab navigation - horizontal scroll if needed */
    .tab-container {
        flex-wrap: nowrap;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: var(--space-3);
    }

    .tab {
        padding: var(--space-2) var(--space-4);
        white-space: nowrap;
        font-size: var(--font-size-sm);
    }

    /* Dashboard - 2 columns for nav cards */
    .nav-cards {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Stats grid - 3 columns */
    .stats-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    /* Quick actions - 2 columns for stat adjust */
    .stat-adjust-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Attributes - 2 columns */
    .grid.grid-2 {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Bonuses - 3 columns on tablet */
    .grid.grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }

    /* Combat tables - keep as tables but make more compact */
    #page-combat table {
        font-size: 14px;
    }

    #page-combat table th,
    #page-combat table td {
        padding: 10px 8px;
    }

    #page-combat table input,
    #page-combat table select {
        min-height: 40px;
        font-size: 14px;
    }

    /* Spells table - compact but styled */
    #page-spells table {
        font-size: 14px;
    }

    #page-spells table th {
        padding: 12px 10px;
        background: var(--accent-purple-15);
        color: #c9a0ff;
    }

    #page-spells table td {
        padding: 10px 8px;
    }

    #page-spells table tr:hover {
        background: var(--accent-purple-10);
    }

    #page-spells table input,
    #page-spells table select {
        min-height: 40px;
        font-size: 14px;
    }

    /* Skill popover - still floating, not bottom sheet */
    .skill-popover {
        max-width: 240px;
    }

    /* Form elements - slightly larger */
    input[type="text"],
    input[type="number"],
    select,
    textarea {
        min-height: 40px;
        font-size: 15px;
    }

    /* Buttons */
    button, .btn {
        min-height: 40px;
        padding: 10px 14px;
    }

    /* Section padding */
    .section {
        padding: 20px;
    }

    /* Dashboard hero */
    .dashboard-hero {
        padding: 24px;
    }

    .hero-avatar {
        width: 70px;
        height: 70px;
        font-size: 28px;
    }
}

/* Hide arcana status for non-magic classes */
.status-arcana-hidden {
    display: none !important;
}

/* ===========================================
   TOOLS PAGE - Sub-navigation
   =========================================== */

.tools-subnav {
    display: flex;
    gap: 8px;
    padding: 12px;
    background: var(--bg-surface);
    border-radius: var(--radius-lg);
    margin-bottom: 20px;
}

.tools-tab {
    flex: 1;
    padding: 12px 16px;
    background: var(--bg-highlight);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-subdued);
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-base);
}

.tools-tab:hover {
    background: var(--bg-press);
    color: var(--text-base);
}

.tools-tab.active {
    background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
    border-color: var(--accent-purple);
    color: white;
}

.tools-content {
    display: none;
}

.tools-content.active {
    display: block;
}

/* Spend/Damage Action Buttons */
.action-grid-spend {
    grid-template-columns: repeat(5, 1fr);
}

.action-grid-spend .action-btn {
    padding: 10px 8px;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.action-grid-spend .action-btn:hover {
    border-color: #ef4444;
    background: rgba(239, 68, 68, 0.2);
}

.action-grid-spend .action-btn span {
    color: #ef4444;
    font-size: var(--font-size-sm);
}

.action-spend-arcana {
    border-color: var(--accent-purple-30) !important;
    background: var(--accent-purple-10) !important;
}
.action-spend-arcana:hover {
    border-color: var(--accent-purple) !important;
}
.action-spend-arcana span {
    color: var(--accent-purple) !important;
}

.action-spend-will {
    border-color: var(--accent-blue-30) !important;
    background: var(--accent-blue-10) !important;
}
.action-spend-will:hover {
    border-color: var(--accent-blue) !important;
}
.action-spend-will span {
    color: var(--accent-blue) !important;
}

@media (max-width: 900px) {
    .action-grid-spend {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 600px) {
    .action-grid-spend {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* ===========================================
   QUICK POPUP (Potion Selector, etc.)
   =========================================== */

.quick-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.quick-popup-content {
    background: var(--bg-surface);
    border: 1px solid var(--border-purple);
    border-radius: var(--radius-xl);
    padding: 24px;
    min-width: 300px;
    max-width: 90vw;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.quick-popup-content h3 {
    color: var(--accent-primary);
    margin-bottom: 16px;
    text-align: center;
    font-size: var(--font-size-lg);
}

.potion-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 16px;
}

.potion-option {
    display: grid;
    grid-template-columns: auto 1fr auto;
    grid-template-rows: auto auto;
    gap: 4px 12px;
    align-items: center;
    padding: 12px 16px;
    background: var(--bg-highlight);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
    text-align: left;
    color: var(--text-base);
}

.potion-option:hover {
    border-color: var(--accent-primary);
    background: var(--bg-press);
    transform: translateX(4px);
}

.potion-icon {
    font-size: 1.5rem;
    grid-row: span 2;
}

.potion-name {
    font-weight: 600;
    color: var(--text-base);
}

.potion-count {
    color: var(--accent-primary);
    font-weight: bold;
    grid-row: span 2;
}

.potion-effect {
    color: var(--text-muted);
    font-size: var(--font-size-xs);
}

.popup-cancel {
    width: 100%;
    padding: 10px;
    background: var(--bg-highlight);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    color: var(--text-subdued);
    cursor: pointer;
    transition: all var(--transition-base);
}

.popup-cancel:hover {
    background: var(--bg-press);
    color: var(--text-base);
}

/* ===========================================
   STAT CARDS WITH SKILL POPOVER
   =========================================== */

.stat-card {
    cursor: pointer;
    transition: all var(--transition-base);
    position: relative;
}

.stat-card:hover {
    border-color: var(--accent-primary);
    transform: translateY(-2px);
}

.stat-card.expanded {
    border-color: var(--accent-primary);
    background: linear-gradient(180deg, var(--bg-surface) 0%, rgba(240, 192, 64, 0.08) 100%);
}

/* Hide skills inside card - shown in popover instead */
.stat-skills {
    display: none;
}

/* Skill Popover */
.skill-popover {
    position: absolute;
    z-index: 1000;
    background: var(--bg-elevated);
    border: 1px solid var(--accent-primary);
    border-radius: 10px;
    padding: 10px 14px;
    min-width: 170px;
    max-width: 200px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
    animation: popoverIn 0.15s ease-out;
}

@keyframes popoverIn {
    from { opacity: 0; transform: translateY(-6px); }
    to { opacity: 1; transform: translateY(0); }
}

.skill-popover::before {
    content: '';
    position: absolute;
    top: -6px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-bottom: 6px solid var(--accent-primary);
}

.skill-popover-title {
    font-size: 11px;
    font-weight: 600;
    color: var(--accent-primary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 6px;
    padding-bottom: 5px;
    border-bottom: 1px solid var(--border-subtle);
}

.skill-popover-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 3px 0;
    font-size: 12px;
}

.skill-popover-item:not(:last-child) {
    border-bottom: 1px solid var(--border-subtle);
}

.skill-popover-name {
    color: var(--text-subdued);
}

.skill-popover-value {
    color: var(--accent-primary);
    font-weight: 600;
    min-width: 18px;
    text-align: right;
}

.stat-card-expand-hint {
    position: absolute;
    top: 6px;
    right: 6px;
    font-size: 9px;
    color: var(--text-muted);
    opacity: 0;
    transition: all var(--transition-base);
}

.stat-card:hover .stat-card-expand-hint {
    opacity: 1;
}

.stat-card.expanded .stat-card-expand-hint {
    transform: rotate(180deg);
    opacity: 1;
}

/* Additional Status Bar Items */
.status-value-danger {
    color: #ef4444 !important;
}

.status-value-gold {
    color: var(--accent-primary) !important;
}

.status-bleed, .status-weak {
    min-width: auto;
}

.status-bleed .status-icon,
.status-weak .status-icon {
    font-size: 1rem;
}

.status-worthiness .status-value {
    font-size: var(--font-size-base);
    min-width: 30px;
    text-align: center;
}

/* Worthiness action buttons */
.action-worth-up {
    border-color: var(--accent-green-30) !important;
    background: var(--accent-green-10) !important;
}
.action-worth-up:hover {
    border-color: var(--accent-green) !important;
}
.action-worth-up span {
    color: var(--accent-green) !important;
}

.action-worth-down {
    border-color: rgba(251, 191, 36, 0.3) !important;
    background: rgba(251, 191, 36, 0.1) !important;
}
.action-worth-down:hover {
    border-color: var(--accent-primary) !important;
}
.action-worth-down span {
    color: var(--accent-primary) !important;
}

/* Update grid for 7 buttons */
.action-grid-spend {
    grid-template-columns: repeat(7, 1fr);
}

@media (max-width: 1100px) {
    .action-grid-spend {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 700px) {
    .action-grid-spend {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 500px) {
    .action-grid-spend {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* ===========================================
   STAT ADJUSTMENT GRID - Quick +/- Buttons
   =========================================== */

.action-utility {
    grid-template-columns: repeat(3, 1fr);
}

.action-utility .action-btn {
    padding: 12px 8px;
}

.action-utility .action-btn svg {
    margin-bottom: 4px;
}

.action-utility .action-btn span {
    font-size: var(--font-size-sm);
}

.stat-adjust-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-3);
}

.stat-adjust-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--bg-elevated);
    border-radius: var(--radius-lg);
    padding: var(--space-3) var(--space-4);
    border: 1px solid var(--border-subtle);
    transition: all var(--transition-base);
}

.stat-adjust-row:hover {
    border-color: var(--border-default);
    background: var(--bg-surface);
}

.stat-adjust-label {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-subdued);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    text-transform: uppercase;
    letter-spacing: 0.02em;
}

.stat-adjust-value {
    color: var(--text-base);
    font-weight: 700;
    font-size: var(--font-size-sm);
    margin-left: var(--space-1);
}

.stat-hp .stat-adjust-value { color: var(--accent-red); }
.stat-arcana .stat-adjust-value { color: var(--accent-purple); }
.stat-will .stat-adjust-value { color: var(--accent-blue); }
.stat-bleed .stat-adjust-value { color: #f97316; }
.stat-weak .stat-adjust-value { color: #a3a3a3; }
.stat-worth .stat-adjust-value { color: var(--accent-gold); }

.stat-adjust-desc {
    font-size: 0.7rem;
    opacity: 0.8;
    margin-left: 4px;
    text-transform: none;
    letter-spacing: normal;
}

.stat-adjust-buttons {
    display: flex;
    gap: var(--space-2);
}

.stat-btn {
    width: 30px;
    height: 30px;
    border-radius: var(--radius-md);
    border: 1px solid var(--border-default);
    background: var(--bg-highlight);
    color: var(--text-base);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.stat-btn:hover {
    transform: scale(1.08);
}

.stat-btn:active {
    transform: scale(0.95);
}

/* Color coding for stat rows */
.stat-hp { border-left: 3px solid var(--accent-red); }
.stat-hp .stat-btn-minus { background: var(--accent-red-20); border-color: var(--accent-red-40); color: var(--accent-red); }
.stat-hp .stat-btn-plus { background: var(--accent-green-20); border-color: var(--accent-green-40); color: var(--accent-green); }
.stat-hp .stat-btn-minus:hover { background: var(--accent-red-35); }
.stat-hp .stat-btn-plus:hover { background: var(--accent-green-35); }

.stat-arcana { border-left: 3px solid var(--accent-purple); }
.stat-arcana .stat-btn-minus { background: var(--accent-purple-20); border-color: var(--accent-purple-40); color: var(--accent-purple); }
.stat-arcana .stat-btn-plus { background: var(--accent-purple-15); border-color: var(--accent-purple-30); color: var(--accent-purple); }
.stat-arcana .stat-btn-minus:hover { background: var(--accent-purple-35); }
.stat-arcana .stat-btn-plus:hover { background: var(--accent-purple-30); }

.stat-will { border-left: 3px solid var(--accent-blue); }
.stat-will .stat-btn-minus { background: var(--accent-blue-20); border-color: var(--accent-blue-40); color: var(--accent-blue); }
.stat-will .stat-btn-plus { background: var(--accent-blue-15); border-color: var(--accent-blue-30); color: var(--accent-blue); }
.stat-will .stat-btn-minus:hover { background: var(--accent-blue-35); }
.stat-will .stat-btn-plus:hover { background: var(--accent-blue-30); }

.stat-bleed { border-left: 3px solid var(--accent-red); }
.stat-bleed .stat-btn-minus { background: var(--accent-green-20); border-color: var(--accent-green-40); color: var(--accent-green); }
.stat-bleed .stat-btn-plus { background: var(--accent-red-20); border-color: var(--accent-red-40); color: var(--accent-red); }
.stat-bleed .stat-btn-minus:hover { background: var(--accent-green-35); }
.stat-bleed .stat-btn-plus:hover { background: var(--accent-red-35); }

.stat-weak { border-left: 3px solid var(--accent-amber); }
.stat-weak .stat-btn-minus { background: var(--accent-green-20); border-color: var(--accent-green-40); color: var(--accent-green); }
.stat-weak .stat-btn-plus { background: var(--accent-amber-20); border-color: var(--accent-amber-40); color: var(--accent-amber); }
.stat-weak .stat-btn-minus:hover { background: var(--accent-green-35); }
.stat-weak .stat-btn-plus:hover { background: var(--accent-amber-35); }

.stat-worth { border-left: 3px solid var(--accent-primary); }
.stat-worth .stat-btn-minus { background: rgba(239, 68, 68, 0.15); border-color: rgba(239, 68, 68, 0.3); color: #f87171; }
.stat-worth .stat-btn-plus { background: rgba(240, 192, 64, 0.2); border-color: rgba(240, 192, 64, 0.4); color: var(--accent-primary); }
.stat-worth .stat-btn-minus:hover { background: rgba(239, 68, 68, 0.3); }
.stat-worth .stat-btn-plus:hover { background: rgba(240, 192, 64, 0.35); }

/* Cloud Autosave Indicator */
.cloud-save-indicator {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: none;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: rgba(34, 217, 127, 0.15);
    border: 1px solid rgba(34, 217, 127, 0.4);
    border-radius: 20px;
    font-size: 0.75rem;
    color: var(--accent-green);
    z-index: 9999;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.cloud-save-indicator.show {
    display: flex;
    opacity: 1;
    transform: translateY(0);
}

.cloud-save-indicator.saving svg {
    animation: cloudPulse 1s ease-in-out infinite;
}

.cloud-save-indicator.saved {
    background: rgba(34, 217, 127, 0.25);
}

@keyframes cloudPulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

@media (max-width: 768px) {
    .cloud-save-indicator {
        bottom: 80px;
        right: 12px;
        padding: 6px 10px;
        font-size: 0.7rem;
    }
}

/* Equipment damage rows */
.quick-actions-subtitle {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: var(--space-4) 0 var(--space-2) 0;
}

.stat-equip { border-left: 3px solid var(--accent-cyan); }
.stat-equip .stat-adjust-value { color: var(--accent-cyan); }
.stat-equip .stat-btn-minus { background: var(--accent-green-20); border-color: var(--accent-green-40); color: var(--accent-green); }
.stat-equip .stat-btn-plus { background: var(--accent-red-20); border-color: var(--accent-red-40); color: var(--accent-red); }
.stat-equip .stat-btn-minus:hover { background: var(--accent-green-35); }
.stat-equip .stat-btn-plus:hover { background: var(--accent-red-35); }

/* Broken equipment styling */
.stat-equip-broken {
    background: rgba(239, 68, 68, 0.2) !important;
    border-left: 3px solid var(--accent-red) !important;
}
.stat-equip-broken .stat-adjust-value {
    color: var(--accent-red) !important;
}
.stat-equip-broken .stat-adjust-label {
    color: var(--accent-red);
}

/* Armor penalty indicator on skills */
.has-penalty {
    color: var(--accent-orange, #f59e0b) !important;
}
.sidebar-skill .has-penalty,
.skill-value.has-penalty {
    color: var(--accent-orange, #f59e0b) !important;
    font-weight: 600;
}

/* Weapons and Abilities Section */
.dashboard-weapons-abilities {
    margin-bottom: var(--space-4);
}

.quick-weapons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-3);
}

.quick-weapon-card {
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-left: 3px solid var(--accent-red);
    border-radius: var(--radius-lg);
    padding: var(--space-3);
}

.weapon-name {
    font-weight: 600;
    color: var(--text-base);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-2);
}

.weapon-stats {
    display: flex;
    gap: var(--space-3);
    flex-wrap: wrap;
}

.weapon-stat {
    font-size: var(--font-size-xs);
    color: var(--text-subdued);
}

.weapon-stat .stat-label {
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    font-size: 0.65rem;
    margin-right: 4px;
}

.quick-abilities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-3);
}

.quick-ability-card {
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-lg);
    padding: var(--space-3);
}

.quick-ability-card.conjurer {
    border-left: 3px solid var(--accent-purple);
}

.quick-ability-card.melee {
    border-left: 3px solid var(--accent-amber);
}

.ability-name {
    font-weight: 600;
    color: var(--text-base);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-2);
}

.ability-details {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    font-size: var(--font-size-xs);
    margin-bottom: var(--space-1);
}

.ability-effect {
    width: 100%;
    color: var(--text-subdued);
    margin-bottom: var(--space-1);
}

.ability-cost {
    color: var(--accent-purple);
    font-weight: 500;
}

.ability-dmg {
    color: var(--accent-red);
    font-weight: 500;
}

.ability-gain {
    color: var(--accent-green);
    font-weight: 500;
}

.ability-weak {
    color: var(--accent-amber);
    font-weight: 500;
}

.ability-check {
    font-size: 0.7rem;
    color: var(--text-muted);
    font-style: italic;
}

.empty-state {
    color: var(--text-muted);
    font-style: italic;
    font-size: var(--font-size-sm);
    padding: var(--space-2);
}

@media (max-width: 900px) {
    .stat-adjust-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 500px) {
    .stat-adjust-grid {
        grid-template-columns: 1fr;
    }

    .action-utility {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ===========================================
   CHARACTER PROGRESSION (COMPACT)
   =========================================== */

.progression-compact {
    margin-top: var(--space-2);
    padding: 6px 10px;
    background: var(--accent-gold-08);
    border: 1px solid var(--accent-gold-20);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    font-size: 0.8rem;
}

.progression-xp {
    color: var(--accent-gold);
    font-weight: 600;
}

.progression-locks {
    color: var(--text-muted);
    font-size: 0.75rem;
}

.progression-points {
    color: var(--accent-green);
    font-size: 0.75rem;
}

.progression-points strong {
    background: var(--accent-green);
    color: var(--bg-base);
    padding: 1px 5px;
    border-radius: 8px;
    font-size: 0.75rem;
}

.btn-tiny {
    padding: 3px 8px;
    font-size: 0.7rem;
    border-radius: 4px;
    border: none;
    cursor: pointer;
    font-weight: 500;
}

.btn-tiny.btn-gold {
    background: var(--accent-gold);
    color: #000;
}

/* Attribute Status Badge (next to Attributes title) */
#attr-locked-badge {
    display: none;
    font-size: 0.7rem;
    font-weight: normal;
    color: var(--accent-green);
    white-space: nowrap;
}

/* Abilities Status Badge (next to Spells & Abilities title) */
#abil-locked-badge {
    display: none;
    font-size: 0.7rem;
    font-weight: normal;
    color: var(--accent-green);
    white-space: nowrap;
}

/* Abilities Progression Message */
.progression-message {
    padding: 12px 16px;
    margin-bottom: 16px;
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.05) 100%);
    border: 1px solid rgba(34, 197, 94, 0.3);
    border-radius: 8px;
    font-size: 0.9rem;
    color: var(--text-primary);
    line-height: 1.5;
}

.progression-message strong {
    color: var(--accent-green);
}

@media (max-width: 480px) {
    #attr-locked-badge,
    #abil-locked-badge {
        display: block !important;
        margin-top: 4px;
        font-size: 0.65rem;
    }
    .section-title {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }
    .btn-tiny {
        padding: 4px 10px;
        font-size: 0.65rem;
    }
    .progression-message {
        font-size: 0.85rem;
        padding: 10px 14px;
    }
}

/* Attribute Lock Bar (Stats tab) */
.attr-lock-bar {
    margin-bottom: var(--space-4);
}

.lock-message {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-3) var(--space-4);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.lock-warning {
    background: linear-gradient(135deg, var(--accent-amber-20) 0%, rgba(245, 158, 11, 0.05) 100%);
    border: 1px solid var(--accent-amber-40);
    color: var(--accent-amber);
}

.lock-ready {
    background: linear-gradient(135deg, var(--accent-gold-20) 0%, var(--accent-gold-08) 100%);
    border: 1px solid var(--accent-gold-40);
    color: var(--text-base);
}

.lock-done {
    background: linear-gradient(135deg, var(--accent-green-20) 0%, var(--accent-green-08) 100%);
    border: 1px solid var(--accent-green-40);
    color: var(--accent-green);
}

.lock-done .btn-small {
    margin-left: auto;
}

/* Locked form fields */
select.locked,
input.locked {
    opacity: 0.7;
    background: var(--bg-base) !important;
    cursor: not-allowed;
    border-color: var(--accent-gold-40) !important;
}

select.locked:disabled,
input.locked:disabled {
    color: var(--text-subdued);
}

/* ===========================================
   CAMPAIGN & PARTY SECTIONS
   =========================================== */

.campaign-section {
    background: linear-gradient(135deg, var(--accent-blue-08) 0%, var(--accent-purple-05) 100%);
    border: 1px solid var(--accent-blue-glow);
}

.campaign-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.campaign-details {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.campaign-name {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--accent-blue);
}

.campaign-dm {
    font-size: var(--font-size-sm);
    color: var(--text-muted);
}

.campaign-link-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 12px;
    padding: 10px 16px;
    background: linear-gradient(135deg, var(--header-gradient-start) 0%, var(--header-gradient-end) 100%);
    border: 1px solid var(--border-purple);
    border-radius: 8px;
    color: var(--text-base);
    text-decoration: none;
    font-size: var(--font-size-sm);
    font-weight: 500;
    transition: all 0.2s ease;
}

.campaign-link-btn:hover {
    border-color: var(--gradient-start);
    background: linear-gradient(135deg, var(--button-gradient-start) 0%, var(--button-gradient-end) 100%);
    transform: translateY(-2px);
}

.campaign-link-btn svg {
    stroke: var(--accent-purple);
}

.no-campaign {
    color: var(--text-muted);
    font-style: italic;
}

.campaign-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.action-link {
    background: linear-gradient(135deg, var(--accent-blue-20) 0%, var(--accent-purple-15) 100%) !important;
    border-color: var(--accent-blue-40) !important;
}

.action-link:hover {
    border-color: var(--accent-blue) !important;
    transform: translateY(-2px);
}

.action-unlink {
    background: rgba(239, 68, 68, 0.15) !important;
    border-color: rgba(239, 68, 68, 0.3) !important;
}

.action-unlink:hover {
    background: rgba(239, 68, 68, 0.25) !important;
    border-color: #ef4444 !important;
}

.action-unlink svg {
    stroke: #f87171;
}

/* Party Members */
.party-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.party-member {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 14px;
    background: var(--bg-highlight);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    transition: all 0.2s ease;
}

.party-member:hover {
    border-color: var(--accent-blue);
    transform: translateX(4px);
}

.party-member-name {
    font-weight: 600;
    color: var(--text-base);
}

.party-member-player {
    color: var(--text-muted);
    font-size: var(--font-size-sm);
}

.no-party {
    color: var(--text-muted);
    font-style: italic;
    margin: 0;
}

/* Link Campaign Modal */
#link-campaign-modal .modal-content {
    max-width: 400px;
}

#campaign-share-code {
    text-transform: uppercase;
    font-family: monospace;
    font-size: 1.2rem;
    letter-spacing: 2px;
    text-align: center;
}

@media (max-width: 600px) {
    .campaign-actions {
        flex-direction: column;
    }

    .campaign-actions .action-btn {
        width: 100%;
        justify-content: center;
    }
}

/* ===========================================
   Privacy Banner & Modal
   =========================================== */

.privacy-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--bg-elevated);
    border-top: 1px solid var(--border-purple);
    padding: var(--space-4) var(--space-6);
    z-index: 10000;
    transform: translateY(100%);
    transition: transform 0.3s ease;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
}

.privacy-banner.visible {
    transform: translateY(0);
}

.privacy-banner-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-4);
}

.privacy-banner-text {
    flex: 1;
}

.privacy-banner-title {
    font-weight: 600;
    color: var(--accent-primary);
    margin-bottom: var(--space-1);
    font-size: var(--font-size-base);
}

.privacy-banner-description {
    color: var(--text-subdued);
    font-size: var(--font-size-sm);
    line-height: 1.5;
}

.privacy-banner-link {
    color: var(--accent-cyan);
    text-decoration: none;
    cursor: pointer;
}

.privacy-banner-link:hover {
    text-decoration: underline;
}

.privacy-banner-actions {
    display: flex;
    gap: var(--space-3);
    flex-shrink: 0;
}

.privacy-btn {
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-base);
    border: none;
}

.privacy-btn-primary {
    background: linear-gradient(135deg, var(--gradient-start) 0%, var(--gradient-end) 100%);
    color: white;
}

.privacy-btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px var(--accent-purple-glow);
}

.privacy-btn-secondary {
    background: var(--bg-surface);
    color: var(--text-subdued);
    border: 1px solid var(--border-default);
}

.privacy-btn-secondary:hover {
    background: var(--bg-surface-hover);
    color: var(--text-base);
    border-color: var(--border-strong);
}

/* Privacy Details Modal */
#privacy-details-modal .modal-content {
    max-width: 550px;
}

.privacy-details-section {
    margin-bottom: var(--space-5);
}

.privacy-details-section h4 {
    color: var(--accent-cyan);
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--space-2);
}

.privacy-details-section p,
.privacy-details-section ul {
    color: var(--text-subdued);
    font-size: var(--font-size-sm);
    line-height: 1.6;
}

.privacy-details-section ul {
    margin-left: var(--space-4);
}

.privacy-details-section li {
    margin-bottom: var(--space-1);
}

.privacy-status-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-3) var(--space-4);
    background: var(--bg-surface);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-3);
}

.privacy-status-label {
    color: var(--text-base);
    font-weight: 500;
}

.privacy-status-value {
    display: flex;
    align-items: center;
    gap: var(--space-3);
}

.privacy-status-enabled {
    color: var(--accent-green);
    font-weight: 600;
}

.privacy-status-disabled {
    color: var(--text-muted);
    font-weight: 600;
}

/* Responsive privacy banner - Modal style on mobile */
@media (max-width: 768px) {
    .privacy-banner {
        /* Convert to centered modal */
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-4);
        transform: none;
        opacity: 0;
        visibility: hidden;
        border-top: none;
        box-shadow: none;
    }

    .privacy-banner.visible {
        opacity: 1;
        visibility: visible;
        transform: none;
    }

    .privacy-banner-content {
        background: var(--bg-elevated);
        border: 1px solid var(--border-purple);
        border-radius: var(--radius-lg);
        padding: var(--space-5);
        max-width: 320px;
        width: 100%;
        flex-direction: column;
        text-align: center;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    }

    .privacy-banner-title {
        font-size: var(--font-size-lg);
        margin-bottom: var(--space-2);
    }

    .privacy-banner-description {
        margin-bottom: var(--space-4);
    }

    .privacy-banner-actions {
        width: 100%;
        flex-direction: column;
        gap: var(--space-2);
    }

    .privacy-btn {
        width: 100%;
        max-width: none;
        padding: var(--space-3) var(--space-4);
        min-height: 44px;
        font-size: var(--font-size-base);
    }
}

/* ===========================================
   Dice Stepper Controls (Mobile-friendly)
   =========================================== */

.dice-stepper-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    padding: var(--space-3);
}

.dice-stepper-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    padding: var(--space-3) var(--space-4);
}

.dice-stepper-label {
    font-weight: 600;
    color: var(--text-base);
    font-size: 1.1rem;
    min-width: 50px;
}

.dice-stepper-controls {
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.dice-stepper-btn {
    width: 48px;
    height: 48px;
    border: 1px solid var(--border-default);
    border-radius: var(--radius-md);
    background: var(--bg-elevated);
    color: var(--text-base);
    font-size: 1.5rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    justify-content: center;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
}

.dice-stepper-btn:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
}

.dice-stepper-btn:active {
    transform: scale(0.95);
    background: var(--accent-purple);
    color: white;
}

.dice-stepper-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent-cyan);
    min-width: 40px;
    text-align: center;
}

/* ============================================
   LARGE SCREEN SIDEBAR LAYOUT (1400px)
   ============================================ */

@media (min-width: 1400px) {
    /* Main app wrapper for sidebar layout - fill entire screen */
    .app-wrapper {
        display: flex;
        width: 100%;
        max-width: none;
        min-height: 100vh;
    }

    /* Sidebar container */
    .desktop-sidebar {
        width: 320px;
        min-width: 320px;
        background: var(--bg-elevated);
        border-right: 1px solid var(--border-subtle);
        padding: var(--space-4);
        display: flex;
        flex-direction: column;
        gap: var(--space-4);
        height: calc(100vh - 60px);
        position: sticky;
        top: 60px;
        overflow-y: auto;
        transition: width 0.3s ease, min-width 0.3s ease, padding 0.3s ease, opacity 0.3s ease;
    }

    /* Hidden sidebar until authenticated (for DM session) */
    .desktop-sidebar.auth-hidden {
        display: none;
    }

    .desktop-sidebar.auth-hidden.auth-visible {
        display: flex;
    }

    /* Collapsed sidebar state */
    .desktop-sidebar.collapsed {
        width: 0;
        min-width: 0;
        padding: 0;
        overflow: hidden;
        opacity: 0;
        border-right: none;
    }

    /* Sidebar toggle button */
    .sidebar-toggle {
        position: fixed;
        left: 320px;
        top: 80px;
        z-index: 100;
        width: 28px;
        height: 28px;
        background: var(--bg-elevated);
        border: 1px solid var(--border-subtle);
        border-radius: 0 var(--radius-md) var(--radius-md) 0;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-muted);
        transition: left 0.3s ease, background 0.2s ease, color 0.2s ease;
        box-shadow: 2px 0 8px rgba(0, 0, 0, 0.2);
    }

    .sidebar-toggle:hover {
        background: var(--bg-surface-hover);
        color: var(--text-base);
    }

    .sidebar-toggle svg {
        width: 16px;
        height: 16px;
        transition: transform 0.3s ease;
    }

    /* Toggle button position when sidebar is collapsed */
    .sidebar-toggle.collapsed {
        left: 0;
        border-radius: 0 var(--radius-md) var(--radius-md) 0;
    }

    .sidebar-toggle.collapsed svg {
        transform: rotate(180deg);
    }

    /* Main content area - fill remaining width */
    .app-main,
    .main-content-area {
        flex: 1;
        min-width: 0;
        max-width: none;
    }

    /* Container inside main content - no centering, fill available space */
    .app-main .container,
    .main-content-area .container {
        max-width: none;
        width: 100%;
        padding-left: var(--space-4);
        padding-right: var(--space-6);
    }

    /* Hide sidebar on smaller screens */
    .desktop-sidebar {
        display: flex;
    }

    /* Sidebar section */
    .sidebar-section {
        background: var(--bg-surface);
        border-radius: var(--radius-lg);
        padding: var(--space-3);
        border: 1px solid var(--border-subtle);
    }

    .sidebar-section-title {
        font-size: var(--font-size-xs);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--text-muted);
        margin-bottom: var(--space-3);
        padding-bottom: var(--space-2);
        border-bottom: 1px solid var(--border-subtle);
    }

    /* Character info in sidebar */
    .sidebar-character-info {
        text-align: center;
        padding-bottom: var(--space-3);
        border-bottom: 1px solid var(--border-subtle);
        margin-bottom: var(--space-3);
    }

    .sidebar-character-name {
        font-size: var(--font-size-lg);
        font-weight: 700;
        color: var(--accent-gold);
        margin-bottom: var(--space-1);
    }

    .sidebar-character-details {
        font-size: var(--font-size-sm);
        color: var(--text-muted);
    }

    /* Resource bars in sidebar */
    .sidebar-resource {
        display: flex;
        align-items: center;
        gap: var(--space-2);
        margin-bottom: var(--space-2);
    }

    .sidebar-resource:last-child {
        margin-bottom: 0;
    }

    .sidebar-resource-icon {
        font-size: 1rem;
        width: 24px;
        text-align: center;
    }

    .sidebar-resource-label {
        font-size: var(--font-size-sm);
        color: var(--text-subdued);
        width: 70px;
    }

    .sidebar-resource-bar {
        flex: 1;
        height: 8px;
        background: var(--bg-base);
        border-radius: 4px;
        overflow: hidden;
    }

    .sidebar-resource-fill {
        height: 100%;
        border-radius: 4px;
        transition: width 0.3s ease;
    }

    .sidebar-resource-fill.hp { background: linear-gradient(90deg, var(--accent-red), #ff8080); }
    .sidebar-resource-fill.arcana { background: linear-gradient(90deg, var(--accent-purple), #c084fc); }
    .sidebar-resource-fill.willpower { background: linear-gradient(90deg, var(--accent-cyan), #67e8f9); }
    .sidebar-resource-fill.worthiness { background: linear-gradient(90deg, var(--accent-gold), #fde047); }

    .sidebar-resource-value {
        font-size: var(--font-size-sm);
        font-weight: 600;
        color: var(--text-base);
        width: 50px;
        text-align: right;
    }

    /* Attribute bars in sidebar */
    .sidebar-attribute {
        display: flex;
        align-items: center;
        gap: var(--space-2);
        margin-bottom: var(--space-2);
    }

    .sidebar-attribute:last-child {
        margin-bottom: 0;
    }

    .sidebar-attribute-name {
        font-size: var(--font-size-sm);
        color: var(--text-subdued);
        width: 80px;
        text-transform: uppercase;
        font-weight: 500;
        letter-spacing: 0.02em;
    }

    .sidebar-attribute-bar {
        flex: 1;
        height: 12px;
        background: var(--bg-base);
        border-radius: 6px;
        overflow: hidden;
        display: flex;
    }

    .sidebar-attribute-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--accent-blue), var(--accent-cyan));
        border-radius: 6px;
        transition: width 0.3s ease;
    }

    .sidebar-attribute-value {
        font-size: var(--font-size-sm);
        font-weight: 700;
        color: var(--accent-cyan);
        width: 30px;
        text-align: right;
    }

    /* Attribute groups with skills */
    .sidebar-attr-group {
        margin-bottom: var(--space-3);
        padding-bottom: var(--space-2);
        border-bottom: 1px solid var(--border-subtle);
    }

    .sidebar-attr-group:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
    }

    .sidebar-attribute.main {
        margin-bottom: var(--space-1);
    }

    .sidebar-attribute.main .sidebar-attribute-name {
        font-weight: 600;
        color: var(--text-base);
    }

    .sidebar-skills {
        padding-left: var(--space-3);
    }

    .sidebar-skill {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 2px 0;
        font-size: var(--font-size-xs);
        color: var(--text-muted);
    }

    .sidebar-skill span:last-child {
        font-weight: 600;
        color: var(--text-subdued);
        min-width: 20px;
        text-align: right;
    }

    /* Quick actions in sidebar */
    .sidebar-actions {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--space-2);
    }

    .sidebar-action-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: var(--space-1);
        padding: var(--space-3);
        background: var(--bg-elevated);
        border: 1px solid var(--border-default);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all var(--transition-base);
        color: var(--text-base);
    }

    .sidebar-action-btn:hover {
        background: var(--bg-surface-hover);
        border-color: var(--accent-purple);
        transform: translateY(-1px);
    }

    .sidebar-action-btn:active {
        transform: translateY(0);
    }

    .sidebar-action-icon {
        font-size: 1.25rem;
    }

    .sidebar-action-label {
        font-size: var(--font-size-xs);
        color: var(--text-muted);
    }

    /* Status indicators */
    .sidebar-status {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-2);
    }

    .sidebar-status-item {
        display: flex;
        align-items: center;
        gap: var(--space-1);
        padding: var(--space-1) var(--space-2);
        background: var(--bg-base);
        border-radius: var(--radius-sm);
        font-size: var(--font-size-xs);
    }

    .sidebar-status-item.negative {
        background: rgba(255, 87, 87, 0.15);
        color: var(--accent-red);
    }

    .sidebar-status-item.positive {
        background: var(--accent-green-15);
        color: var(--accent-green);
    }

    /* DM Tool specific sidebar styles */
    .sidebar-session-info {
        margin-bottom: var(--space-2);
    }

    .sidebar-session-label {
        font-size: var(--font-size-xs);
        color: var(--text-muted);
    }

    .sidebar-session-value {
        font-size: var(--font-size-sm);
        color: var(--text-base);
        font-weight: 500;
    }

    .sidebar-quick-stats {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: var(--space-2);
    }

    .sidebar-stat-card {
        background: var(--bg-base);
        padding: var(--space-2);
        border-radius: var(--radius-md);
        text-align: center;
    }

    .sidebar-stat-value {
        font-size: var(--font-size-xl);
        font-weight: 700;
        color: var(--accent-cyan);
    }

    .sidebar-stat-label {
        font-size: var(--font-size-xs);
        color: var(--text-muted);
    }

    /* Event log in sidebar */
    .sidebar-event-log {
        max-height: 200px;
        overflow-y: auto;
    }

    .sidebar-event {
        padding: var(--space-2);
        border-bottom: 1px solid var(--border-subtle);
        font-size: var(--font-size-xs);
    }

    .sidebar-event:last-child {
        border-bottom: none;
    }

    .sidebar-event-time {
        color: var(--text-muted);
        font-weight: 500;
    }

    .sidebar-event-text {
        color: var(--text-subdued);
        margin-top: 2px;
    }

    /* Scrollbar styling for sidebar */
    .desktop-sidebar::-webkit-scrollbar,
    .sidebar-event-log::-webkit-scrollbar {
        width: 6px;
    }

    .desktop-sidebar::-webkit-scrollbar-track,
    .sidebar-event-log::-webkit-scrollbar-track {
        background: var(--bg-base);
    }

    .desktop-sidebar::-webkit-scrollbar-thumb,
    .sidebar-event-log::-webkit-scrollbar-thumb {
        background: var(--border-default);
        border-radius: 3px;
    }

    .desktop-sidebar::-webkit-scrollbar-thumb:hover,
    .sidebar-event-log::-webkit-scrollbar-thumb:hover {
        background: var(--border-strong);
    }
}

/* Extra large screens (2000px) - wider sidebar */
@media (min-width: 2000px) {
    .desktop-sidebar {
        width: 380px;
        min-width: 380px;
        padding: var(--space-5);
    }

    .sidebar-toggle {
        left: 380px;
    }

    .sidebar-toggle.collapsed {
        left: 0;
    }

    .sidebar-section {
        padding: var(--space-4);
    }
}

/* Hide sidebar on mobile only */
@media (max-width: 767px) {
    .desktop-sidebar {
        display: none !important;
    }

    .sidebar-toggle {
        display: none !important;
    }

    .app-wrapper {
        display: block;
    }
}

/* Tablet sidebar as overlay (768px - 1399px) */
@media (min-width: 768px) and (max-width: 1399px) {
    .app-wrapper {
        display: block;
        position: relative;
    }

    .desktop-sidebar {
        position: fixed;
        left: 0;
        top: 0;
        height: 100vh;
        width: 320px;
        min-width: 320px;
        z-index: 999;
        background: var(--bg-elevated);
        border-right: 1px solid var(--border-default);
        padding: var(--space-4);
        display: flex;
        flex-direction: column;
        gap: var(--space-3);
        overflow-y: auto;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        box-shadow: none;
    }

    .desktop-sidebar.open {
        transform: translateX(0);
        box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);
    }

    /* Hidden sidebar until authenticated (for DM session) */
    .desktop-sidebar.auth-hidden {
        display: none;
    }

    .desktop-sidebar.auth-hidden.auth-visible {
        display: flex;
    }

    .sidebar-toggle {
        display: flex;
        position: fixed;
        left: 0;
        top: 80px;
        z-index: 1000;
        width: 36px;
        height: 36px;
        background: var(--bg-elevated);
        border: 1px solid var(--border-default);
        border-left: none;
        border-radius: 0 var(--radius-md) var(--radius-md) 0;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: var(--text-muted);
        transition: all 0.3s ease;
    }

    .sidebar-toggle:hover {
        background: var(--bg-surface-hover);
        color: var(--text-base);
    }

    .sidebar-toggle svg {
        width: 16px;
        height: 16px;
        transform: rotate(180deg);
        transition: transform 0.3s ease;
    }

    .sidebar-toggle.open {
        left: 320px;
    }

    .sidebar-toggle.open svg {
        transform: rotate(0deg);
    }

    /* Overlay backdrop when sidebar is open */
    .sidebar-backdrop {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 998;
    }

    .sidebar-backdrop.visible {
        display: block;
    }
}

/* ===========================================
   QUICK ACTION POPUPS & FEEDBACK
   =========================================== */

/* Potion popup */
.potion-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--bg-elevated);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    z-index: 1000;
    min-width: 250px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.potion-popup-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--text-base);
    margin-bottom: var(--space-3);
    text-align: center;
}

.potion-option {
    display: block;
    width: 100%;
    padding: var(--space-3);
    margin-bottom: var(--space-2);
    background: var(--bg-surface);
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-md);
    color: var(--text-base);
    font-size: var(--font-size-sm);
    cursor: pointer;
    transition: all 0.15s ease;
    text-align: left;
}

.potion-option:hover {
    background: var(--bg-surface-hover);
    border-color: var(--accent-purple);
}

.potion-option:last-child {
    margin-bottom: 0;
}

/* Quick action feedback toast */
.quick-action-feedback {
    position: fixed;
    bottom: var(--space-6);
    left: 50%;
    transform: translateX(-50%);
    background: var(--accent-green);
    color: var(--bg-base);
    padding: var(--space-3) var(--space-5);
    border-radius: var(--radius-full);
    font-size: var(--font-size-sm);
    font-weight: 500;
    z-index: 1001;
    box-shadow: 0 4px 12px var(--accent-green-30);
    animation: slideUp 0.3s ease;
}

.quick-action-feedback.fade-out {
    opacity: 0;
    transform: translateX(-50%) translateY(10px);
    transition: all 0.3s ease;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

/* Large screen positioning for potion popup */
@media (min-width: 1400px) {
    .potion-popup {
        left: 340px;
        transform: translateY(-50%);
    }
}

/* ============================================
   ONBOARDING GUIDE STYLES
   ============================================ */

/* Help button in header */
.onboarding-help-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: var(--bg-surface);
    border: 1px solid var(--border-default);
    border-radius: 50%;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.2s ease;
    margin-left: var(--space-2);
}

.onboarding-help-btn:hover {
    background: var(--accent-purple-20);
    border-color: var(--accent-purple);
    color: var(--accent-purple);
}

/* Desktop Sidebar */
.onboarding-sidebar {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 300px;
    height: 100vh;
    background: var(--bg-surface);
    border-right: 1px solid var(--border-default);
    z-index: 1000;
    flex-direction: column;
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);
    overflow-y: auto;
}

.onboarding-sidebar.visible {
    display: flex;
}

.onboarding-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-4);
    border-bottom: 1px solid var(--border-subtle);
    background: linear-gradient(135deg, var(--accent-purple-20) 0%, var(--bg-surface) 100%);
}

.onboarding-header h3 {
    margin: 0;
    font-size: 1.1rem;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.onboarding-header h3::before {
    content: "?";
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: var(--accent-purple);
    color: white;
    border-radius: 50%;
    font-size: 0.85rem;
    font-weight: bold;
}

.onboarding-close {
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 4px 8px;
    line-height: 1;
    border-radius: var(--radius-sm);
    transition: all 0.2s ease;
}

.onboarding-close:hover {
    background: var(--bg-highlight);
    color: var(--text-primary);
}

.onboarding-subtitle {
    padding: var(--space-3) var(--space-4);
    margin: 0;
    color: var(--text-secondary);
    font-size: 0.85rem;
    border-bottom: 1px solid var(--border-subtle);
    background: var(--bg-elevated);
}

.onboarding-steps {
    flex: 1;
    padding: var(--space-3);
    overflow-y: auto;
}

.onboarding-step {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-3);
    margin-bottom: var(--space-2);
    background: var(--bg-elevated);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-subtle);
    transition: all 0.2s ease;
}

.onboarding-step.hidden-step,
.onboarding-note.hidden-step {
    display: none !important;
}

.onboarding-step.completed {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.02) 100%);
    border-color: var(--accent-green);
}

.onboarding-step.current {
    border-color: var(--accent-purple);
    box-shadow: 0 0 0 2px var(--accent-purple-20);
}

.step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    min-width: 24px;
    background: var(--bg-surface);
    border: 2px solid var(--border-default);
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: bold;
    color: var(--text-secondary);
}

.onboarding-step.completed .step-number {
    background: var(--accent-green);
    border-color: var(--accent-green);
    color: white;
}

.onboarding-step.completed .step-number::after {
    content: "";
}

.onboarding-step.current .step-number {
    background: var(--accent-purple);
    border-color: var(--accent-purple);
    color: white;
}

.step-content {
    flex: 1;
}

.step-title {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.9rem;
    margin-bottom: 2px;
}

.onboarding-step.completed .step-title {
    text-decoration: line-through;
    color: var(--text-muted);
}

.step-desc {
    font-size: 0.8rem;
    color: var(--text-secondary);
    line-height: 1.4;
}

.step-desc strong {
    color: var(--accent-cyan);
}

.step-arrow {
    color: var(--accent-purple);
    font-weight: bold;
}

.step-check {
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--accent-green);
    font-size: 1rem;
}

.onboarding-step.completed .step-check::after {
    content: "\2713";
}

.onboarding-tip {
    padding: var(--space-3) var(--space-4);
    margin: var(--space-3) var(--space-4);
    background: var(--accent-purple-10);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    border-left: 3px solid var(--accent-purple);
}

.onboarding-tip strong {
    color: var(--accent-purple);
}

.onboarding-note {
    padding: var(--space-2) var(--space-4);
    margin: var(--space-2) var(--space-4);
    background: rgba(251, 191, 36, 0.1);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    color: var(--text-secondary);
    border-left: 2px solid #f59e0b;
}

.onboarding-note strong {
    color: #f59e0b;
}

.onboarding-footer {
    padding: var(--space-3) var(--space-4);
    border-top: 1px solid var(--border-subtle);
    background: var(--bg-elevated);
}

.onboarding-hide-btn {
    width: 100%;
    padding: var(--space-2) var(--space-3);
    background: transparent;
    border: 1px solid var(--border-default);
    border-radius: var(--radius-sm);
    color: var(--text-muted);
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.onboarding-hide-btn:hover {
    background: var(--bg-highlight);
    color: var(--text-secondary);
}

/* Adjust main content when sidebar is visible (desktop) */
@media (min-width: 769px) {
    body.onboarding-active .app-wrapper {
        margin-left: 300px;
        width: calc(100% - 300px);
    }

    body.onboarding-active .onboarding-mobile {
        display: none !important;
    }
}

/* Mobile Panel */
.onboarding-mobile {
    display: none;
    position: fixed;
    top: 60px;
    left: 0;
    right: 0;
    z-index: 999;
    background: var(--bg-surface);
    border-bottom: 1px solid var(--border-default);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.onboarding-mobile.visible {
    display: block;
}

.onboarding-mobile-toggle {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    width: 100%;
    padding: var(--space-3) var(--space-4);
    background: linear-gradient(135deg, var(--accent-purple-20) 0%, var(--bg-surface) 100%);
    border: none;
    color: var(--text-primary);
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    text-align: left;
}

.toggle-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: var(--accent-purple);
    color: white;
    border-radius: 50%;
    font-size: 0.85rem;
    font-weight: bold;
}

.toggle-text {
    flex: 1;
}

.toggle-arrow {
    transition: transform 0.2s ease;
}

.onboarding-mobile.expanded .toggle-arrow {
    transform: rotate(180deg);
}

.onboarding-mobile-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.onboarding-mobile.expanded .onboarding-mobile-content {
    max-height: 500px;
    overflow-y: auto;
}

.onboarding-mobile-content .onboarding-steps {
    padding: var(--space-2) var(--space-3);
}

.onboarding-mobile-content .onboarding-step {
    padding: var(--space-2);
    margin-bottom: var(--space-1);
}

.onboarding-mobile-content .onboarding-footer {
    padding: var(--space-2) var(--space-3);
}

/* Show mobile panel only on small screens */
@media (max-width: 768px) {
    .onboarding-sidebar {
        display: none !important;
    }

    .onboarding-mobile.visible {
        display: block;
    }

    .onboarding-help-btn {
        width: 32px;
        height: 32px;
    }
}

/* Hide help button when guide is visible */
body.onboarding-active .onboarding-help-btn {
    display: none;
}

/* ===========================================
   MOBILE TAB TOGGLE - Floating Side Menu
   =========================================== */

/* Hide by default - only show on mobile */
.mobile-tab-toggle,
.mobile-tab-panel,
.mobile-tab-overlay {
    display: none;
}

@media (max-width: 480px) {
    /* Hide original tab container on mobile */
    .tab-container {
        display: none !important;
    }

    /* Floating toggle button */
    .mobile-tab-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        position: fixed;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 28px;
        height: 56px;
        background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
        border-radius: var(--radius-md) 0 0 var(--radius-md);
        cursor: pointer;
        z-index: 1000;
        box-shadow: -2px 0 12px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
    }

    .mobile-tab-toggle:hover {
        width: 32px;
    }

    .mobile-tab-toggle.open {
        right: 140px;
    }

    .mobile-tab-toggle-arrow {
        color: white;
        font-size: 14px;
        transition: transform 0.3s ease;
    }

    .mobile-tab-toggle.open .mobile-tab-toggle-arrow {
        transform: rotate(180deg);
    }

    /* Slide-in panel */
    .mobile-tab-panel {
        display: flex;
        flex-direction: column;
        position: fixed;
        right: -140px;
        top: 50%;
        transform: translateY(-50%);
        width: 140px;
        background: var(--bg-surface);
        border-radius: var(--radius-lg) 0 0 var(--radius-lg);
        box-shadow: -4px 0 20px rgba(0, 0, 0, 0.4);
        z-index: 999;
        transition: right 0.3s ease;
        overflow: hidden;
        border: 1px solid var(--border-subtle);
        border-right: none;
    }

    .mobile-tab-panel.open {
        right: 0;
    }

    /* Panel items */
    .mobile-tab-panel-item {
        display: flex;
        align-items: center;
        gap: var(--space-2);
        padding: var(--space-3) var(--space-4);
        color: var(--text-muted);
        cursor: pointer;
        transition: all 0.2s ease;
        border-bottom: 1px solid var(--border-subtle);
    }

    .mobile-tab-panel-item:last-child {
        border-bottom: none;
    }

    .mobile-tab-panel-item:hover {
        background: var(--bg-elevated);
        color: var(--text-primary);
    }

    .mobile-tab-panel-item.active {
        background: linear-gradient(135deg, var(--accent-purple-20) 0%, transparent 100%);
        color: var(--accent-purple);
        border-left: 3px solid var(--accent-purple);
    }

    .mobile-tab-panel-item.active svg {
        color: var(--accent-purple);
    }

    .mobile-tab-panel-item svg {
        flex-shrink: 0;
        color: var(--text-muted);
    }

    .mobile-tab-panel-item span {
        font-size: var(--font-size-sm);
        font-weight: 500;
    }

    /* Overlay */
    .mobile-tab-overlay {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 998;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .mobile-tab-overlay.open {
        display: block;
        opacity: 1;
    }
}

/* ===========================================
   MOBILE STATUS IN QUICK ACTIONS
   =========================================== */

/* Hide on desktop by default */
.mobile-only {
    display: none !important;
}

/* Show on mobile/tablet */
@media (max-width: 1024px) {
    .mobile-only {
        display: flex !important;
    }

    .action-status {
        background: linear-gradient(135deg, var(--accent-green-15) 0%, var(--accent-green-08) 100%);
        border: 1px solid var(--accent-green-30);
        cursor: default;
        color: var(--accent-green);
    }

    .action-status.has-conditions {
        background: linear-gradient(135deg, var(--accent-red-20) 0%, var(--accent-red-10) 100%);
        border-color: var(--accent-red-35);
        color: var(--accent-red);
    }

    .action-status .status-ok {
        color: var(--accent-green);
    }

    .action-status .status-conditions {
        color: var(--accent-red);
        font-size: 0.85rem;
    }

    .action-worth {
        background: linear-gradient(135deg, var(--accent-amber-20) 0%, var(--accent-amber-20) 100%);
        border: 1px solid var(--accent-amber-35);
        cursor: default;
        color: var(--accent-amber);
    }

    .action-worth.worth-positive {
        background: linear-gradient(135deg, var(--accent-green-15) 0%, var(--accent-green-08) 100%);
        border-color: var(--accent-green-30);
        color: var(--accent-green);
    }

    .action-worth.worth-negative {
        background: linear-gradient(135deg, var(--accent-red-20) 0%, var(--accent-red-10) 100%);
        border-color: var(--accent-red-35);
        color: var(--accent-red);
    }
}

/* Desktop worthiness description */
.status-desc {
    font-size: 0.65rem;
    opacity: 0.7;
    margin-left: 4px;
}
